import{b as k,a as o,f as v,n as De,t as m,s as e,c as i}from"../chunks/disclose-version.Dxr0gsna.js";import{h as Te,p as Ae,a as Ie,a7 as g,g as c,d as qe,t as X,J as F,v as s,a5 as ie}from"../chunks/runtime.jOsey7ll.js";import{s as se,d as Se,a as Be}from"../chunks/render.DebiWJO9.js";import{i as Ne,p as Z}from"../chunks/proxy.Cl3psK3T.js";import{i as L}from"../chunks/if.Wn85vDr3.js";import{e as te,i as _e}from"../chunks/each.Dv7QH03A.js";import{c as Me}from"../chunks/svelte-component.CJWi5Rfx.js";import{s as Oe,r as xe}from"../chunks/attributes.BJddIwjt.js";import{s as ve}from"../chunks/style.iv2mhl8q.js";import{t as Ye,s as je}from"../chunks/index.YqYSqJjX.js";import{l as Fe}from"../chunks/shared.BSNRrXXz.js";import{s as de,p as He}from"../chunks/props.D7qg7EHC.js";import{u as Pe,s as Le,a as $e}from"../chunks/store.CiwmEv4D.js";import{w as Je}from"../chunks/index.lFeV5zGS.js";import{C as Ue}from"../chunks/Code.BVkDTZyU.js";import{A as We}from"../chunks/Alert.BUtgE5ME.js";import{T as Ge}from"../chunks/Tome_Detail.Biv7CnIw.js";import{g as Ke}from"../chunks/tome.B0jujVAD.js";import{D as U}from"../chunks/Dialog.fp8_1O6l.js";import{T as Qe}from"../chunks/Tome_Link.K_bM4psM.js";import{M as Ve}from"../chunks/Mdn_Link.D8ArhA4m.js";import{e as Xe}from"../chunks/svelte-element.KwJJhQxJ.js";function Ee(a,t,n){if(a.multiple)return et(a,t);for(var u of a.options){var f=ae(u);if(Ne(f,t)){u.selected=!0;return}}(!n||t!==void 0)&&(a.selectedIndex=-1)}function Ze(a,t){Te(()=>{var n=new MutationObserver(()=>{var u=a.__value;Ee(a,u)});return n.observe(a,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function we(a,t,n){var u=!0;Fe(a,"change",()=>{var f;if(a.multiple)f=[].map.call(a.querySelectorAll(":checked"),ae);else{var w=a.querySelector(":checked");f=w&&ae(w)}n(f)}),Te(()=>{var f=t();if(Ee(a,f,u),u&&f===void 0){var w=a.querySelector(":checked");w!==null&&(f=ae(w),n(f))}a.__value=f,u=!1}),Ze(a)}function et(a,t){for(var n of a.options)n.selected=~t.indexOf(ae(n))}function ae(a){return"__value"in a?a.__value:a.value}function tt(a,t){Ae(t,!0);const n={};Pe(n);const u=()=>Le(t.dialogs,"$dialogs",n);var f=k(),w=v(f);te(w,71,u,(E,y)=>g(E),(E,y,W)=>{var H=k(),G=v(H),J=qe(()=>g(W)===u().length-1);U(G,de({get onclose(){return t.onclose}},()=>g(y).dialog_props,{get index(){return g(W)},get active(){return c(J)},children:(D,O)=>{var oe=k(),le=v(oe);L(le,()=>t.children,K=>{var z=k(),Q=v(z);Oe(()=>t.children,Q,()=>g(y)),o(K,z)},K=>{var z=k(),Q=v(z);Me(Q,()=>g(y).Component,re=>{re(Q,de(()=>g(y).props))}),o(K,z)}),o(D,oe)},$$slots:{default:!0}})),o(E,H)}),o(a,f),Ie()}const at=(a,t,n)=>({Component:a,props:t,dialog_props:n}),ye=["centered","page"];function ot(a,t){const n=He(t,"tag",3,"span");var u=k(),f=v(u);Xe(f,n,!1,(w,E)=>{X(()=>{ve(w,"font-size",t.size),ve(w,"padding",t.padding)});var y=De(E);X(()=>se(y,t.text)),o(E,y)}),o(a,u)}var rt=(a,t)=>s(t,!0),nt=(a,t)=>s(t,!0),it=(a,t)=>s(t,!0),st=(a,t)=>s(t,!0),lt=(a,t)=>t(5),_t=m(`<section><p>A modal that overlays the entire page. Uses <!> to allow usage from any
			component without inheriting styles.</p> <aside>⚠️ This will change to use and align APIs with the builtin <!>. API</aside></section> <section><!></section> <section><button class="mb_lg">open a dialog</button> <button class="mb_lg">open a dialog that overflows vertically</button> <button class="mb_lg">open a dialog with <code>layout="page"</code> instead of the default <code>layout='centered'</code></button> <button class="mb_lg">open a dialog containing another dialog</button> <button class="mb_lg">open many dialogs</button></section>`,1),vt=m('<div class="pane p_xl box"><h1>attention</h1> <p>this is a dialog</p> <button>ok</button></div>'),dt=m("<p>this is a dialog that overflows vertically</p>"),ct=m('<div class="pane p_xl"><h1>attention</h1> <!> <button>close</button></div>'),ut=m("<option> </option>"),pt=m(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>.</p> <p>Instead of being centered by default, the dialog's contents are aligned to the top of
						the page and grow downward. It's useful when the dialog's contents change in height.</p>`,1),ft=m("<option> </option>"),gt=m(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>, the default value.</p> <p>It's often the best choice, but it can be undesirable in some situations, like when the
						height of the content changes as the user does things, leading to a janky experience.</p>`,1),mt=(a,t)=>t(),ht=(a,t)=>t(),bt=(a,t,n)=>t(g(n)),kt=m("gracefully",1),xt=m("ungracefully",1),$t=m("<p><button>✕</button> new stuff appears <!></p>"),wt=m('<div class="pane p_xl width_md"><!> <p><button>add item</button> <button>remove all</button></p> <!> <button type="button">close</button></div>'),yt=(a,t)=>s(t,!0),Dt=m('<div class="pane p_xl"><h1>dialog 1</h1> <p>dialogs can open more dialogs</p> <button>open another dialog</button></div>'),Tt=(a,t)=>s(t,!0),At=m('<div class="pane p_xl"><h1>dialog 2</h1> <p>this dialog can open more dialogs</p> <p>this is the second dialog</p> <button>open another dialog</button></div>'),It=(a,t)=>s(t,!1),Mt=(a,t,n,u)=>{s(t,Z(s(n,Z(s(u,!1)))))},Pt=m('<div class="pane p_xl"><h1>3 dialogs!</h1> <button>close dialog</button></div> <div class="pane p_xl"><h1>and another <code>.pane</code></h1> <button>close all dialogs</button></div>',1),Lt=m('<div class="pane"><!></div>'),Et=m("<!> <!> <!> <!> <!> <!> <!> <!>",1);function ta(a,t){Ae(t,!0);const n={};Pe(n);const u=()=>Le(z,"$dialogs",n),w=Ke("Dialog");let E=F(!1),y=F(!1),W=F(!1),H=F(!1),G=F(!1),J=F(!1),D=F("page"),O=F(Z([]));const oe=l=>{s(O,Z(c(O).filter(r=>r!==l)))},le=()=>{s(O,Z(c(O).concat({})))},K=()=>{s(O,Z([]))},z=Je([]),Q=l=>{const r=_=>"!".repeat(l*3-_*3);$e(z,Array.from({length:l},(_,d)=>at(ot,{text:r(d),size:"var(--size_xl4)",padding:"var(--space_sm) var(--space_lg)"})))};var re=Et(),ce=v(re);Ge(ce,{tome:w,children:(l,r)=>{var _=_t(),d=v(_),$=i(d),h=e(i($));Qe(h,{name:"Teleport"});var p=e(e($,!0)),x=e(i(p));Ve(x,{href:"Web/HTML/Element/dialog"});var b=e(e(d,!0)),T=i(b);Ue(T,{content:`<button onclick={() => (opened = true)}>
	open a dialog
</button>
{#if opened}
	<Dialog onclose={() => (opened = false)}>
		{#snippet children(close)}
			<div class="pane p_xl box">
				<h1>attention</h1>
				<p>this is a dialog</p>
				<button onclick={close}>ok</button>
			</div>
		{/snippet}
	</Dialog>
{/if}`});var Y=e(e(b,!0)),j=i(Y);j.__click=[rt,E];var ee=e(e(j,!0));ee.__click=[nt,y];var A=e(e(ee,!0));A.__click=[it,W];var P=e(e(A,!0));P.__click=[st,H];var V=e(e(P,!0));V.__click=[lt,Q],o(l,_)},$$slots:{default:!0}});var ue=e(e(ce,!0));L(ue,()=>c(E),l=>{var r=k(),_=v(r);{var d=($,h=ie)=>{var p=vt(),x=i(p),b=e(e(x,!0)),T=e(e(b,!0));T.__click=h(),o($,p)};U(_,{onclose:()=>s(E,!1),children:d})}o(l,r)});var pe=e(e(ue,!0));L(pe,()=>c(y),l=>{var r=k(),_=v(r);{var d=($,h=ie)=>{var p=ct(),x=i(p),b=e(e(x,!0));te(b,65,()=>({length:120}),_e,(Y,j,ee)=>{var A=dt();o(Y,A)});var T=e(e(b,!0));T.__click=h(),o($,p)};U(_,{onclose:()=>s(y,!1),children:d})}o(l,r)});var fe=e(e(pe,!0));L(fe,()=>c(W),l=>{var r=k(),_=v(r);{var d=($,h=ie)=>{var p=wt(),x=i(p);L(x,()=>c(D)==="page",A=>{var P=pt(),V=v(P),q=e(i(V)),C=e(e(q,!0)),S=e(i(C));xe(S),te(S,73,()=>ye,_e,(I,M,B)=>{var R=ut(),N,be=i(R);X(()=>{N!==(N=g(M))&&(R.value=(R.__value=g(M))==null?"":g(M)),se(be,g(M))}),o(I,R)}),we(S,()=>c(D),I=>s(D,I)),o(A,P)},A=>{var P=k(),V=v(P);L(V,()=>c(D)==="centered",q=>{var C=gt(),S=v(C),I=e(i(S)),M=e(e(I,!0)),B=e(i(M));xe(B),te(B,73,()=>ye,_e,(R,N,be)=>{var ne=ft(),ke,Re=i(ne);X(()=>{ke!==(ke=g(N))&&(ne.value=(ne.__value=g(N))==null?"":g(N)),se(Re,g(N))}),o(R,ne)}),we(B,()=>c(D),R=>s(D,R)),o(q,C)},q=>{var C=k(),S=v(C);We(S,{status:"error",children:(I,M)=>{var B=De(I);X(()=>se(B,`eek a bug! unknown layout "${Be(c(D))}"`)),o(I,B)},$$slots:{default:!0}}),o(q,C)},!0),o(A,P)});var b=e(e(x,!0)),T=i(b);T.__click=[mt,le];var Y=e(e(T,!0));Y.__click=[ht,K];var j=e(e(b,!0));te(j,68,()=>c(O),(A,P)=>g(A),(A,P,V)=>{var q=$t();Ye(3,q,()=>je);var C=i(q);C.__click=[bt,oe,P];var S=e(e(C,!0));L(S,()=>c(D)==="page",I=>{var M=kt();o(I,M)},I=>{var M=k(),B=v(M);L(B,()=>c(D)==="centered",R=>{var N=xt();o(R,N)},null,!0),o(I,M)}),o(A,q)});var ee=e(e(j,!0));ee.__click=h(),X(()=>Y.disabled=!c(O).length),o($,p)};U(_,{onclose:()=>(s(W,!1),K()),get layout(){return c(D)},children:d})}o(l,r)});var ge=e(e(fe,!0));L(ge,()=>c(H),l=>{var r=k(),_=v(r);U(_,{onclose:()=>s(H,!1),children:(d,$)=>{var h=Dt(),p=i(h),x=e(e(p,!0)),b=e(e(x,!0));b.__click=[yt,G],o(d,h)},$$slots:{default:!0}}),o(l,r)});var me=e(e(ge,!0));L(me,()=>c(G),l=>{var r=k(),_=v(r);U(_,{onclose:()=>s(G,!1),children:(d,$)=>{var h=At(),p=i(h),x=e(e(p,!0)),b=e(e(x,!0)),T=e(e(b,!0));T.__click=[Tt,J],o(d,h)},$$slots:{default:!0}}),o(l,r)});var he=e(e(me,!0));L(he,()=>c(J),l=>{var r=k(),_=v(r);U(_,{onclose:()=>s(J,!1),children:(d,$)=>{var h=Pt(),p=v(h);ve(p,"margin-bottom","var(--space_xl3)");var x=i(p),b=e(e(x,!0));b.__click=[It,J];var T=e(e(p,!0)),Y=i(T),j=e(e(Y,!0));j.__click=[Mt,H,G,J],o(d,h)},$$slots:{default:!0}}),o(l,r)});var ze=e(e(he,!0));{var Ce=(l,r=ie)=>{var _=Lt(),d=i(_);Me(d,()=>r().Component,$=>{$(d,de(()=>r().props))}),o(l,_)};tt(ze,{dialogs:z,onclose:()=>{$e(z,u().slice(0,-1))},children:Ce})}o(a,re),Ie()}Se(["click"]);export{ta as component};
