import{b as k,a as o,f as v,m as ye,t as m,s as e,c as i}from"../chunks/disclose-version.Cn34XsOG.js";import{i as Te,p as Ae,a as Ie,a5 as f,g as d,d as Re,t as V,I as F,w as s,K as ie}from"../chunks/runtime.BfbL1yzw.js";import{s as se,d as qe}from"../chunks/render.C00J2V9t.js";import{i as Se,p as X}from"../chunks/proxy.D8DqJ-TI.js";import{i as L}from"../chunks/if.C89d7gbo.js";import{e as te,i as _e}from"../chunks/each.Cpc7ycko.js";import{c as De}from"../chunks/svelte-component.DR20YPAc.js";import{s as ve}from"../chunks/style.iv2mhl8q.js";import{t as Be,s as Ne}from"../chunks/index.BzqfvfAR.js";import{l as Oe}from"../chunks/shared.BfCTMsMR.js";import{s as de,p as Ye}from"../chunks/props.DgnxCcAK.js";import{u as Me,s as Pe,a as xe}from"../chunks/store.B8YvmUMz.js";import{w as je}from"../chunks/index.CrTjDu9p.js";import{C as Fe}from"../chunks/Code.BzpMS9Yb.js";import{A as He}from"../chunks/Alert.BkyExKaj.js";import{T as Ke}from"../chunks/Tome_Detail.Crp7ggTJ.js";import{g as Ue}from"../chunks/tome.D9d-FD4c.js";import{D as U}from"../chunks/Dialog.6FO1Vggx.js";import{T as We}from"../chunks/Tome_Link.D8FYXnoA.js";import{M as Ge}from"../chunks/Mdn_Link.BhbKdGzo.js";import{s as Je}from"../chunks/attributes.CLZu-M2Q.js";import{e as Qe}from"../chunks/svelte-element.j74msnys.js";function Le(a,t,n){if(a.multiple)return Xe(a,t);for(var c of a.options){var g=ae(c);if(Se(g,t)){c.selected=!0;return}}(!n||t!==void 0)&&(a.selectedIndex=-1)}function Ve(a,t){Te(()=>{var n=new MutationObserver(()=>{var c=a.__value;Le(a,c)});return n.observe(a,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function we(a,t,n){var c=!0;Oe(a,"change",()=>{var g;if(a.multiple)g=[].map.call(a.querySelectorAll(":checked"),ae);else{var $=a.querySelector(":checked");g=$&&ae($)}n(g)}),Te(()=>{var g=t();if(Le(a,g,c),c&&g===void 0){var $=a.querySelector(":checked");$!==null&&(g=ae($),n(g))}a.__value=g,c=!1}),Ve(a)}function Xe(a,t){for(var n of a.options)n.selected=~t.indexOf(ae(n))}function ae(a){return"__value"in a?a.__value:a.value}function Ze(a,t){Ae(t,!0);const n={};Me(n);const c=()=>Pe(t.dialogs,"$dialogs",n);var g=k(),$=v(g);te($,71,c,(E,y)=>f(E),(E,y,W)=>{var H=k(),G=v(H),K=Re(()=>f(W)===c().length-1);U(G,de({get onclose(){return t.onclose}},()=>f(y).dialog_props,{get index(){return f(W)},get active(){return d(K)},children:(T,B)=>{var oe=k(),le=v(oe);L(le,()=>t.children,J=>{var z=k(),Z=v(z);Je(()=>t.children,Z,()=>f(y)),o(J,z)},J=>{var z=k(),Z=v(z);De(()=>f(y).Component,re=>{re(Z,de(()=>f(y).props))}),o(J,z)}),o(T,oe)},$$slots:{default:!0}})),o(E,H)}),o(a,g),Ie()}const et=(a,t,n)=>({Component:a,props:t,dialog_props:n}),$e=["centered","page"];function tt(a,t){const n=Ye(t,"tag",3,"span");var c=k(),g=v(c);Qe(g,n,!1,($,E)=>{V(()=>{ve($,"font-size",t.size),ve($,"padding",t.padding)});var y=ye(E);V(()=>se(y,t.text)),o(E,y)}),o(a,c)}var at=(a,t)=>s(t,!0),ot=(a,t)=>s(t,!0),rt=(a,t)=>s(t,!0),nt=(a,t)=>s(t,!0),it=(a,t)=>t(5),st=m(`<section><p>A modal that overlays the entire page. Uses <!> to allow usage from any
			component without inheriting styles.</p> <aside>⚠️ This will change to use and align APIs with the builtin <!>. API</aside></section> <section><!></section> <section><button class="mb_lg">open a dialog</button> <button class="mb_lg">open a dialog that overflows vertically</button> <button class="mb_lg">open a dialog with <code>layout="page"</code> instead of the default <code>layout='centered'</code></button> <button class="mb_lg">open a dialog containing another dialog</button> <button class="mb_lg">open many dialogs</button></section>`,1),lt=m('<div class="pane p_xl box"><h1>attention</h1> <p>this is a dialog</p> <button>ok</button></div>'),_t=m("<p>this is a dialog that overflows vertically</p>"),vt=m('<div class="pane p_xl"><h1>attention</h1> <!> <button>close</button></div>'),dt=m("<option> </option>"),ct=m(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>.</p> <p>Instead of being centered by default, the dialog's contents are aligned to the top of
						the page and grow downward. It's useful when the dialog's contents change in height.</p>`,1),ut=m("<option> </option>"),pt=m(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>, the default value.</p> <p>It's often the best choice, but it can be undesirable in some situations, like when the
						height of the content changes as the user does things, leading to a janky experience.</p>`,1),gt=(a,t)=>t(),ft=(a,t)=>t(),mt=(a,t,n)=>t(f(n)),ht=m("gracefully",1),bt=m("ungracefully",1),kt=m("<p><button>✕</button> new stuff appears <!></p>"),xt=m('<div class="pane p_xl width_md"><!> <p><button>add item</button> <button>remove all</button></p> <!> <button type="button">close</button></div>'),wt=(a,t)=>s(t,!0),$t=m('<div class="pane p_xl"><h1>dialog 1</h1> <p>dialogs can open more dialogs</p> <button>open another dialog</button></div>'),yt=(a,t)=>s(t,!0),Tt=m('<div class="pane p_xl"><h1>dialog 2</h1> <p>this dialog can open more dialogs</p> <p>this is the second dialog</p> <button>open another dialog</button></div>'),At=(a,t)=>s(t,!1),It=(a,t,n,c)=>{s(t,X(s(n,X(s(c,!1)))))},Dt=m('<div class="pane p_xl"><h1>3 dialogs!</h1> <button>close dialog</button></div> <div class="pane p_xl"><h1>and another <code>.pane</code></h1> <button>close all dialogs</button></div>',1),Mt=m('<div class="pane"><!></div>'),Pt=m("<!> <!> <!> <!> <!> <!> <!> <!>",1);function Zt(a,t){Ae(t,!0);const n={};Me(n);const c=()=>Pe(z,"$dialogs",n),$=Ue("Dialog");let E=F(!1),y=F(!1),W=F(!1),H=F(!1),G=F(!1),K=F(!1),T=F("page"),B=F(X([]));const oe=l=>{s(B,X(d(B).filter(r=>r!==l)))},le=()=>{s(B,X(d(B).concat({})))},J=()=>{s(B,X([]))},z=je([]),Z=l=>{const r=_=>"!".repeat(l*3-_*3);xe(z,Array.from({length:l},(_,u)=>et(tt,{text:r(u),size:"var(--size_xl4)",padding:"var(--space_sm) var(--space_lg)"})))};var re=Pt(),ce=v(re);Ke(ce,{tome:$,children:(l,r)=>{var _=st(),u=v(_),w=i(u),h=e(i(w));We(h,{name:"Teleport"});var p=e(e(w,!0)),x=e(i(p));Ge(x,{href:"Web/HTML/Element/dialog"});var b=e(e(u,!0)),A=i(b);Fe(A,{content:`<button onclick={() => (opened = true)}>
	open a dialog
</button>
{#if opened}
	<Dialog onclose={() => (opened = false)}>
		{#snippet children(close)}
			<div class="pane p_xl box">
				<h1>attention</h1>
				<p>this is a dialog</p>
				<button onclick={close}>ok</button>
			</div>
		{/snippet}
	</Dialog>
{/if}`});var N=e(e(b,!0)),O=i(N);O.__click=[at,E];var ee=e(e(O,!0));ee.__click=[ot,y];var I=e(e(ee,!0));I.__click=[rt,W];var P=e(e(I,!0));P.__click=[nt,H];var Q=e(e(P,!0));Q.__click=[it,Z],o(l,_)},$$slots:{default:!0}});var ue=e(e(ce,!0));L(ue,()=>d(E),l=>{var r=k(),_=v(r);{var u=(w,h=ie)=>{var p=lt(),x=i(p),b=e(e(x,!0)),A=e(e(b,!0));A.__click=h(),o(w,p)};U(_,{onclose:()=>s(E,!1),children:u})}o(l,r)});var pe=e(e(ue,!0));L(pe,()=>d(y),l=>{var r=k(),_=v(r);{var u=(w,h=ie)=>{var p=vt(),x=i(p),b=e(e(x,!0));te(b,65,()=>({length:120}),_e,(N,O,ee)=>{var I=_t();o(N,I)});var A=e(e(b,!0));A.__click=h(),o(w,p)};U(_,{onclose:()=>s(y,!1),children:u})}o(l,r)});var ge=e(e(pe,!0));L(ge,()=>d(W),l=>{var r=k(),_=v(r);{var u=(w,h=ie)=>{var p=xt(),x=i(p);L(x,()=>d(T)==="page",I=>{var P=ct(),Q=v(P),q=e(i(Q)),C=e(e(q,!0)),Y=e(i(C));te(Y,73,()=>$e,_e,(D,M,j)=>{var R=dt(),S,be=i(R);V(()=>{S!==(S=f(M))&&(R.value=(R.__value=f(M))==null?"":f(M)),se(be,f(M))}),o(D,R)}),we(Y,()=>d(T),D=>s(T,D)),o(I,P)},I=>{var P=k(),Q=v(P);L(Q,()=>d(T)==="centered",q=>{var C=pt(),Y=v(C),D=e(i(Y)),M=e(e(D,!0)),j=e(i(M));te(j,73,()=>$e,_e,(R,S,be)=>{var ne=ut(),ke,Ce=i(ne);V(()=>{ke!==(ke=f(S))&&(ne.value=(ne.__value=f(S))==null?"":f(S)),se(Ce,f(S))}),o(R,ne)}),we(j,()=>d(T),R=>s(T,R)),o(q,C)},q=>{var C=k(),Y=v(C);He(Y,{status:"error",children:(D,M)=>{var j=ye(D);V(()=>se(j,`eek a bug! unknown layout "${d(T)??""}"`)),o(D,j)},$$slots:{default:!0}}),o(q,C)},!0),o(I,P)});var b=e(e(x,!0)),A=i(b);A.__click=[gt,le];var N=e(e(A,!0));N.__click=[ft,J];var O=e(e(b,!0));te(O,68,()=>d(B),(I,P)=>f(I),(I,P,Q)=>{var q=kt();Be(3,q,()=>Ne);var C=i(q);C.__click=[mt,oe,P];var Y=e(e(C,!0));L(Y,()=>d(T)==="page",D=>{var M=ht();o(D,M)},D=>{var M=k(),j=v(M);L(j,()=>d(T)==="centered",R=>{var S=bt();o(R,S)},null,!0),o(D,M)}),o(I,q)});var ee=e(e(O,!0));ee.__click=h(),V(()=>N.disabled=!d(B).length),o(w,p)};U(_,{onclose:()=>(s(W,!1),J()),get layout(){return d(T)},children:u})}o(l,r)});var fe=e(e(ge,!0));L(fe,()=>d(H),l=>{var r=k(),_=v(r);U(_,{onclose:()=>s(H,!1),children:(u,w)=>{var h=$t(),p=i(h),x=e(e(p,!0)),b=e(e(x,!0));b.__click=[wt,G],o(u,h)},$$slots:{default:!0}}),o(l,r)});var me=e(e(fe,!0));L(me,()=>d(G),l=>{var r=k(),_=v(r);U(_,{onclose:()=>s(G,!1),children:(u,w)=>{var h=Tt(),p=i(h),x=e(e(p,!0)),b=e(e(x,!0)),A=e(e(b,!0));A.__click=[yt,K],o(u,h)},$$slots:{default:!0}}),o(l,r)});var he=e(e(me,!0));L(he,()=>d(K),l=>{var r=k(),_=v(r);U(_,{onclose:()=>s(K,!1),children:(u,w)=>{var h=Dt(),p=v(h);ve(p,"margin-bottom","var(--space_xl3)");var x=i(p),b=e(e(x,!0));b.__click=[At,K];var A=e(e(p,!0)),N=i(A),O=e(e(N,!0));O.__click=[It,H,G,K],o(u,h)},$$slots:{default:!0}}),o(l,r)});var Ee=e(e(he,!0));{var ze=(l,r=ie)=>{var _=Mt(),u=i(_);De(()=>r().Component,w=>{w(u,de(()=>r().props))}),o(l,_)};Ze(Ee,{dialogs:z,onclose:()=>{xe(z,c().slice(0,-1))},children:ze})}o(a,re),Ie()}qe(["click"]);export{Zt as component};
