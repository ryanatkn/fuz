import{b as k,a,f as v,m as $t,t as m,s as t,c as i}from"../chunks/disclose-version.BPChegCu.js";import{i as Tt,p as At,a as It,a5 as f,g as d,d as Rt,t as V,I as F,w as s,K as it}from"../chunks/runtime.TAR74xOU.js";import{s as st,d as qt}from"../chunks/render.CccNZJne.js";import{i as St,p as X}from"../chunks/proxy.Gev7vO7-.js";import{i as L}from"../chunks/if.CZPAuhxQ.js";import{e as et,i as _t}from"../chunks/each.B4SVwQLs.js";import{c as Dt}from"../chunks/svelte-component.CL-pErbc.js";import{s as vt}from"../chunks/style.iv2mhl8q.js";import{t as Bt,s as Nt}from"../chunks/index.CWXKHwqc.js";import{l as Ot}from"../chunks/shared.7f4bI-3W.js";import{s as dt,p as Yt}from"../chunks/props.DJpCjvQe.js";import{u as Mt,s as Pt,a as yt}from"../chunks/store.Kx7Nrgr2.js";import{w as jt}from"../chunks/index.B5Dp4pE-.js";import{C as Ft}from"../chunks/Code.CipLiXoy.js";import{A as Ht}from"../chunks/Alert.DEtZMPad.js";import{T as Kt}from"../chunks/Tome_Detail.Bn7h2gFg.js";import{g as Ut}from"../chunks/tome.Dl_Z6kQH.js";import{D as U}from"../chunks/Dialog.CEPSNM_T.js";import{T as Wt}from"../chunks/Tome_Link.Bv8Fbo-L.js";import{M as Gt}from"../chunks/Mdn_Link.DkPuPDnO.js";import{s as Jt}from"../chunks/attributes.D8CXHLTl.js";import{e as Qt}from"../chunks/svelte-element.ByHsX1rv.js";function Lt(o,e,n){if(o.multiple)return Xt(o,e);for(var c of o.options){var g=ot(c);if(St(g,e)){c.selected=!0;return}}(!n||e!==void 0)&&(o.selectedIndex=-1)}function Vt(o,e){Tt(()=>{var n=new MutationObserver(()=>{var c=o.__value;Lt(o,c)});return n.observe(o,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function xt(o,e,n){var c=!0;Ot(o,"change",()=>{var g;if(o.multiple)g=[].map.call(o.querySelectorAll(":checked"),ot);else{var w=o.querySelector(":checked");g=w&&ot(w)}n(g)}),Tt(()=>{var g=e();if(Lt(o,g,c),c&&g===void 0){var w=o.querySelector(":checked");w!==null&&(g=ot(w),n(g))}o.__value=g,c=!1}),Vt(o)}function Xt(o,e){for(var n of o.options)n.selected=~e.indexOf(ot(n))}function ot(o){return"__value"in o?o.__value:o.value}function Zt(o,e){At(e,!0);const n={};Mt(n);const c=()=>Pt(e.dialogs,"$dialogs",n);var g=k(),w=v(g);et(w,71,c,(E,$)=>f(E),(E,$,W)=>{var H=k(),G=v(H),K=Rt(()=>f(W)===c().length-1);U(G,dt({get onclose(){return e.onclose}},()=>f($).dialog_props,{get index(){return f(W)},get active(){return d(K)},children:(T,B)=>{var at=k(),lt=v(at);L(lt,()=>e.children,J=>{var z=k(),Z=v(z);Jt(()=>e.children,Z,()=>f($)),a(J,z)},J=>{var z=k(),Z=v(z);Dt(()=>f($).Component,rt=>{rt(Z,dt(()=>f($).props))}),a(J,z)}),a(T,at)},$$slots:{default:!0}})),a(E,H)}),a(o,g),It()}const te=(o,e,n)=>({Component:o,props:e,dialog_props:n}),wt=["centered","page"];function ee(o,e){const n=Yt(e,"tag",3,"span");var c=k(),g=v(c);Qt(g,n,!1,(w,E)=>{V(()=>{vt(w,"font-size",e.size),vt(w,"padding",e.padding)});var $=$t(E);V(()=>st($,e.text)),a(E,$)}),a(o,c)}var oe=(o,e)=>s(e,!0),ae=(o,e)=>s(e,!0),re=(o,e)=>s(e,!0),ne=(o,e)=>s(e,!0),ie=(o,e)=>e(5),se=m(`<section><p>A modal that overlays the entire page. Uses <!> to allow usage from any
			component without inheriting styles.</p> <aside>⚠️ This will change to use and align APIs with the builtin <!>. API</aside></section> <section><!></section> <section><button type="button" class="mb_lg">open a dialog</button> <button type="button" class="mb_lg">open a dialog that overflows vertically</button> <button type="button" class="mb_lg">open a dialog with <code>layout="page"</code> instead of the default <code>layout='centered'</code></button> <button type="button" class="mb_lg">open a dialog containing another dialog</button> <button type="button" class="mb_lg">open many dialogs</button></section>`,1),le=m('<div class="pane p_xl box"><h1>attention</h1> <p>this is a dialog</p> <button type="button">ok</button></div>'),_e=m("<p>this is a dialog that overflows vertically</p>"),ve=m('<div class="pane p_xl"><h1>attention</h1> <!> <button type="button">close</button></div>'),de=m("<option> </option>"),ce=m(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>.</p> <p>Instead of being centered by default, the dialog's contents are aligned to the top of
						the page and grow downward. It's useful when the dialog's contents change in height.</p>`,1),ue=m("<option> </option>"),pe=m(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>, the default value.</p> <p>It's often the best choice, but it can be undesirable in some situations, like when the
						height of the content changes as the user does things, leading to a janky experience.</p>`,1),ge=(o,e)=>e(),fe=(o,e)=>e(),me=(o,e,n)=>e(f(n)),be=m("gracefully",1),he=m("ungracefully",1),ke=m('<p><button type="button">✕</button> new stuff appears <!></p>'),ye=m('<div class="pane p_xl width_md"><!> <p><button type="button">add item</button> <button type="button">remove all</button></p> <!> <button type="button">close</button></div>'),xe=(o,e)=>s(e,!0),we=m('<div class="pane p_xl"><h1>dialog 1</h1> <p>dialogs can open more dialogs</p> <button type="button">open another dialog</button></div>'),$e=(o,e)=>s(e,!0),Te=m('<div class="pane p_xl"><h1>dialog 2</h1> <p>this dialog can open more dialogs</p> <p>this is the second dialog</p> <button type="button">open another dialog</button></div>'),Ae=(o,e)=>s(e,!1),Ie=(o,e,n,c)=>{s(e,X(s(n,X(s(c,!1)))))},De=m('<div class="pane p_xl"><h1>3 dialogs!</h1> <button type="button">close dialog</button></div> <div class="pane p_xl"><h1>and another <code>.pane</code></h1> <button type="button">close all dialogs</button></div>',1),Me=m('<div class="pane"><!></div>'),Pe=m("<!> <!> <!> <!> <!> <!> <!> <!>",1);function Ze(o,e){At(e,!0);const n={};Mt(n);const c=()=>Pt(z,"$dialogs",n),w=Ut("Dialog");let E=F(!1),$=F(!1),W=F(!1),H=F(!1),G=F(!1),K=F(!1),T=F("page"),B=F(X([]));const at=l=>{s(B,X(d(B).filter(r=>r!==l)))},lt=()=>{s(B,X(d(B).concat({})))},J=()=>{s(B,X([]))},z=jt([]),Z=l=>{const r=_=>"!".repeat(l*3-_*3);yt(z,Array.from({length:l},(_,u)=>te(ee,{text:r(u),size:"var(--size_xl4)",padding:"var(--space_sm) var(--space_lg)"})))};var rt=Pe(),ct=v(rt);Kt(ct,{tome:w,children:(l,r)=>{var _=se(),u=v(_),x=i(u),b=t(i(x));Wt(b,{name:"Teleport"});var p=t(t(x,!0)),y=t(i(p));Gt(y,{path:"Web/HTML/Element/dialog"});var h=t(t(u,!0)),A=i(h);Ft(A,{content:`<button onclick={() => (opened = true)}>
	open a dialog
</button>
{#if opened}
	<Dialog onclose={() => (opened = false)}>
		{#snippet children(close)}
			<div class="pane p_xl box">
				<h1>attention</h1>
				<p>this is a dialog</p>
				<button onclick={close}>ok</button>
			</div>
		{/snippet}
	</Dialog>
{/if}`});var N=t(t(h,!0)),O=i(N);O.__click=[oe,E];var tt=t(t(O,!0));tt.__click=[ae,$];var I=t(t(tt,!0));I.__click=[re,W];var P=t(t(I,!0));P.__click=[ne,H];var Q=t(t(P,!0));Q.__click=[ie,Z],a(l,_)},$$slots:{default:!0}});var ut=t(t(ct,!0));L(ut,()=>d(E),l=>{var r=k(),_=v(r);{var u=(x,b=it)=>{var p=le(),y=i(p),h=t(t(y,!0)),A=t(t(h,!0));A.__click=b(),a(x,p)};U(_,{onclose:()=>s(E,!1),children:u})}a(l,r)});var pt=t(t(ut,!0));L(pt,()=>d($),l=>{var r=k(),_=v(r);{var u=(x,b=it)=>{var p=ve(),y=i(p),h=t(t(y,!0));et(h,65,()=>({length:120}),_t,(N,O,tt)=>{var I=_e();a(N,I)});var A=t(t(h,!0));A.__click=b(),a(x,p)};U(_,{onclose:()=>s($,!1),children:u})}a(l,r)});var gt=t(t(pt,!0));L(gt,()=>d(W),l=>{var r=k(),_=v(r);{var u=(x,b=it)=>{var p=ye(),y=i(p);L(y,()=>d(T)==="page",I=>{var P=ce(),Q=v(P),q=t(i(Q)),C=t(t(q,!0)),Y=t(i(C));et(Y,73,()=>wt,_t,(D,M,j)=>{var R=de(),S,ht=i(R);V(()=>{S!==(S=f(M))&&(R.value=(R.__value=f(M))==null?"":f(M)),st(ht,f(M))}),a(D,R)}),xt(Y,()=>d(T),D=>s(T,D)),a(I,P)},I=>{var P=k(),Q=v(P);L(Q,()=>d(T)==="centered",q=>{var C=pe(),Y=v(C),D=t(i(Y)),M=t(t(D,!0)),j=t(i(M));et(j,73,()=>wt,_t,(R,S,ht)=>{var nt=ue(),kt,Ct=i(nt);V(()=>{kt!==(kt=f(S))&&(nt.value=(nt.__value=f(S))==null?"":f(S)),st(Ct,f(S))}),a(R,nt)}),xt(j,()=>d(T),R=>s(T,R)),a(q,C)},q=>{var C=k(),Y=v(C);Ht(Y,{status:"error",children:(D,M)=>{var j=$t(D);V(()=>st(j,`eek a bug! unknown layout "${d(T)??""}"`)),a(D,j)},$$slots:{default:!0}}),a(q,C)},!0),a(I,P)});var h=t(t(y,!0)),A=i(h);A.__click=[ge,lt];var N=t(t(A,!0));N.__click=[fe,J];var O=t(t(h,!0));et(O,68,()=>d(B),(I,P)=>f(I),(I,P,Q)=>{var q=ke();Bt(3,q,()=>Nt);var C=i(q);C.__click=[me,at,P];var Y=t(t(C,!0));L(Y,()=>d(T)==="page",D=>{var M=be();a(D,M)},D=>{var M=k(),j=v(M);L(j,()=>d(T)==="centered",R=>{var S=he();a(R,S)},null,!0),a(D,M)}),a(I,q)});var tt=t(t(O,!0));tt.__click=b(),V(()=>N.disabled=!d(B).length),a(x,p)};U(_,{onclose:()=>(s(W,!1),J()),get layout(){return d(T)},children:u})}a(l,r)});var ft=t(t(gt,!0));L(ft,()=>d(H),l=>{var r=k(),_=v(r);U(_,{onclose:()=>s(H,!1),children:(u,x)=>{var b=we(),p=i(b),y=t(t(p,!0)),h=t(t(y,!0));h.__click=[xe,G],a(u,b)},$$slots:{default:!0}}),a(l,r)});var mt=t(t(ft,!0));L(mt,()=>d(G),l=>{var r=k(),_=v(r);U(_,{onclose:()=>s(G,!1),children:(u,x)=>{var b=Te(),p=i(b),y=t(t(p,!0)),h=t(t(y,!0)),A=t(t(h,!0));A.__click=[$e,K],a(u,b)},$$slots:{default:!0}}),a(l,r)});var bt=t(t(mt,!0));L(bt,()=>d(K),l=>{var r=k(),_=v(r);U(_,{onclose:()=>s(K,!1),children:(u,x)=>{var b=De(),p=v(b);vt(p,"margin-bottom","var(--space_xl3)");var y=i(p),h=t(t(y,!0));h.__click=[Ae,K];var A=t(t(p,!0)),N=i(A),O=t(t(N,!0));O.__click=[Ie,H,G,K],a(u,b)},$$slots:{default:!0}}),a(l,r)});var Et=t(t(bt,!0));{var zt=(l,r=it)=>{var _=Me(),u=i(_);Dt(()=>r().Component,x=>{x(u,dt(()=>r().props))}),a(l,_)};Zt(Et,{dialogs:z,onclose:()=>{yt(z,c().slice(0,-1))},children:zt})}a(o,rt),It()}qt(["click"]);export{Ze as component};
