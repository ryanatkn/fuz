import{l as St,c as J,a as _,j as st,t as x,k as jt}from"../chunks/CbbyqTNh.js";import{m as Tt,p as At,f as q,a as It,g as n,d as Bt,t as V,a2 as j,s as o,k as l,G as d,a0 as B,l as r,$ as lt}from"../chunks/C9aPwLmV.js";import{s as _t}from"../chunks/Bb4_Y-AM.js";import{b as Nt,i as L,p as N}from"../chunks/DSlEI_lp.js";import{e as ot,i as ct}from"../chunks/DT_pRE8c.js";import{c as Dt}from"../chunks/Rlv9gwue.js";import{t as Ot,s as Yt}from"../chunks/BIdpjkft.js";import{s as ut,p as Ft}from"../chunks/2t0GVDdd.js";import{C as Gt}from"../chunks/B0TzJDWH.js";import{A as Ht}from"../chunks/Dd7qUUup.js";import{T as Ut}from"../chunks/w-uO6N6p.js";import{g as Wt}from"../chunks/CZkh00SW.js";import{D as W}from"../chunks/CpPa2AI6.js";import{T as Jt}from"../chunks/MiUogaKh.js";import{M as Kt}from"../chunks/XqTKMPHZ.js";import{s as Qt}from"../chunks/DGBAUQNC.js";import{e as Vt}from"../chunks/D3Y0gN4q.js";import{s as xt}from"../chunks/PwPRnE0L.js";function Mt(e,t,v){if(e.multiple)return Zt(e,t);for(var p of e.options){var c=at(p);if(Nt(c,t)){p.selected=!0;return}}(!v||t!==void 0)&&(e.selectedIndex=-1)}function Xt(e,t){Tt(()=>{var v=new MutationObserver(()=>{var p=e.__value;Mt(e,p)});return v.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{v.disconnect()}})}function yt(e,t,v=t){var p=!0;St(e,"change",c=>{var f=c?"[selected]":":checked",T;if(e.multiple)T=[].map.call(e.querySelectorAll(f),at);else{var A=e.querySelector(f)??e.querySelector("option:not([disabled])");T=A&&at(A)}v(T)}),Tt(()=>{var c=t();if(Mt(e,c,p),p&&c===void 0){var f=e.querySelector(":checked");f!==null&&(c=at(f),v(c))}e.__value=c,p=!1}),Xt(e)}function Zt(e,t){for(var v of e.options)v.selected=~t.indexOf(at(v))}function at(e){return"__value"in e?e.__value:e.value}function te(e,t){At(t,!0);var v=J(),p=q(v);ot(p,18,()=>t.dialogs,c=>c,(c,f,T)=>{const A=Bt(()=>n(T)===t.dialogs.length-1);W(c,ut({get onclose(){return t.onclose}},()=>f.dialog_props,{get index(){return n(T)},get active(){return n(A)},children:(K,Q)=>{var y=J(),E=q(y);{var dt=z=>{var C=J(),X=q(C);Qt(X,()=>t.children,()=>f),_(z,C)},vt=z=>{var C=J(),X=q(C);Dt(X,()=>f.Component,(nt,rt)=>{rt(nt,ut(()=>f.props))}),_(z,C)};L(E,z=>{t.children?z(dt):z(vt,!1)})}_(K,y)},$$slots:{default:!0}}))}),_(e,v),It()}const ee=(e,t,v)=>({Component:e,props:t,dialog_props:v}),wt=["centered","page"];function oe(e,t){const v=Ft(t,"tag",3,"span");var p=J(),c=q(p);Vt(c,v,!1,(f,T)=>{V(()=>{xt(f,"font-size",t.size),xt(f,"padding",t.padding)});var A=st();V(()=>_t(A,t.text)),_(T,A)}),_(e,p)}var ae=(e,t)=>d(t,!0),ne=(e,t)=>d(t,!0),re=(e,t)=>d(t,!0),ie=(e,t)=>d(t,!0),le=(e,t)=>t(5),se=x(`<section><p>A modal that overlays the entire page. Uses <!> to allow usage from any
			component without inheriting styles.</p> <aside>⚠️ This will change to use and align APIs with the builtin <!>. API</aside></section> <section><!></section> <section><button type="button" class="mb_lg">open a dialog</button> <button type="button" class="mb_lg">open a dialog that overflows vertically</button> <button type="button" class="mb_lg">open a dialog with <code>layout="page"</code> instead of the default <code>layout='centered'</code></button> <button type="button" class="mb_lg">open a dialog containing another dialog</button> <button type="button" class="mb_lg">open many dialogs</button></section>`,1),_e=x('<div class="box"><div class="pane p_xl box"><h1>attention</h1> <p>this is a dialog</p> <button type="button">ok</button></div></div>'),de=x("<p>this is a dialog that overflows vertically</p>"),ve=x('<div class="box"><div class="pane p_xl"><h1>attention</h1> <!> <button type="button">close</button></div></div>'),ce=x("<option> </option>"),ue=x(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>.</p> <p>Instead of being centered by default, the dialog's contents are aligned to the top of
							the page and grow downward. It's useful when the dialog's contents change in height.</p>`,1),pe=x("<option> </option>"),fe=x(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>, the default value.</p> <p>It's often the best choice, but it can be undesirable in some situations, like when
							the height of the content changes as the user does things, leading to a janky
							experience.</p>`,1),ge=(e,t)=>t(),be=(e,t)=>t(),he=(e,t,v)=>t(v),me=x('<p><button type="button">✕</button> new stuff appears <!></p>'),ke=x('<div class="box"><div class="pane p_xl width_md"><!> <p><button type="button">add item</button> <button type="button">remove all</button></p> <!> <button type="button">close</button></div></div>'),xe=(e,t)=>d(t,!0),ye=x('<div class="box"><div class="pane p_xl"><h1>dialog 1</h1> <p>dialogs can open more dialogs</p> <button type="button">open another dialog</button></div></div>'),we=(e,t)=>d(t,!0),Te=x('<div class="box"><div class="pane p_xl"><h1>dialog 2</h1> <p>this dialog can open more dialogs</p> <p>this is the second dialog</p> <button type="button">open another dialog</button></div></div>'),Ae=(e,t)=>d(t,!1),Ie=(e,t,v,p)=>{d(t,N(d(v,N(d(p,!1)))))},De=x('<div class="box gap_xl3"><div class="pane p_xl"><h1>3 dialogs!</h1> <button type="button">close dialog</button></div> <div class="pane p_xl"><h1>and another <code>.pane</code></h1> <button type="button">close all dialogs</button></div></div>'),Me=x('<div class="box"><div class="pane"><!></div></div>'),Pe=x("<!> <!> <!> <!> <!> <!> <!> <!>",1);function Je(e,t){At(t,!0);const p=Wt("Dialog");let c=j(!1),f=j(!1),T=j(!1),A=j(!1),K=j(!1),Q=j(!1),y=j("page"),E=j(N([]));const dt=a=>{d(E,N(n(E).filter(h=>h!==a)))},vt=()=>{d(E,N(n(E).concat({})))},z=()=>{d(E,N([]))};let C=j(N([]));const X=a=>{const h=g=>"!".repeat(a*3-g*3);d(C,N(Array.from({length:a},(g,s)=>ee(oe,{text:h(s),size:"var(--size_xl4)",padding:"var(--space_sm) var(--space_lg)"}))))};var nt=Pe(),rt=q(nt);Ut(rt,{tome:p,children:(a,h)=>{var g=se(),s=q(g),i=l(s),u=o(l(i));Jt(u,{name:"Teleport"}),B(),r(i);var m=o(i,2),P=o(l(m));Kt(P,{path:"Web/HTML/Element/dialog"}),B(),r(m),r(s);var I=o(s,2),R=l(I);Gt(R,{content:`<button onclick={() => (opened = true)}>
	open a dialog
</button>
{#if opened}
	<Dialog onclose={() => (opened = false)}>
		{#snippet children(close)}
			<div class="box">
				<div class="pane p_xl box">
					<h1>attention</h1>
					<p>this is a dialog</p>
					<button onclick={close}>ok</button>
				</div>
			</div>
		{/snippet}
	</Dialog>
{/if}`}),r(I);var Y=o(I,2),Z=l(Y);Z.__click=[ae,c];var tt=o(Z,2);tt.__click=[ne,f];var it=o(tt,2);it.__click=[re,T];var k=o(it,2);k.__click=[ie,A];var D=o(k,2);D.__click=[le,X],r(Y),_(a,g)},$$slots:{default:!0}});var pt=o(rt,2);{var Pt=a=>{W(a,{onclose:()=>d(c,!1),children:(g,s=lt)=>{var i=_e(),u=l(i),m=o(l(u),4);m.__click=function(...P){var I;(I=s())==null||I.apply(this,P)},r(u),r(i),_(g,i)},$$slots:{default:!0}})};L(pt,a=>{n(c)&&a(Pt)})}var ft=o(pt,2);{var $t=a=>{W(a,{onclose:()=>d(f,!1),children:(g,s=lt)=>{var i=ve(),u=l(i),m=o(l(u),2);ot(m,16,()=>({length:120}),ct,(I,R)=>{var Y=de();_(I,Y)});var P=o(m,2);P.__click=function(...I){var R;(R=s())==null||R.apply(this,I)},r(u),r(i),_(g,i)},$$slots:{default:!0}})};L(ft,a=>{n(f)&&a($t)})}var gt=o(ft,2);{var Lt=a=>{W(a,{onclose:()=>(d(T,!1),z()),get layout(){return n(y)},children:(g,s=lt)=>{var i=ke(),u=l(i),m=l(u);{var P=k=>{var D=ue(),S=q(D),F=o(l(S),3),G=o(l(F));ot(G,21,()=>wt,ct,(M,$)=>{var b=ce(),w={},H=l(b,!0);r(b),V(()=>{w!==(w=n($))&&(b.value=(b.__value=n($))==null?"":n($)),_t(H,n($))}),_(M,b)}),r(G),B(),r(F),B(),r(S),B(2),yt(G,()=>n(y),M=>d(y,M)),_(k,D)},I=k=>{var D=J(),S=q(D);{var F=M=>{var $=fe(),b=q($),w=o(l(b),3),H=o(l(w));ot(H,21,()=>wt,ct,(et,O)=>{var U=pe(),kt={},Rt=l(U,!0);r(U),V(()=>{kt!==(kt=n(O))&&(U.value=(U.__value=n(O))==null?"":n(O)),_t(Rt,n(O))}),_(et,U)}),r(H),B(),r(w),B(),r(b),B(2),yt(H,()=>n(y),et=>d(y,et)),_(M,$)},G=M=>{Ht(M,{status:"error",children:($,b)=>{B();var w=st();V(()=>_t(w,`eek a bug! unknown layout "${n(y)??""}"`)),_($,w)},$$slots:{default:!0}})};L(S,M=>{n(y)==="centered"?M(F):M(G,!1)},!0)}_(k,D)};L(m,k=>{n(y)==="page"?k(P):k(I,!1)})}var R=o(m,2),Y=l(R);Y.__click=[ge,vt];var Z=o(Y,2);Z.__click=[be,z],r(R);var tt=o(R,2);ot(tt,16,()=>n(E),k=>k,(k,D)=>{var S=me(),F=l(S);F.__click=[he,dt,D];var G=o(F,2);{var M=b=>{var w=st("gracefully");_(b,w)},$=b=>{var w=J(),H=q(w);{var et=O=>{var U=st("ungracefully");_(O,U)};L(H,O=>{n(y)==="centered"&&O(et)},!0)}_(b,w)};L(G,b=>{n(y)==="page"?b(M):b($,!1)})}r(S),Ot(3,S,()=>Yt),_(k,S)});var it=o(tt,2);it.__click=function(...k){var D;(D=s())==null||D.apply(this,k)},r(u),r(i),V(()=>Z.disabled=!n(E).length),_(g,i)},$$slots:{default:!0}})};L(gt,a=>{n(T)&&a(Lt)})}var bt=o(gt,2);{var qt=a=>{W(a,{onclose:()=>d(A,!1),children:(h,g)=>{var s=ye(),i=l(s),u=o(l(i),4);u.__click=[xe,K],r(i),r(s),_(h,s)},$$slots:{default:!0}})};L(bt,a=>{n(A)&&a(qt)})}var ht=o(bt,2);{var Ct=a=>{W(a,{onclose:()=>d(K,!1),children:(h,g)=>{var s=Te(),i=l(s),u=o(l(i),6);u.__click=[we,Q],r(i),r(s),_(h,s)},$$slots:{default:!0}})};L(ht,a=>{n(K)&&a(Ct)})}var mt=o(ht,2);{var Et=a=>{W(a,{onclose:()=>d(Q,!1),children:(h,g)=>{var s=De(),i=l(s),u=o(l(i),2);u.__click=[Ae,Q],r(i);var m=o(i,2),P=o(l(m),2);P.__click=[Ie,A,K,Q],r(m),r(s),_(h,s)},$$slots:{default:!0}})};L(mt,a=>{n(Q)&&a(Et)})}var zt=o(mt,2);te(zt,{get dialogs(){return n(C)},onclose:()=>{d(C,N(n(C).slice(0,-1)))},children:(h,g=lt)=>{var s=Me(),i=l(s),u=l(i);Dt(u,()=>g().Component,(m,P)=>{P(m,ut(()=>g().props))}),r(i),r(s),_(h,s)},$$slots:{default:!0}}),_(e,nt),It()}jt(["click"]);export{Je as component};
