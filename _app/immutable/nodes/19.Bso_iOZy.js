import"../chunks/DsnmJJEf.js";import{p as yt,g as G,a as y,b as s,c as kt,i as l,u as Et,h as Lt,a8 as st,t as tt,e as it,aC as L,aq as ht,f,s as t,d as r,ar as i,n as z,r as o,ak as rt,aB as zt}from"../chunks/DJKxREaw.js";import{e as et,d as Rt,S as Bt,l as Yt,m as mt}from"../chunks/DuJ9XuY1.js";import{i as x}from"../chunks/D7ezQEoO.js";import{c as wt}from"../chunks/DkS4h2q0.js";import{t as Nt,s as St}from"../chunks/CzNsiCVg.js";import{s as _t,p as jt}from"../chunks/C-AK717J.js";import{C as qt}from"../chunks/C5BLUMi9.js";import{A as Ht}from"../chunks/Cg4XWGm_.js";import{T as Ut}from"../chunks/B4v4bEqo.js";import{g as Wt}from"../chunks/CM9UdspS.js";import{D as F}from"../chunks/BWafpB0d.js";import{T as Ft}from"../chunks/qftrHyCQ.js";import{M as Gt}from"../chunks/CfoiyrE1.js";import{e as Jt}from"../chunks/DLMPT-yS.js";function Kt(Y,v){yt(v,!0);var N=G(),J=y(N);et(J,18,()=>v.dialogs,A=>A,(A,k,R)=>{{let $=Et(()=>l(R)===v.dialogs.length-1);F(A,_t({get onclose(){return v.onclose}},()=>k.dialog_props,{get index(){return l(R)},get active(){return l($)},children:(K,O)=>{var h=G(),I=y(h);{var lt=D=>{var w=G(),V=y(w);Lt(V,()=>v.children,()=>k),s(D,w)},dt=D=>{var w=G(),V=y(w);wt(V,()=>k.Component,(ot,at)=>{at(ot,_t(()=>k.props))}),s(D,w)};x(I,D=>{v.children?D(lt):D(dt,!1)})}s(K,h)},$$slots:{default:!0}}))}}),s(Y,N),kt()}const Ot=(Y,v,N)=>({Component:Y,props:v,dialog_props:N}),xt=["centered","page"];function Qt(Y,v){const N=jt(v,"tag",3,"span");var J=G(),A=y(J);Jt(A,N,!1,(k,R)=>{Rt(k,()=>({style:"",[Bt]:{"font-size":v.size,padding:v.padding}}));var $=st();tt(()=>it($,v.text)),s(R,$)}),s(Y,J)}var Vt=f(`<section><p>A modal that overlays the entire page. Uses <!> to allow usage from any
			component without inheriting styles.</p> <aside>⚠️ This will change to use and align APIs with the builtin <!>. API</aside></section> <section><!></section> <section><button type="button" class="mb_lg">open a dialog</button> <button type="button" class="mb_lg">open a dialog that overflows vertically</button> <button type="button" class="mb_lg">open a dialog with <code>layout="page"</code> instead of the default <code>layout='centered'</code></button> <button type="button" class="mb_lg">open a dialog containing another dialog</button> <button type="button" class="mb_lg">open many dialogs</button></section>`,1),Xt=f('<div class="box"><div class="pane p_xl box"><h1>attention</h1> <p>this is a dialog</p> <button type="button">ok</button></div></div>'),Zt=f("<p>this is a dialog that overflows vertically</p>"),te=f('<div class="box"><div class="pane p_xl"><h1>attention</h1> <!> <button type="button">close</button></div></div>'),ee=f("<option> </option>"),oe=f(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>.</p> <p>Instead of being centered by default, the dialog's contents are aligned to the top of
							the page and grow downward. It's useful when the dialog's contents change in height.</p>`,1),ae=f("<option> </option>"),ne=f(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>, the default value.</p> <p>It's often the best choice, but it can be undesirable in some situations, like when
							the height of the content changes as the user does things, leading to a janky
							experience.</p>`,1),re=f('<p><button type="button">✕</button> new stuff appears <!></p>'),se=f('<div class="box"><div class="pane p_xl width_upto_md"><!> <p><button type="button">add item</button> <button type="button">remove all</button></p> <!> <button type="button">close</button></div></div>'),ie=f('<div class="box"><div class="pane p_xl"><h1>dialog 1</h1> <p>dialogs can open more dialogs</p> <button type="button">open another dialog</button></div></div>'),le=f('<div class="box"><div class="pane p_xl"><h1>dialog 2</h1> <p>this dialog can open more dialogs</p> <p>this is the second dialog</p> <button type="button">open another dialog</button></div></div>'),de=f('<div class="box gap_xl3"><div class="pane p_xl"><h1>3 dialogs!</h1> <button type="button">close dialog</button></div> <div class="pane p_xl"><h1>and another <code>.pane</code></h1> <button type="button">close all dialogs</button></div></div>'),_e=f('<div class="pane p_md width_upto_md mx_auto"><!></div>'),ce=f("<!> <!> <!> <!> <!> <!> <!> <!>",1);function Ie(Y,v){yt(v,!0);const J=Wt("Dialog");let A=L(!1),k=L(!1),R=L(!1),$=L(!1),K=L(!1),O=L(!1),h=L("page"),I=L(ht([]));const lt=e=>{i(I,l(I).filter(p=>p!==e),!0)},dt=()=>{i(I,l(I).concat({}),!0)},D=()=>{i(I,[],!0)};let w=L(ht([]));const V=e=>{const p=_=>"!".repeat(e*3-_*3);i(w,Array.from({length:e},(_,a)=>Ot(Qt,{text:p(a),size:"var(--font_size_xl4)",padding:"var(--space_sm) var(--space_lg)"})),!0)};var ot=ce(),at=y(ot);Ut(at,{get tome(){return J},children:(e,p)=>{var _=Vt(),a=y(_),n=r(a),d=t(r(n));Ft(d,{name:"Teleport"}),z(),o(n);var u=t(n,2),P=t(r(u));Gt(P,{path:"Web/HTML/Element/dialog"}),z(),o(u),o(a);var M=t(a,2),Q=r(M);qt(Q,{content:`<button onclick={() => (opened = true)}>
	open a dialog
</button>
{#if opened}
	<Dialog onclose={() => (opened = false)}>
		{#snippet children(close)}
			<div class="box">
				<div class="pane p_xl box">
					<h1>attention</h1>
					<p>this is a dialog</p>
					<button onclick={close}>ok</button>
				</div>
			</div>
		{/snippet}
	</Dialog>
{/if}`}),o(M);var S=t(M,2),X=r(S);X.__click=()=>i(A,!0);var Z=t(X,2);Z.__click=()=>i(k,!0);var nt=t(Z,2);nt.__click=()=>i(R,!0);var g=t(nt,2);g.__click=()=>i($,!0);var C=t(g,2);C.__click=()=>V(5),o(S),s(e,_)},$$slots:{default:!0}});var ct=t(at,2);{var Tt=e=>{F(e,{onclose:()=>i(A,!1),children:(_,a=rt)=>{var n=Xt(),d=r(n),u=t(r(d),4);u.__click=function(...P){a()?.apply(this,P)},o(d),o(n),s(_,n)},$$slots:{default:!0}})};x(ct,e=>{l(A)&&e(Tt)})}var vt=t(ct,2);{var At=e=>{F(e,{onclose:()=>i(k,!1),children:(_,a=rt)=>{var n=te(),d=r(n),u=t(r(d),2);et(u,16,()=>({length:120}),Yt,(M,Q)=>{var S=Zt();s(M,S)});var P=t(u,2);P.__click=function(...M){a()?.apply(this,M)},o(d),o(n),s(_,n)},$$slots:{default:!0}})};x(vt,e=>{l(k)&&e(At)})}var pt=t(vt,2);{var $t=e=>{F(e,{onclose:()=>(i(R,!1),D()),get layout(){return l(h)},children:(_,a=rt)=>{var n=se(),d=r(n),u=r(d);{var P=g=>{var C=oe(),E=y(C),j=t(r(E),3),q=t(r(j));et(q,20,()=>xt,b=>b,(b,T)=>{var c=ee(),m=r(c,!0);o(c);var B={};tt(()=>{it(m,T),B!==(B=T)&&(c.value=(c.__value=T)??"")}),s(b,c)}),o(q),z(),o(j),z(),o(E),z(2),mt(q,()=>l(h),b=>i(h,b)),s(g,C)},M=g=>{var C=G(),E=y(C);{var j=b=>{var T=ne(),c=y(T),m=t(r(c),3),B=t(r(m));et(B,20,()=>xt,H=>H,(H,U)=>{var W=ae(),Ct=r(W,!0);o(W);var bt={};tt(()=>{it(Ct,U),bt!==(bt=U)&&(W.value=(W.__value=U)??"")}),s(H,W)}),o(B),z(),o(m),z(),o(c),z(2),mt(B,()=>l(h),H=>i(h,H)),s(b,T)},q=b=>{Ht(b,{status:"error",children:(T,c)=>{z();var m=st();tt(()=>it(m,`eek a bug! unknown layout "${l(h)??""}"`)),s(T,m)},$$slots:{default:!0}})};x(E,b=>{l(h)==="centered"?b(j):b(q,!1)},!0)}s(g,C)};x(u,g=>{l(h)==="page"?g(P):g(M,!1)})}var Q=t(u,2),S=r(Q);S.__click=()=>dt();var X=t(S,2);X.__click=()=>D(),o(Q);var Z=t(Q,2);et(Z,16,()=>l(I),g=>g,(g,C)=>{var E=re(),j=r(E);j.__click=()=>lt(C);var q=t(j,2);{var b=c=>{var m=st("gracefully");s(c,m)},T=c=>{var m=G(),B=y(m);{var H=U=>{var W=st("ungracefully");s(U,W)};x(B,U=>{l(h)==="centered"&&U(H)},!0)}s(c,m)};x(q,c=>{l(h)==="page"?c(b):c(T,!1)})}o(E),Nt(3,E,()=>St),s(g,E)});var nt=t(Z,2);nt.__click=function(...g){a()?.apply(this,g)},o(d),o(n),tt(()=>X.disabled=!l(I).length),s(_,n)},$$slots:{default:!0}})};x(pt,e=>{l(R)&&e($t)})}var ut=t(pt,2);{var It=e=>{F(e,{onclose:()=>i($,!1),children:(p,_)=>{var a=ie(),n=r(a),d=t(r(n),4);d.__click=()=>i(K,!0),o(n),o(a),s(p,a)},$$slots:{default:!0}})};x(ut,e=>{l($)&&e(It)})}var gt=t(ut,2);{var Dt=e=>{F(e,{onclose:()=>i(K,!1),children:(p,_)=>{var a=le(),n=r(a),d=t(r(n),6);d.__click=()=>i(O,!0),o(n),o(a),s(p,a)},$$slots:{default:!0}})};x(gt,e=>{l(K)&&e(Dt)})}var ft=t(gt,2);{var Pt=e=>{F(e,{onclose:()=>i(O,!1),children:(p,_)=>{var a=de(),n=r(a),d=t(r(n),2);d.__click=()=>i(O,!1),o(n);var u=t(n,2),P=t(r(u),2);P.__click=()=>{i($,i(K,i(O,!1),!0),!0)},o(u),o(a),s(p,a)},$$slots:{default:!0}})};x(ft,e=>{l(O)&&e(Pt)})}var Mt=t(ft,2);Kt(Mt,{get dialogs(){return l(w)},onclose:()=>{i(w,l(w).slice(0,-1),!0)},children:(p,_=rt)=>{var a=_e(),n=r(a);wt(n,()=>_().Component,(d,u)=>{u(d,_t(()=>_().props))}),o(a),s(p,a)},$$slots:{default:!0}}),s(Y,ot),kt()}zt(["click"]);export{Ie as component};
