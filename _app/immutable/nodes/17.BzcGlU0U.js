import{l as qt,c as Z,a as s,j as it,t as y,k as Ct}from"../chunks/DoRN4M-o.js";import{m as yt,aQ as zt,p as xt,f as O,a as wt,g as _,u as Rt,t as G,a4 as B,I as ht,s as o,k as i,J as d,a2 as N,l as n,a1 as rt}from"../chunks/CLNC1iHR.js";import{s as lt}from"../chunks/LTUnQ_ua.js";import{i as P}from"../chunks/C1oRbkCz.js";import{e as tt}from"../chunks/CVfbnXn3.js";import{c as Tt}from"../chunks/BBi-kGj9.js";import{t as Yt,s as jt}from"../chunks/ZGCzptMR.js";import{s as dt,p as Bt}from"../chunks/B3lj4C7e.js";import{C as Nt}from"../chunks/DeLZ0-Bp.js";import{A as Ot}from"../chunks/DGlzGveb.js";import{T as Ft}from"../chunks/DRS3UrDn.js";import{g as Ht}from"../chunks/Cmf78iW_.js";import{D as U}from"../chunks/CN-kg1c8.js";import{T as Jt}from"../chunks/UAw5DVWu.js";import{M as Qt}from"../chunks/CsLE7S9O.js";import{s as Ut,a as Wt,S as Gt}from"../chunks/BbynuF1-.js";import{e as Kt}from"../chunks/BCzvQMyv.js";function At(e,t,v){if(e.multiple)return Xt(e,t);for(var f of e.options){var c=et(f);if(zt(c,t)){f.selected=!0;return}}(!v||t!==void 0)&&(e.selectedIndex=-1)}function Vt(e,t){yt(()=>{var v=new MutationObserver(()=>{var f=e.__value;At(e,f)});return v.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{v.disconnect()}})}function mt(e,t,v=t){var f=!0;qt(e,"change",c=>{var b=c?"[selected]":":checked",T;if(e.multiple)T=[].map.call(e.querySelectorAll(b),et);else{var A=e.querySelector(b)??e.querySelector("option:not([disabled])");T=A&&et(A)}v(T)}),yt(()=>{var c=t();if(At(e,c,f),f&&c===void 0){var b=e.querySelector(":checked");b!==null&&(c=et(b),v(c))}e.__value=c,f=!1}),Vt(e)}function Xt(e,t){for(var v of e.options)v.selected=~t.indexOf(et(v))}function et(e){return"__value"in e?e.__value:e.value}function Zt(e,t){xt(t,!0);var v=Z(),f=O(v);tt(f,18,()=>t.dialogs,c=>c,(c,b,T)=>{const A=Rt(()=>_(T)===t.dialogs.length-1);U(c,dt({get onclose(){return t.onclose}},()=>b.dialog_props,{get index(){return _(T)},get active(){return _(A)},children:(q,W)=>{var w=Z(),C=O(w);{var st=z=>{var L=Z(),K=O(L);Ut(K,()=>t.children,()=>b),s(z,L)},_t=z=>{var L=Z(),K=O(L);Tt(K,()=>b.Component,(ot,at)=>{at(ot,dt(()=>b.props))}),s(z,L)};P(C,z=>{t.children?z(st):z(_t,!1)})}s(q,w)},$$slots:{default:!0}}))}),s(e,v),wt()}const te=(e,t,v)=>({Component:e,props:t,dialog_props:v}),kt=["centered","page"];function ee(e,t){const v=Bt(t,"tag",3,"span");var f=Z(),c=O(f);Kt(c,v,!1,(b,T)=>{let A;G(()=>A=Wt(b,A,{style:"",[Gt]:{"font-size":t.size,padding:t.padding}}));var q=it();G(()=>lt(q,t.text)),s(T,q)}),s(e,f)}var oe=(e,t)=>d(t,!0),ae=(e,t)=>d(t,!0),ne=(e,t)=>d(t,!0),re=(e,t)=>d(t,!0),ie=(e,t)=>t(5),le=y(`<section><p>A modal that overlays the entire page. Uses <!> to allow usage from any
			component without inheriting styles.</p> <aside>⚠️ This will change to use and align APIs with the builtin <!>. API</aside></section> <section><!></section> <section><button type="button" class="mb_lg">open a dialog</button> <button type="button" class="mb_lg">open a dialog that overflows vertically</button> <button type="button" class="mb_lg">open a dialog with <code>layout="page"</code> instead of the default <code>layout='centered'</code></button> <button type="button" class="mb_lg">open a dialog containing another dialog</button> <button type="button" class="mb_lg">open many dialogs</button></section>`,1),se=y('<div class="box"><div class="pane p_xl box"><h1>attention</h1> <p>this is a dialog</p> <button type="button">ok</button></div></div>'),_e=y("<p>this is a dialog that overflows vertically</p>"),de=y('<div class="box"><div class="pane p_xl"><h1>attention</h1> <!> <button type="button">close</button></div></div>'),ve=y("<option> </option>"),ce=y(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>.</p> <p>Instead of being centered by default, the dialog's contents are aligned to the top of
							the page and grow downward. It's useful when the dialog's contents change in height.</p>`,1),ue=y("<option> </option>"),pe=y(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>, the default value.</p> <p>It's often the best choice, but it can be undesirable in some situations, like when
							the height of the content changes as the user does things, leading to a janky
							experience.</p>`,1),fe=(e,t)=>t(),ge=(e,t)=>t(),be=(e,t,v)=>t(v),he=y('<p><button type="button">✕</button> new stuff appears <!></p>'),me=y('<div class="box"><div class="pane p_xl width_md"><!> <p><button type="button">add item</button> <button type="button">remove all</button></p> <!> <button type="button">close</button></div></div>'),ke=(e,t)=>d(t,!0),ye=y('<div class="box"><div class="pane p_xl"><h1>dialog 1</h1> <p>dialogs can open more dialogs</p> <button type="button">open another dialog</button></div></div>'),xe=(e,t)=>d(t,!0),we=y('<div class="box"><div class="pane p_xl"><h1>dialog 2</h1> <p>this dialog can open more dialogs</p> <p>this is the second dialog</p> <button type="button">open another dialog</button></div></div>'),Te=(e,t)=>d(t,!1),Ae=(e,t,v,f)=>{d(t,d(v,d(f,!1),!0),!0)},Ie=y('<div class="box gap_xl3"><div class="pane p_xl"><h1>3 dialogs!</h1> <button type="button">close dialog</button></div> <div class="pane p_xl"><h1>and another <code>.pane</code></h1> <button type="button">close all dialogs</button></div></div>'),$e=y('<div class="box"><div class="pane"><!></div></div>'),De=y("<!> <!> <!> <!> <!> <!> <!> <!>",1);function Qe(e,t){xt(t,!0);const f=Ht("Dialog");let c=B(!1),b=B(!1),T=B(!1),A=B(!1),q=B(!1),W=B(!1),w=B("page"),C=B(ht([]));const st=a=>{d(C,_(C).filter(h=>h!==a),!0)},_t=()=>{d(C,_(C).concat({}),!0)},z=()=>{d(C,[],!0)};let L=B(ht([]));const K=a=>{const h=g=>"!".repeat(a*3-g*3);d(L,Array.from({length:a},(g,l)=>te(ee,{text:h(l),size:"var(--size_xl4)",padding:"var(--space_sm) var(--space_lg)"})),!0)};var ot=De(),at=O(ot);Ft(at,{tome:f,children:(a,h)=>{var g=le(),l=O(g),r=i(l),u=o(i(r));Jt(u,{name:"Teleport"}),N(),n(r);var m=o(r,2),D=o(i(m));Qt(D,{path:"Web/HTML/Element/dialog"}),N(),n(m),n(l);var x=o(l,2),R=i(x);Nt(R,{content:`<button onclick={() => (opened = true)}>
	open a dialog
</button>
{#if opened}
	<Dialog onclose={() => (opened = false)}>
		{#snippet children(close)}
			<div class="box">
				<div class="pane p_xl box">
					<h1>attention</h1>
					<p>this is a dialog</p>
					<button onclick={close}>ok</button>
				</div>
			</div>
		{/snippet}
	</Dialog>
{/if}`}),n(x);var H=o(x,2),V=i(H);V.__click=[oe,c];var X=o(V,2);X.__click=[ae,b];var nt=o(X,2);nt.__click=[ne,T];var k=o(nt,2);k.__click=[re,A];var M=o(k,2);M.__click=[ie,K],n(H),s(a,g)},$$slots:{default:!0}});var vt=o(at,2);{var It=a=>{U(a,{onclose:()=>d(c,!1),children:(g,l=rt)=>{var r=se(),u=i(r),m=o(i(u),4);m.__click=function(...D){var x;(x=l())==null||x.apply(this,D)},n(u),n(r),s(g,r)},$$slots:{default:!0}})};P(vt,a=>{_(c)&&a(It)})}var ct=o(vt,2);{var $t=a=>{U(a,{onclose:()=>d(b,!1),children:(g,l=rt)=>{var r=de(),u=i(r),m=o(i(u),2);tt(m,16,()=>({length:120}),x=>x,(x,R)=>{var H=_e();s(x,H)});var D=o(m,2);D.__click=function(...x){var R;(R=l())==null||R.apply(this,x)},n(u),n(r),s(g,r)},$$slots:{default:!0}})};P(ct,a=>{_(b)&&a($t)})}var ut=o(ct,2);{var Dt=a=>{U(a,{onclose:()=>(d(T,!1),z()),get layout(){return _(w)},children:(g,l=rt)=>{var r=me(),u=i(r),m=i(u);{var D=k=>{var M=ce(),Y=O(M),J=o(i(Y),3),I=o(i(J));tt(I,20,()=>kt,$=>$,($,E)=>{var p=ve(),S={},j=i(p,!0);n(p),G(()=>{S!==(S=E)&&(p.value=(p.__value=E)==null?"":E),lt(j,E)}),s($,p)}),n(I),N(),n(J),N(),n(Y),N(2),mt(I,()=>_(w),$=>d(w,$)),s(k,M)},x=(k,M)=>{{var Y=I=>{var $=pe(),E=O($),p=o(i(E),3),S=o(i(p));tt(S,20,()=>kt,j=>j,(j,F)=>{var Q=ue(),bt={},St=i(Q,!0);n(Q),G(()=>{bt!==(bt=F)&&(Q.value=(Q.__value=F)==null?"":F),lt(St,F)}),s(j,Q)}),n(S),N(),n(p),N(),n(E),N(2),mt(S,()=>_(w),j=>d(w,j)),s(I,$)},J=I=>{Ot(I,{status:"error",children:($,E)=>{N();var p=it();G(()=>lt(p,`eek a bug! unknown layout "${_(w)??""}"`)),s($,p)},$$slots:{default:!0}})};P(k,I=>{_(w)==="centered"?I(Y):I(J,!1)},M)}};P(m,k=>{_(w)==="page"?k(D):k(x,!1)})}var R=o(m,2),H=i(R);H.__click=[fe,_t];var V=o(H,2);V.__click=[ge,z],n(R);var X=o(R,2);tt(X,16,()=>_(C),k=>k,(k,M)=>{var Y=he(),J=i(Y);J.__click=[be,st,M];var I=o(J,2);{var $=p=>{var S=it("gracefully");s(p,S)},E=(p,S)=>{{var j=F=>{var Q=it("ungracefully");s(F,Q)};P(p,F=>{_(w)==="centered"&&F(j)},S)}};P(I,p=>{_(w)==="page"?p($):p(E,!1)})}n(Y),Yt(3,Y,()=>jt),s(k,Y)});var nt=o(X,2);nt.__click=function(...k){var M;(M=l())==null||M.apply(this,k)},n(u),n(r),G(()=>V.disabled=!_(C).length),s(g,r)},$$slots:{default:!0}})};P(ut,a=>{_(T)&&a(Dt)})}var pt=o(ut,2);{var Mt=a=>{U(a,{onclose:()=>d(A,!1),children:(h,g)=>{var l=ye(),r=i(l),u=o(i(r),4);u.__click=[ke,q],n(r),n(l),s(h,l)},$$slots:{default:!0}})};P(pt,a=>{_(A)&&a(Mt)})}var ft=o(pt,2);{var Pt=a=>{U(a,{onclose:()=>d(q,!1),children:(h,g)=>{var l=we(),r=i(l),u=o(i(r),6);u.__click=[xe,W],n(r),n(l),s(h,l)},$$slots:{default:!0}})};P(ft,a=>{_(q)&&a(Pt)})}var gt=o(ft,2);{var Lt=a=>{U(a,{onclose:()=>d(W,!1),children:(h,g)=>{var l=Ie(),r=i(l),u=o(i(r),2);u.__click=[Te,W],n(r);var m=o(r,2),D=o(i(m),2);D.__click=[Ae,A,q,W],n(m),n(l),s(h,l)},$$slots:{default:!0}})};P(gt,a=>{_(W)&&a(Lt)})}var Et=o(gt,2);Zt(Et,{get dialogs(){return _(L)},onclose:()=>{d(L,_(L).slice(0,-1),!0)},children:(h,g=rt)=>{var l=$e(),r=i(l),u=i(r);Tt(u,()=>g().Component,(m,D)=>{D(m,dt(()=>g().props))}),n(r),n(l),s(h,l)},$$slots:{default:!0}}),s(e,ot),wt()}Ct(["click"]);export{Qe as component};
