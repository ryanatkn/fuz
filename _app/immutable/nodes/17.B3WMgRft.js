import"../chunks/DsnmJJEf.js";import{p as yt,e as J,a as w,b as i,c as xt,h as l,u as Lt,g as Ct,aq as st,t as tt,au as R,ay as ht,f as b,s as e,d as s,at as _,ar as Y,r as a,ap as rt,aV as zt}from"../chunks/hvi78P_d.js";import{s as it}from"../chunks/DcnXoHJa.js";import{i as x}from"../chunks/b9UmUbIo.js";import{e as et,i as Rt}from"../chunks/gGLiu_OD.js";import{c as wt}from"../chunks/kZV653SB.js";import{a as Yt,S as Bt,d as mt}from"../chunks/baBGA4xI.js";import{t as Nt,s as St}from"../chunks/CxTF7-PZ.js";import{s as dt,p as jt}from"../chunks/Cu6gSB0G.js";import{C as qt}from"../chunks/BK81am7X.js";import{A as Ht}from"../chunks/nLp_tAg8.js";import{T as Ut}from"../chunks/BkUpF8Wi.js";import{g as Vt}from"../chunks/CG7LzC5d.js";import{D as G}from"../chunks/B1kFDkno.js";import{T as Wt}from"../chunks/D0JCVf1T.js";import{M as Ft}from"../chunks/BPa6Dq2O.js";import{e as Gt}from"../chunks/B1Hw8Zj6.js";function Jt(d,t){yt(t,!0);var y=J(),B=w(y);et(B,18,()=>t.dialogs,I=>I,(I,T,N)=>{{let D=Lt(()=>l(N)===t.dialogs.length-1);G(I,dt({get onclose(){return t.onclose}},()=>T.dialog_props,{get index(){return l(N)},get active(){return l(D)},children:(S,K)=>{var m=J(),P=w(m);{var lt=M=>{var A=J(),Q=w(A);Ct(Q,()=>t.children,()=>T),i(M,A)},_t=M=>{var A=J(),Q=w(A);wt(Q,()=>T.Component,(ot,at)=>{at(ot,dt(()=>T.props))}),i(M,A)};x(P,M=>{t.children?M(lt):M(_t,!1)})}i(S,m)},$$slots:{default:!0}}))}}),i(d,y),xt()}const Kt=(d,t,y)=>({Component:d,props:t,dialog_props:y}),kt=["centered","page"];function Ot(d,t){const y=jt(t,"tag",3,"span");var B=J(),I=w(B);Gt(I,y,!1,(T,N)=>{Yt(T,S=>({style:"",[Bt]:S}),[()=>({"font-size":t.size,padding:t.padding})]);var D=st();tt(()=>it(D,t.text)),i(N,D)}),i(d,B)}var Qt=(d,t)=>_(t,!0),Xt=(d,t)=>_(t,!0),Zt=(d,t)=>_(t,!0),te=(d,t)=>_(t,!0),ee=(d,t)=>t(5),oe=b(`<section><p>A modal that overlays the entire page. Uses <!> to allow usage from any
			component without inheriting styles.</p> <aside>⚠️ This will change to use and align APIs with the builtin <!>. API</aside></section> <section><!></section> <section><button type="button" class="mb_lg">open a dialog</button> <button type="button" class="mb_lg">open a dialog that overflows vertically</button> <button type="button" class="mb_lg">open a dialog with <code>layout="page"</code> instead of the default <code>layout='centered'</code></button> <button type="button" class="mb_lg">open a dialog containing another dialog</button> <button type="button" class="mb_lg">open many dialogs</button></section>`,1),ae=b('<div class="box"><div class="pane p_xl box"><h1>attention</h1> <p>this is a dialog</p> <button type="button">ok</button></div></div>'),ne=b("<p>this is a dialog that overflows vertically</p>"),re=b('<div class="box"><div class="pane p_xl"><h1>attention</h1> <!> <button type="button">close</button></div></div>'),se=b("<option> </option>"),ie=b(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>.</p> <p>Instead of being centered by default, the dialog's contents are aligned to the top of
							the page and grow downward. It's useful when the dialog's contents change in height.</p>`,1),le=b("<option> </option>"),_e=b(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>, the default value.</p> <p>It's often the best choice, but it can be undesirable in some situations, like when
							the height of the content changes as the user does things, leading to a janky
							experience.</p>`,1),de=(d,t)=>t(),ce=(d,t)=>t(),ve=(d,t,y)=>t(y),pe=b('<p><button type="button">✕</button> new stuff appears <!></p>'),ue=b('<div class="box"><div class="pane p_xl width_md"><!> <p><button type="button">add item</button> <button type="button">remove all</button></p> <!> <button type="button">close</button></div></div>'),fe=(d,t)=>_(t,!0),ge=b('<div class="box"><div class="pane p_xl"><h1>dialog 1</h1> <p>dialogs can open more dialogs</p> <button type="button">open another dialog</button></div></div>'),be=(d,t)=>_(t,!0),he=b('<div class="box"><div class="pane p_xl"><h1>dialog 2</h1> <p>this dialog can open more dialogs</p> <p>this is the second dialog</p> <button type="button">open another dialog</button></div></div>'),me=(d,t)=>_(t,!1),ke=(d,t,y,B)=>{_(t,_(y,_(B,!1),!0),!0)},ye=b('<div class="box gap_xl3"><div class="pane p_xl"><h1>3 dialogs!</h1> <button type="button">close dialog</button></div> <div class="pane p_xl"><h1>and another <code>.pane</code></h1> <button type="button">close all dialogs</button></div></div>'),xe=b('<div class="pane p_md width_md mx_auto"><!></div>'),we=b("<!> <!> <!> <!> <!> <!> <!> <!>",1);function qe(d,t){yt(t,!0);const B=Vt("Dialog");let I=R(!1),T=R(!1),N=R(!1),D=R(!1),S=R(!1),K=R(!1),m=R("page"),P=R(ht([]));const lt=o=>{_(P,l(P).filter(u=>u!==o),!0)},_t=()=>{_(P,l(P).concat({}),!0)},M=()=>{_(P,[],!0)};let A=R(ht([]));const Q=o=>{const u=v=>"!".repeat(o*3-v*3);_(A,Array.from({length:o},(v,n)=>Kt(Ot,{text:u(n),size:"var(--font_size_xl4)",padding:"var(--space_sm) var(--space_lg)"})),!0)};var ot=we(),at=w(ot);Ut(at,{get tome(){return B},children:(o,u)=>{var v=oe(),n=w(v),r=s(n),c=e(s(r));Wt(c,{name:"Teleport"}),Y(),a(r);var f=e(r,2),E=e(s(f));Ft(E,{path:"Web/HTML/Element/dialog"}),Y(),a(f),a(n);var L=e(n,2),O=s(L);qt(O,{content:`<button onclick={() => (opened = true)}>
	open a dialog
</button>
{#if opened}
	<Dialog onclose={() => (opened = false)}>
		{#snippet children(close)}
			<div class="box">
				<div class="pane p_xl box">
					<h1>attention</h1>
					<p>this is a dialog</p>
					<button onclick={close}>ok</button>
				</div>
			</div>
		{/snippet}
	</Dialog>
{/if}`}),a(L);var q=e(L,2),X=s(q);X.__click=[Qt,I];var Z=e(X,2);Z.__click=[Xt,T];var nt=e(Z,2);nt.__click=[Zt,N];var g=e(nt,2);g.__click=[te,D];var C=e(g,2);C.__click=[ee,Q],a(q),i(o,v)},$$slots:{default:!0}});var ct=e(at,2);{var Tt=o=>{G(o,{onclose:()=>_(I,!1),children:(v,n=rt)=>{var r=ae(),c=s(r),f=e(s(c),4);f.__click=function(...E){n()?.apply(this,E)},a(c),a(r),i(v,r)},$$slots:{default:!0}})};x(ct,o=>{l(I)&&o(Tt)})}var vt=e(ct,2);{var At=o=>{G(o,{onclose:()=>_(T,!1),children:(v,n=rt)=>{var r=re(),c=s(r),f=e(s(c),2);et(f,16,()=>({length:120}),Rt,(L,O)=>{var q=ne();i(L,q)});var E=e(f,2);E.__click=function(...L){n()?.apply(this,L)},a(c),a(r),i(v,r)},$$slots:{default:!0}})};x(vt,o=>{l(T)&&o(At)})}var pt=e(vt,2);{var $t=o=>{G(o,{onclose:()=>(_(N,!1),M()),get layout(){return l(m)},children:(v,n=rt)=>{var r=ue(),c=s(r),f=s(c);{var E=g=>{var C=ie(),z=w(C),H=e(s(z),3),U=e(s(H));et(U,20,()=>kt,h=>h,(h,$)=>{var p=se(),k=s(p,!0);a(p);var j={};tt(()=>{it(k,$),j!==(j=$)&&(p.value=(p.__value=$)??"")}),i(h,p)}),a(U),Y(),a(H),Y(),a(z),Y(2),mt(U,()=>l(m),h=>_(m,h)),i(g,C)},L=g=>{var C=J(),z=w(C);{var H=h=>{var $=_e(),p=w($),k=e(s(p),3),j=e(s(k));et(j,20,()=>kt,V=>V,(V,W)=>{var F=le(),Et=s(F,!0);a(F);var bt={};tt(()=>{it(Et,W),bt!==(bt=W)&&(F.value=(F.__value=W)??"")}),i(V,F)}),a(j),Y(),a(k),Y(),a(p),Y(2),mt(j,()=>l(m),V=>_(m,V)),i(h,$)},U=h=>{Ht(h,{status:"error",children:($,p)=>{Y();var k=st();tt(()=>it(k,`eek a bug! unknown layout "${l(m)??""}"`)),i($,k)},$$slots:{default:!0}})};x(z,h=>{l(m)==="centered"?h(H):h(U,!1)},!0)}i(g,C)};x(f,g=>{l(m)==="page"?g(E):g(L,!1)})}var O=e(f,2),q=s(O);q.__click=[de,_t];var X=e(q,2);X.__click=[ce,M],a(O);var Z=e(O,2);et(Z,16,()=>l(P),g=>g,(g,C)=>{var z=pe(),H=s(z);H.__click=[ve,lt,C];var U=e(H,2);{var h=p=>{var k=st("gracefully");i(p,k)},$=p=>{var k=J(),j=w(k);{var V=W=>{var F=st("ungracefully");i(W,F)};x(j,W=>{l(m)==="centered"&&W(V)},!0)}i(p,k)};x(U,p=>{l(m)==="page"?p(h):p($,!1)})}a(z),Nt(3,z,()=>St),i(g,z)});var nt=e(Z,2);nt.__click=function(...g){n()?.apply(this,g)},a(c),a(r),tt(()=>X.disabled=!l(P).length),i(v,r)},$$slots:{default:!0}})};x(pt,o=>{l(N)&&o($t)})}var ut=e(pt,2);{var It=o=>{G(o,{onclose:()=>_(D,!1),children:(u,v)=>{var n=ge(),r=s(n),c=e(s(r),4);c.__click=[fe,S],a(r),a(n),i(u,n)},$$slots:{default:!0}})};x(ut,o=>{l(D)&&o(It)})}var ft=e(ut,2);{var Dt=o=>{G(o,{onclose:()=>_(S,!1),children:(u,v)=>{var n=he(),r=s(n),c=e(s(r),6);c.__click=[be,K],a(r),a(n),i(u,n)},$$slots:{default:!0}})};x(ft,o=>{l(S)&&o(Dt)})}var gt=e(ft,2);{var Pt=o=>{G(o,{onclose:()=>_(K,!1),children:(u,v)=>{var n=ye(),r=s(n),c=e(s(r),2);c.__click=[me,K],a(r);var f=e(r,2),E=e(s(f),2);E.__click=[ke,D,S,K],a(f),a(n),i(u,n)},$$slots:{default:!0}})};x(gt,o=>{l(K)&&o(Pt)})}var Mt=e(gt,2);Jt(Mt,{get dialogs(){return l(A)},onclose:()=>{_(A,l(A).slice(0,-1),!0)},children:(u,v=rt)=>{var n=xe(),r=s(n);wt(r,()=>v().Component,(c,f)=>{f(c,dt(()=>v().props))}),a(n),i(u,n)},$$slots:{default:!0}}),i(d,ot),xt()}zt(["click"]);export{qe as component};
