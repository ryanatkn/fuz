import{b as j,a as n,f as P,F as wt,t as m,s as t,c as l,n as V,r as i}from"../chunks/disclose-version.D581KuaV.js";import{i as Tt,p as At,a as It,P as f,g as u,d as zt,t as X,C as F,n as _,Q as nt}from"../chunks/runtime.CkCVmNqE.js";import{s as it,d as Rt}from"../chunks/render.D5h2tPwo.js";import{i as qt,p as Z}from"../chunks/proxy.DO1KP2D0.js";import{i as E}from"../chunks/if.Chl1nh2x.js";import{e as at,i as lt}from"../chunks/each.C13piV_6.js";import{c as Dt}from"../chunks/svelte-component.Hvn3uggr.js";import{s as _t}from"../chunks/style.iv2mhl8q.js";import{t as St,s as Bt}from"../chunks/index.DZBlEnLB.js";import{l as Ft}from"../chunks/shared.Bmd-xeI1.js";import{s as ct,p as Nt}from"../chunks/props.BxjGZrun.js";import{s as Pt,a as Mt,b as xt}from"../chunks/stores.phtmHB-z.js";import{w as Ot}from"../chunks/entry.EG8rvHcM.js";import{C as Yt}from"../chunks/Code.D6ZjNxh-.js";import{A as jt}from"../chunks/Alert.D7nfAT1w.js";import{T as Ht}from"../chunks/Tome_Detail.B-uyC6q2.js";import{g as Qt}from"../chunks/tome.DY2a_032.js";import{D as Y}from"../chunks/Dialog.DprDUgsh.js";import{T as Ut}from"../chunks/Tome_Link.JyuMUvsG.js";import{M as Wt}from"../chunks/Mdn_Link.1sS4a_UX.js";import{s as Gt}from"../chunks/attributes.CMkiqDYj.js";import{e as Jt}from"../chunks/svelte-element.D0FJwh1R.js";function Lt(o,e,s){if(o.multiple)return Vt(o,e);for(var v of o.options){var p=rt(v);if(qt(p,e)){v.selected=!0;return}}(!s||e!==void 0)&&(o.selectedIndex=-1)}function Kt(o,e){Tt(()=>{var s=new MutationObserver(()=>{var v=o.__value;Lt(o,v)});return s.observe(o,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{s.disconnect()}})}function yt(o,e,s){var v=!0;Ft(o,"change",()=>{var p;if(o.multiple)p=[].map.call(o.querySelectorAll(":checked"),rt);else{var $=o.querySelector(":checked");p=$&&rt($)}s(p)}),Tt(()=>{var p=e();if(Lt(o,p,v),v&&p===void 0){var $=o.querySelector(":checked");$!==null&&(p=rt($),s(p))}o.__value=p,v=!1}),Kt(o)}function Vt(o,e){for(var s of o.options)s.selected=~e.indexOf(rt(s))}function rt(o){return"__value"in o?o.__value:o.value}function Xt(o,e){At(e,!0);const s=Pt(),v=()=>Mt(e.dialogs,"$dialogs",s);var p=j(),$=P(p);at($,71,v,(z,w)=>f(z),(z,w,H)=>{var Q=zt(()=>f(H)===v().length-1);Y(z,ct({get onclose(){return e.onclose}},()=>f(w).dialog_props,{get index(){return f(H)},get active(){return u(Q)},children:(U,W)=>{var k=j(),R=P(k);E(R,()=>e.children,tt=>{var N=j(),G=P(N);Gt(G,()=>e.children,()=>f(w)),n(tt,N)},tt=>{var N=j(),G=P(N);Dt(G,()=>f(w).Component,(J,st)=>{st(J,ct(()=>f(w).props))}),n(tt,N)}),n(U,k)},$$slots:{default:!0}}))}),n(o,p),It()}const Zt=(o,e,s)=>({Component:o,props:e,dialog_props:s}),$t=["centered","page"];function te(o,e){const s=Nt(e,"tag",3,"span");var v=j(),p=P(v);Jt(p,s,!1,($,z)=>{X(()=>{_t($,"font-size",e.size),_t($,"padding",e.padding)});var w=wt();X(()=>it(w,e.text)),n(z,w)}),n(o,v)}var ee=(o,e)=>_(e,!0),oe=(o,e)=>_(e,!0),ae=(o,e)=>_(e,!0),re=(o,e)=>_(e,!0),ne=(o,e)=>e(5),ie=m(`<section><p>A modal that overlays the entire page. Uses <!> to allow usage from any
			component without inheriting styles.</p> <aside>⚠️ This will change to use and align APIs with the builtin <!>. API</aside></section> <section><!></section> <section><button type="button" class="mb_lg">open a dialog</button> <button type="button" class="mb_lg">open a dialog that overflows vertically</button> <button type="button" class="mb_lg">open a dialog with <code>layout="page"</code> instead of the default <code>layout='centered'</code></button> <button type="button" class="mb_lg">open a dialog containing another dialog</button> <button type="button" class="mb_lg">open many dialogs</button></section>`,1),se=m('<div class="pane p_xl box"><h1>attention</h1> <p>this is a dialog</p> <button type="button">ok</button></div>'),le=m("<p>this is a dialog that overflows vertically</p>"),_e=m('<div class="pane p_xl"><h1>attention</h1> <!> <button type="button">close</button></div>'),ce=m("<option> </option>"),de=m(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>.</p> <p>Instead of being centered by default, the dialog's contents are aligned to the top of
						the page and grow downward. It's useful when the dialog's contents change in height.</p>`,1),ue=m("<option> </option>"),ve=m(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>, the default value.</p> <p>It's often the best choice, but it can be undesirable in some situations, like when the
						height of the content changes as the user does things, leading to a janky experience.</p>`,1),pe=(o,e)=>e(),ge=(o,e)=>e(),fe=(o,e,s)=>e(f(s)),me=m("gracefully",1),he=m("ungracefully",1),be=m('<p><button type="button">✕</button> new stuff appears <!></p>'),ke=m('<div class="pane p_xl width_md"><!> <p><button type="button">add item</button> <button type="button">remove all</button></p> <!> <button type="button">close</button></div>'),xe=(o,e)=>_(e,!0),ye=m('<div class="pane p_xl"><h1>dialog 1</h1> <p>dialogs can open more dialogs</p> <button type="button">open another dialog</button></div>'),$e=(o,e)=>_(e,!0),we=m('<div class="pane p_xl"><h1>dialog 2</h1> <p>this dialog can open more dialogs</p> <p>this is the second dialog</p> <button type="button">open another dialog</button></div>'),Te=(o,e)=>_(e,!1),Ae=(o,e,s,v)=>{_(e,Z(_(s,Z(_(v,!1)))))},Ie=m('<div class="pane p_xl"><h1>3 dialogs!</h1> <button type="button">close dialog</button></div> <div class="pane p_xl"><h1>and another <code>.pane</code></h1> <button type="button">close all dialogs</button></div>',1),De=m('<div class="pane"><!></div>'),Pe=m("<!> <!> <!> <!> <!> <!> <!> <!>",1);function Xe(o,e){At(e,!0);const s=Pt(),v=()=>Mt(J,"$dialogs",s),$=Qt("Dialog");let z=F(!1),w=F(!1),H=F(!1),Q=F(!1),U=F(!1),W=F(!1),k=F("page"),R=F(Z([]));const tt=c=>{_(R,Z(u(R).filter(b=>b!==c)))},N=()=>{_(R,Z(u(R).concat({})))},G=()=>{_(R,Z([]))},J=Ot([]),st=c=>{const b=g=>"!".repeat(c*3-g*3);xt(J,Array.from({length:c},(g,a)=>Zt(te,{text:b(a),size:"var(--size_xl4)",padding:"var(--space_sm) var(--space_lg)"})))};var dt=Pe(),ut=P(dt);Ht(ut,{tome:$,children:(c,b)=>{var g=ie(),a=P(g),r=l(a),h=t(l(r));Ut(h,{name:"Teleport"}),V(),i(r);var d=t(t(r,!0)),x=t(l(d));Wt(x,{path:"Web/HTML/Element/dialog"}),V(),i(d),i(a);var M=t(t(a,!0)),O=l(M);Yt(O,{content:`<button onclick={() => (opened = true)}>
	open a dialog
</button>
{#if opened}
	<Dialog onclose={() => (opened = false)}>
		{#snippet children(close)}
			<div class="pane p_xl box">
				<h1>attention</h1>
				<p>this is a dialog</p>
				<button onclick={close}>ok</button>
			</div>
		{/snippet}
	</Dialog>
{/if}`}),i(M);var et=t(t(M,!0)),T=l(et);T.__click=[ee,z];var L=t(t(T,!0));L.__click=[oe,w];var q=t(t(L,!0));q.__click=[ae,H],i(q);var y=t(t(q,!0));y.__click=[re,Q];var A=t(t(y,!0));A.__click=[ne,st],i(et),n(c,g)},$$slots:{default:!0}});var vt=t(t(ut,!0));E(vt,()=>u(z),c=>{Y(c,{onclose:()=>_(z,!1),children:(g,a=nt)=>{var r=se(),h=l(r),d=t(t(h,!0)),x=t(t(d,!0));x.__click=a(),i(r),n(g,r)}})});var pt=t(t(vt,!0));E(pt,()=>u(w),c=>{Y(c,{onclose:()=>_(w,!1),children:(g,a=nt)=>{var r=_e(),h=l(r),d=t(t(h,!0));at(d,65,()=>({length:120}),lt,(M,O,et)=>{var T=le();n(M,T)});var x=t(t(d,!0));x.__click=a(),i(r),n(g,r)}})});var gt=t(t(pt,!0));E(gt,()=>u(H),c=>{Y(c,{onclose:()=>(_(H,!1),G()),get layout(){return u(k)},children:(g,a=nt)=>{var r=ke(),h=l(r);E(h,()=>u(k)==="page",T=>{var L=de(),q=P(L),y=t(l(q)),A=t(t(y,!0)),S=t(l(A));at(S,73,()=>$t,lt,(I,D,K)=>{var C=ce(),B={},bt=l(C);i(C),X(()=>{B!==(B=f(D))&&(C.value=(C.__value=f(D))==null?"":f(D)),it(bt,f(D))}),n(I,C)}),i(S),V(),i(A),V(),i(q),yt(S,()=>u(k),I=>_(k,I)),n(T,L)},T=>{var L=j(),q=P(L);E(q,()=>u(k)==="centered",y=>{var A=ve(),S=P(A),I=t(l(S)),D=t(t(I,!0)),K=t(l(D));at(K,73,()=>$t,lt,(C,B,bt)=>{var ot=ue(),kt={},Et=l(ot);i(ot),X(()=>{kt!==(kt=f(B))&&(ot.value=(ot.__value=f(B))==null?"":f(B)),it(Et,f(B))}),n(C,ot)}),i(K),V(),i(D),V(),i(S),yt(K,()=>u(k),C=>_(k,C)),n(y,A)},y=>{jt(y,{status:"error",children:(A,S)=>{var I=wt();X(()=>it(I,`eek a bug! unknown layout "${u(k)??""}"`)),n(A,I)},$$slots:{default:!0}})},!0),n(T,L)});var d=t(t(h,!0)),x=l(d);x.__click=[pe,N];var M=t(t(x,!0));M.__click=[ge,G],i(d);var O=t(t(d,!0));at(O,68,()=>u(R),(T,L)=>f(T),(T,L,q)=>{var y=be();St(3,y,()=>Bt);var A=l(y);A.__click=[fe,tt,L];var S=t(t(A,!0));E(S,()=>u(k)==="page",I=>{var D=me();n(I,D)},I=>{var D=j(),K=P(D);E(K,()=>u(k)==="centered",C=>{var B=he();n(C,B)},null,!0),n(I,D)}),i(y),n(T,y)});var et=t(t(O,!0));et.__click=a(),i(r),X(()=>M.disabled=!u(R).length),n(g,r)}})});var ft=t(t(gt,!0));E(ft,()=>u(Q),c=>{Y(c,{onclose:()=>_(Q,!1),children:(b,g)=>{var a=ye(),r=l(a),h=t(t(r,!0)),d=t(t(h,!0));d.__click=[xe,U],i(a),n(b,a)},$$slots:{default:!0}})});var mt=t(t(ft,!0));E(mt,()=>u(U),c=>{Y(c,{onclose:()=>_(U,!1),children:(b,g)=>{var a=we(),r=l(a),h=t(t(r,!0)),d=t(t(h,!0)),x=t(t(d,!0));x.__click=[$e,W],i(a),n(b,a)},$$slots:{default:!0}})});var ht=t(t(mt,!0));E(ht,()=>u(W),c=>{Y(c,{onclose:()=>_(W,!1),children:(b,g)=>{var a=Ie(),r=P(a);_t(r,"margin-bottom","var(--space_xl3)");var h=l(r),d=t(t(h,!0));d.__click=[Te,W],i(r);var x=t(t(r,!0)),M=l(x);i(M);var O=t(t(M,!0));O.__click=[Ae,Q,U,W],i(x),n(b,a)},$$slots:{default:!0}})});var Ct=t(t(ht,!0));Xt(Ct,{dialogs:J,onclose:()=>{xt(J,v().slice(0,-1))},children:(b,g=nt)=>{var a=De(),r=l(a);Dt(r,()=>g().Component,(h,d)=>{d(h,ct(()=>g().props))}),i(a),n(b,a)}}),n(o,dt),It()}Rt(["click"]);export{Xe as component};
