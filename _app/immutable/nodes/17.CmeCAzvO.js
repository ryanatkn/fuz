import{b as H,a as n,f as D,F as xe,t as m,s as e,c,d as K,r as i}from"../chunks/disclose-version.BnDvccPf.js";import{i as ye,p as we,a as $e,P as h,g as d,d as Pe,t as V,C as B,n as l,Q as ae}from"../chunks/runtime.CkCVmNqE.js";import{s as re,d as Me}from"../chunks/render.Bl162W7G.js";import{i as Le,p as F}from"../chunks/proxy.CsZV8cf8.js";import{i as C}from"../chunks/if.CCANbKrT.js";import{e as te,i as ie}from"../chunks/each.N9hRfDKq.js";import{c as Te}from"../chunks/svelte-component.DU-Wpuj8.js";import{s as le}from"../chunks/style.iv2mhl8q.js";import{t as Ce,s as Ee}from"../chunks/index.DknrgkJM.js";import{l as ze}from"../chunks/shared.Bd8Rub9r.js";import{s as se,p as Re}from"../chunks/props.DTFO3L2D.js";import{C as qe}from"../chunks/Code.eYB644OU.js";import{A as Se}from"../chunks/Alert.CNpKez7b.js";import{T as Be}from"../chunks/Tome_Detail.DfpNI3hG.js";import{g as Fe}from"../chunks/tome.DY2a_032.js";import{D as j}from"../chunks/Dialog.fwTXtJry.js";import{T as Ne}from"../chunks/Tome_Link.DDakxGqJ.js";import{M as Oe}from"../chunks/Mdn_Link.B8Wh7ekG.js";import{s as Ye}from"../chunks/attributes.DNb3d--w.js";import{e as je}from"../chunks/svelte-element.YlM4Pnit.js";function Ae(o,t,s){if(o.multiple)return Qe(o,t);for(var g of o.options){var _=oe(g);if(Le(_,t)){g.selected=!0;return}}(!s||t!==void 0)&&(o.selectedIndex=-1)}function He(o,t){ye(()=>{var s=new MutationObserver(()=>{var g=o.__value;Ae(o,g)});return s.observe(o,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{s.disconnect()}})}function be(o,t,s){var g=!0;ze(o,"change",()=>{var _;if(o.multiple)_=[].map.call(o.querySelectorAll(":checked"),oe);else{var p=o.querySelector(":checked");_=p&&oe(p)}s(_)}),ye(()=>{var _=t();if(Ae(o,_,g),g&&_===void 0){var p=o.querySelector(":checked");p!==null&&(_=oe(p),s(_))}o.__value=_,g=!1}),He(o)}function Qe(o,t){for(var s of o.options)s.selected=~t.indexOf(oe(s))}function oe(o){return"__value"in o?o.__value:o.value}function Ue(o,t){we(t,!0);var s=H(),g=D(s);te(g,71,()=>t.dialogs,(_,p)=>h(_),(_,p,N)=>{var E=Pe(()=>h(N)===t.dialogs.length-1);j(_,se({get onclose(){return t.onclose}},()=>h(p).dialog_props,{get index(){return h(N)},get active(){return d(E)},children:(Q,U)=>{var x=H(),z=D(x);C(z,()=>t.children,X=>{var O=H(),W=D(O);Ye(W,()=>t.children,()=>h(p)),n(X,O)},X=>{var O=H(),W=D(O);Te(W,()=>h(p).Component,(G,ne)=>{ne(G,se(()=>h(p).props))}),n(X,O)}),n(Q,x)},$$slots:{default:!0}}))}),n(o,s),$e()}const We=(o,t,s)=>({Component:o,props:t,dialog_props:s}),ke=["centered","page"];function Ge(o,t){const s=Re(t,"tag",3,"span");var g=H(),_=D(g);je(_,s,!1,(p,N)=>{V(()=>{le(p,"font-size",t.size),le(p,"padding",t.padding)});var E=xe();V(()=>re(E,t.text)),n(N,E)}),n(o,g)}var Je=(o,t)=>l(t,!0),Ke=(o,t)=>l(t,!0),Ve=(o,t)=>l(t,!0),Xe=(o,t)=>l(t,!0),Ze=(o,t)=>t(5),et=m(`<section><p>A modal that overlays the entire page. Uses <!> to allow usage from any
			component without inheriting styles.</p> <aside>⚠️ This will change to use and align APIs with the builtin <!>. API</aside></section> <section><!></section> <section><button type="button" class="mb_lg">open a dialog</button> <button type="button" class="mb_lg">open a dialog that overflows vertically</button> <button type="button" class="mb_lg">open a dialog with <code>layout="page"</code> instead of the default <code>layout='centered'</code></button> <button type="button" class="mb_lg">open a dialog containing another dialog</button> <button type="button" class="mb_lg">open many dialogs</button></section>`,1),tt=m('<div class="pane p_xl box"><h1>attention</h1> <p>this is a dialog</p> <button type="button">ok</button></div>'),ot=m("<p>this is a dialog that overflows vertically</p>"),at=m('<div class="pane p_xl"><h1>attention</h1> <!> <button type="button">close</button></div>'),rt=m("<option> </option>"),nt=m(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>.</p> <p>Instead of being centered by default, the dialog's contents are aligned to the top of
						the page and grow downward. It's useful when the dialog's contents change in height.</p>`,1),it=m("<option> </option>"),lt=m(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>, the default value.</p> <p>It's often the best choice, but it can be undesirable in some situations, like when the
						height of the content changes as the user does things, leading to a janky experience.</p>`,1),st=(o,t)=>t(),_t=(o,t)=>t(),ct=(o,t,s)=>t(h(s)),dt=m("gracefully",1),ut=m("ungracefully",1),vt=m('<p><button type="button">✕</button> new stuff appears <!></p>'),pt=m('<div class="pane p_xl width_md"><!> <p><button type="button">add item</button> <button type="button">remove all</button></p> <!> <button type="button">close</button></div>'),gt=(o,t)=>l(t,!0),ft=m('<div class="pane p_xl"><h1>dialog 1</h1> <p>dialogs can open more dialogs</p> <button type="button">open another dialog</button></div>'),ht=(o,t)=>l(t,!0),mt=m('<div class="pane p_xl"><h1>dialog 2</h1> <p>this dialog can open more dialogs</p> <p>this is the second dialog</p> <button type="button">open another dialog</button></div>'),bt=(o,t)=>l(t,!1),kt=(o,t,s,g)=>{l(t,F(l(s,F(l(g,!1)))))},xt=m('<div class="pane p_xl"><h1>3 dialogs!</h1> <button type="button">close dialog</button></div> <div class="pane p_xl"><h1>and another <code>.pane</code></h1> <button type="button">close all dialogs</button></div>',1),yt=m('<div class="pane"><!></div>'),wt=m("<!> <!> <!> <!> <!> <!> <!> <!>",1);function Ht(o,t){we(t,!0);const g=Fe("Dialog");let _=B(!1),p=B(!1),N=B(!1),E=B(!1),Q=B(!1),U=B(!1),x=B("page"),z=B(F([]));const X=u=>{l(z,F(d(z).filter(k=>k!==u)))},O=()=>{l(z,F(d(z).concat({})))},W=()=>{l(z,F([]))};let G=B(F([]));const ne=u=>{const k=f=>"!".repeat(u*3-f*3);l(G,F(Array.from({length:u},(f,a)=>We(Ge,{text:k(a),size:"var(--size_xl4)",padding:"var(--space_sm) var(--space_lg)"}))))};var _e=wt(),ce=D(_e);Be(ce,{tome:g,children:(u,k)=>{var f=et(),a=D(f),r=c(a),b=e(c(r));Ne(b,{name:"Teleport"}),K(),i(r);var v=e(e(r,!0)),y=e(c(v));Oe(y,{path:"Web/HTML/Element/dialog"}),K(),i(v),i(a);var P=e(e(a,!0)),Y=c(P);qe(Y,{content:`<button onclick={() => (opened = true)}>
	open a dialog
</button>
{#if opened}
	<Dialog onclose={() => (opened = false)}>
		{#snippet children(close)}
			<div class="pane p_xl box">
				<h1>attention</h1>
				<p>this is a dialog</p>
				<button onclick={close}>ok</button>
			</div>
		{/snippet}
	</Dialog>
{/if}`}),i(P);var Z=e(e(P,!0)),$=c(Z);$.__click=[Je,_];var M=e(e($,!0));M.__click=[Ke,p];var R=e(e(M,!0));R.__click=[Ve,N],i(R);var w=e(e(R,!0));w.__click=[Xe,E];var T=e(e(w,!0));T.__click=[Ze,ne],i(Z),n(u,f)},$$slots:{default:!0}});var de=e(e(ce,!0));C(de,()=>d(_),u=>{j(u,{onclose:()=>l(_,!1),children:(f,a=ae)=>{var r=tt(),b=c(r),v=e(e(b,!0)),y=e(e(v,!0));y.__click=a(),i(r),n(f,r)}})});var ue=e(e(de,!0));C(ue,()=>d(p),u=>{j(u,{onclose:()=>l(p,!1),children:(f,a=ae)=>{var r=at(),b=c(r),v=e(e(b,!0));te(v,65,()=>({length:120}),ie,(P,Y,Z)=>{var $=ot();n(P,$)});var y=e(e(v,!0));y.__click=a(),i(r),n(f,r)}})});var ve=e(e(ue,!0));C(ve,()=>d(N),u=>{j(u,{onclose:()=>(l(N,!1),W()),get layout(){return d(x)},children:(f,a=ae)=>{var r=pt(),b=c(r);C(b,()=>d(x)==="page",$=>{var M=nt(),R=D(M),w=e(c(R)),T=e(e(w,!0)),q=e(c(T));te(q,73,()=>ke,ie,(A,I,J)=>{var L=rt(),S={},he=c(L);i(L),V(()=>{S!==(S=h(I))&&(L.value=(L.__value=h(I))==null?"":h(I)),re(he,h(I))}),n(A,L)}),i(q),K(),i(T),K(),i(R),be(q,()=>d(x),A=>l(x,A)),n($,M)},$=>{var M=H(),R=D(M);C(R,()=>d(x)==="centered",w=>{var T=lt(),q=D(T),A=e(c(q)),I=e(e(A,!0)),J=e(c(I));te(J,73,()=>ke,ie,(L,S,he)=>{var ee=it(),me={},De=c(ee);i(ee),V(()=>{me!==(me=h(S))&&(ee.value=(ee.__value=h(S))==null?"":h(S)),re(De,h(S))}),n(L,ee)}),i(J),K(),i(I),K(),i(q),be(J,()=>d(x),L=>l(x,L)),n(w,T)},w=>{Se(w,{status:"error",children:(T,q)=>{var A=xe();V(()=>re(A,`eek a bug! unknown layout "${d(x)??""}"`)),n(T,A)},$$slots:{default:!0}})},!0),n($,M)});var v=e(e(b,!0)),y=c(v);y.__click=[st,O];var P=e(e(y,!0));P.__click=[_t,W],i(v);var Y=e(e(v,!0));te(Y,68,()=>d(z),($,M)=>h($),($,M,R)=>{var w=vt();Ce(3,w,()=>Ee);var T=c(w);T.__click=[ct,X,M];var q=e(e(T,!0));C(q,()=>d(x)==="page",A=>{var I=dt();n(A,I)},A=>{var I=H(),J=D(I);C(J,()=>d(x)==="centered",L=>{var S=ut();n(L,S)},null,!0),n(A,I)}),i(w),n($,w)});var Z=e(e(Y,!0));Z.__click=a(),i(r),V(()=>P.disabled=!d(z).length),n(f,r)}})});var pe=e(e(ve,!0));C(pe,()=>d(E),u=>{j(u,{onclose:()=>l(E,!1),children:(k,f)=>{var a=ft(),r=c(a),b=e(e(r,!0)),v=e(e(b,!0));v.__click=[gt,Q],i(a),n(k,a)},$$slots:{default:!0}})});var ge=e(e(pe,!0));C(ge,()=>d(Q),u=>{j(u,{onclose:()=>l(Q,!1),children:(k,f)=>{var a=mt(),r=c(a),b=e(e(r,!0)),v=e(e(b,!0)),y=e(e(v,!0));y.__click=[ht,U],i(a),n(k,a)},$$slots:{default:!0}})});var fe=e(e(ge,!0));C(fe,()=>d(U),u=>{j(u,{onclose:()=>l(U,!1),children:(k,f)=>{var a=xt(),r=D(a);le(r,"margin-bottom","var(--space_xl3)");var b=c(r),v=e(e(b,!0));v.__click=[bt,U],i(r);var y=e(e(r,!0)),P=c(y);i(P);var Y=e(e(P,!0));Y.__click=[kt,E,Q,U],i(y),n(k,a)},$$slots:{default:!0}})});var Ie=e(e(fe,!0));Ue(Ie,{get dialogs(){return d(G)},onclose:()=>{l(G,F(d(G).slice(0,-1)))},children:(k,f=ae)=>{var a=yt(),r=c(a);Te(r,()=>f().Component,(b,v)=>{v(b,se(()=>f().props))}),i(a),n(k,a)}}),n(o,_e),$e()}Me(["click"]);export{Ht as component};
