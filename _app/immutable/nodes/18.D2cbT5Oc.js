import{l as qt,c as V,a as l,j as it,t as y,k as Ct}from"../chunks/ZFNbJ4mV.js";import{F as yt,aR as Rt,p as xt,f as B,a as wt,g as _,u as zt,X as G,ap as Y,N as ht,s as o,Z as s,O as d,a3 as j,_ as n,a2 as rt}from"../chunks/C1MeiME0.js";import{s as st}from"../chunks/JsoYPy0X.js";import{i as M}from"../chunks/D20ub3TI.js";import{e as tt,i as Nt}from"../chunks/JaLCTAlu.js";import{c as Tt}from"../chunks/DvqKDDrd.js";import{t as Ot,s as Yt}from"../chunks/50gWHJqJ.js";import{s as dt,p as jt}from"../chunks/BTdXiiDx.js";import{C as Bt}from"../chunks/CuRgvGsS.js";import{A as Ft}from"../chunks/CQAjDxre.js";import{T as Ht}from"../chunks/DVV3NFQa.js";import{g as Ut}from"../chunks/0VawP5Jr.js";import{D as X}from"../chunks/B1ziY32z.js";import{T as Wt}from"../chunks/z089v-iH.js";import{M as Xt}from"../chunks/BuL1l6Sf.js";import{s as Zt,a as Gt,S as Jt}from"../chunks/D7_k7eAj.js";import{e as Kt}from"../chunks/D7m71n1Z.js";function At(e,t,c){if(e.multiple)return Vt(e,t);for(var f of e.options){var v=et(f);if(Rt(v,t)){f.selected=!0;return}}(!c||t!==void 0)&&(e.selectedIndex=-1)}function Qt(e,t){yt(()=>{var c=new MutationObserver(()=>{var f=e.__value;At(e,f)});return c.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{c.disconnect()}})}function mt(e,t,c=t){var f=!0;qt(e,"change",v=>{var b=v?"[selected]":":checked",w;if(e.multiple)w=[].map.call(e.querySelectorAll(b),et);else{var T=e.querySelector(b)??e.querySelector("option:not([disabled])");w=T&&et(T)}c(w)}),yt(()=>{var v=t();if(At(e,v,f),f&&v===void 0){var b=e.querySelector(":checked");b!==null&&(v=et(b),c(v))}e.__value=v,f=!1}),Qt(e)}function Vt(e,t){for(var c of e.options)c.selected=~t.indexOf(et(c))}function et(e){return"__value"in e?e.__value:e.value}function te(e,t){xt(t,!0);var c=V(),f=B(c);tt(f,18,()=>t.dialogs,v=>v,(v,b,w)=>{const T=zt(()=>_(w)===t.dialogs.length-1);X(v,dt({get onclose(){return t.onclose}},()=>b.dialog_props,{get index(){return _(w)},get active(){return _(T)},children:(E,Z)=>{var x=V(),S=B(x);{var lt=q=>{var P=V(),J=B(P);Zt(J,()=>t.children,()=>b),l(q,P)},_t=q=>{var P=V(),J=B(P);Tt(J,()=>b.Component,(ot,at)=>{at(ot,dt(()=>b.props))}),l(q,P)};M(S,q=>{t.children?q(lt):q(_t,!1)})}l(E,x)},$$slots:{default:!0}}))}),l(e,c),wt()}const ee=(e,t,c)=>({Component:e,props:t,dialog_props:c}),kt=["centered","page"];function oe(e,t){const c=jt(t,"tag",3,"span");var f=V(),v=B(f);Kt(v,c,!1,(b,w)=>{let T;G(()=>T=Gt(b,T,{style:"",[Jt]:{"font-size":t.size,padding:t.padding}}));var E=it();G(()=>st(E,t.text)),l(w,E)}),l(e,f)}var ae=(e,t)=>d(t,!0),ne=(e,t)=>d(t,!0),re=(e,t)=>d(t,!0),ie=(e,t)=>d(t,!0),se=(e,t)=>t(5),le=y(`<section><p>A modal that overlays the entire page. Uses <!> to allow usage from any
			component without inheriting styles.</p> <aside>⚠️ This will change to use and align APIs with the builtin <!>. API</aside></section> <section><!></section> <section><button type="button" class="mb_lg">open a dialog</button> <button type="button" class="mb_lg">open a dialog that overflows vertically</button> <button type="button" class="mb_lg">open a dialog with <code>layout="page"</code> instead of the default <code>layout='centered'</code></button> <button type="button" class="mb_lg">open a dialog containing another dialog</button> <button type="button" class="mb_lg">open many dialogs</button></section>`,1),_e=y('<div class="box"><div class="pane p_xl box"><h1>attention</h1> <p>this is a dialog</p> <button type="button">ok</button></div></div>'),de=y("<p>this is a dialog that overflows vertically</p>"),ce=y('<div class="box"><div class="pane p_xl"><h1>attention</h1> <!> <button type="button">close</button></div></div>'),ve=y("<option> </option>"),ue=y(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>.</p> <p>Instead of being centered by default, the dialog's contents are aligned to the top of
							the page and grow downward. It's useful when the dialog's contents change in height.</p>`,1),pe=y("<option> </option>"),fe=y(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>, the default value.</p> <p>It's often the best choice, but it can be undesirable in some situations, like when
							the height of the content changes as the user does things, leading to a janky
							experience.</p>`,1),ge=(e,t)=>t(),be=(e,t)=>t(),he=(e,t,c)=>t(c),me=y('<p><button type="button">✕</button> new stuff appears <!></p>'),ke=y('<div class="box"><div class="pane p_xl width_md"><!> <p><button type="button">add item</button> <button type="button">remove all</button></p> <!> <button type="button">close</button></div></div>'),ye=(e,t)=>d(t,!0),xe=y('<div class="box"><div class="pane p_xl"><h1>dialog 1</h1> <p>dialogs can open more dialogs</p> <button type="button">open another dialog</button></div></div>'),we=(e,t)=>d(t,!0),Te=y('<div class="box"><div class="pane p_xl"><h1>dialog 2</h1> <p>this dialog can open more dialogs</p> <p>this is the second dialog</p> <button type="button">open another dialog</button></div></div>'),Ae=(e,t)=>d(t,!1),Ie=(e,t,c,f)=>{d(t,d(c,d(f,!1),!0),!0)},$e=y('<div class="box gap_xl3"><div class="pane p_xl"><h1>3 dialogs!</h1> <button type="button">close dialog</button></div> <div class="pane p_xl"><h1>and another <code>.pane</code></h1> <button type="button">close all dialogs</button></div></div>'),De=y('<div class="pane p_md width_md mx_auto"><!></div>'),Me=y("<!> <!> <!> <!> <!> <!> <!> <!>",1);function Xe(e,t){xt(t,!0);const f=Ut("Dialog");let v=Y(!1),b=Y(!1),w=Y(!1),T=Y(!1),E=Y(!1),Z=Y(!1),x=Y("page"),S=Y(ht([]));const lt=a=>{d(S,_(S).filter(h=>h!==a),!0)},_t=()=>{d(S,_(S).concat({}),!0)},q=()=>{d(S,[],!0)};let P=Y(ht([]));const J=a=>{const h=g=>"!".repeat(a*3-g*3);d(P,Array.from({length:a},(g,r)=>ee(oe,{text:h(r),size:"var(--size_xl4)",padding:"var(--space_sm) var(--space_lg)"})),!0)};var ot=Me(),at=B(ot);Ht(at,{tome:f,children:(a,h)=>{var g=le(),r=B(g),i=s(r),u=o(s(i));Wt(u,{name:"Teleport"}),j(),n(i);var m=o(i,2),C=o(s(m));Xt(C,{path:"Web/HTML/Element/dialog"}),j(),n(m),n(r);var A=o(r,2),R=s(A);Bt(R,{content:`<button onclick={() => (opened = true)}>
	open a dialog
</button>
{#if opened}
	<Dialog onclose={() => (opened = false)}>
		{#snippet children(close)}
			<div class="box">
				<div class="pane p_xl box">
					<h1>attention</h1>
					<p>this is a dialog</p>
					<button onclick={close}>ok</button>
				</div>
			</div>
		{/snippet}
	</Dialog>
{/if}`}),n(A);var F=o(A,2),K=s(F);K.__click=[ae,v];var Q=o(K,2);Q.__click=[ne,b];var nt=o(Q,2);nt.__click=[re,w];var k=o(nt,2);k.__click=[ie,T];var D=o(k,2);D.__click=[se,J],n(F),l(a,g)},$$slots:{default:!0}});var ct=o(at,2);{var It=a=>{X(a,{onclose:()=>d(v,!1),children:(g,r=rt)=>{var i=_e(),u=s(i),m=o(s(u),4);m.__click=function(...C){var A;(A=r())==null||A.apply(this,C)},n(u),n(i),l(g,i)},$$slots:{default:!0}})};M(ct,a=>{_(v)&&a(It)})}var vt=o(ct,2);{var $t=a=>{X(a,{onclose:()=>d(b,!1),children:(g,r=rt)=>{var i=ce(),u=s(i),m=o(s(u),2);tt(m,16,()=>({length:120}),Nt,(A,R)=>{var F=de();l(A,F)});var C=o(m,2);C.__click=function(...A){var R;(R=r())==null||R.apply(this,A)},n(u),n(i),l(g,i)},$$slots:{default:!0}})};M(vt,a=>{_(b)&&a($t)})}var ut=o(vt,2);{var Dt=a=>{X(a,{onclose:()=>(d(w,!1),q()),get layout(){return _(x)},children:(g,r=rt)=>{var i=ke(),u=s(i),m=s(u);{var C=k=>{var D=ue(),z=B(D),H=o(s(z),3),I=o(s(H));tt(I,20,()=>kt,$=>$,($,N)=>{var p=ve(),L={},O=s(p,!0);n(p),G(()=>{L!==(L=N)&&(p.value=(p.__value=N)??""),st(O,N)}),l($,p)}),n(I),j(),n(H),j(),n(z),j(2),mt(I,()=>_(x),$=>d(x,$)),l(k,D)},A=(k,D)=>{{var z=I=>{var $=fe(),N=B($),p=o(s(N),3),L=o(s(p));tt(L,20,()=>kt,O=>O,(O,U)=>{var W=pe(),bt={},St=s(W,!0);n(W),G(()=>{bt!==(bt=U)&&(W.value=(W.__value=U)??""),st(St,U)}),l(O,W)}),n(L),j(),n(p),j(),n(N),j(2),mt(L,()=>_(x),O=>d(x,O)),l(I,$)},H=I=>{Ft(I,{status:"error",children:($,N)=>{j();var p=it();G(()=>st(p,`eek a bug! unknown layout "${_(x)??""}"`)),l($,p)},$$slots:{default:!0}})};M(k,I=>{_(x)==="centered"?I(z):I(H,!1)},D)}};M(m,k=>{_(x)==="page"?k(C):k(A,!1)})}var R=o(m,2),F=s(R);F.__click=[ge,_t];var K=o(F,2);K.__click=[be,q],n(R);var Q=o(R,2);tt(Q,16,()=>_(S),k=>k,(k,D)=>{var z=me(),H=s(z);H.__click=[he,lt,D];var I=o(H,2);{var $=p=>{var L=it("gracefully");l(p,L)},N=(p,L)=>{{var O=U=>{var W=it("ungracefully");l(U,W)};M(p,U=>{_(x)==="centered"&&U(O)},L)}};M(I,p=>{_(x)==="page"?p($):p(N,!1)})}n(z),Ot(3,z,()=>Yt),l(k,z)});var nt=o(Q,2);nt.__click=function(...k){var D;(D=r())==null||D.apply(this,k)},n(u),n(i),G(()=>K.disabled=!_(S).length),l(g,i)},$$slots:{default:!0}})};M(ut,a=>{_(w)&&a(Dt)})}var pt=o(ut,2);{var Mt=a=>{X(a,{onclose:()=>d(T,!1),children:(h,g)=>{var r=xe(),i=s(r),u=o(s(i),4);u.__click=[ye,E],n(i),n(r),l(h,r)},$$slots:{default:!0}})};M(pt,a=>{_(T)&&a(Mt)})}var ft=o(pt,2);{var Pt=a=>{X(a,{onclose:()=>d(E,!1),children:(h,g)=>{var r=Te(),i=s(r),u=o(s(i),6);u.__click=[we,Z],n(i),n(r),l(h,r)},$$slots:{default:!0}})};M(ft,a=>{_(E)&&a(Pt)})}var gt=o(ft,2);{var Lt=a=>{X(a,{onclose:()=>d(Z,!1),children:(h,g)=>{var r=$e(),i=s(r),u=o(s(i),2);u.__click=[Ae,Z],n(i);var m=o(i,2),C=o(s(m),2);C.__click=[Ie,T,E,Z],n(m),n(r),l(h,r)},$$slots:{default:!0}})};M(gt,a=>{_(Z)&&a(Lt)})}var Et=o(gt,2);te(Et,{get dialogs(){return _(P)},onclose:()=>{d(P,_(P).slice(0,-1),!0)},children:(h,g=rt)=>{var r=De(),i=s(r);Tt(i,()=>g().Component,(u,m)=>{m(u,dt(()=>g().props))}),n(r),l(h,r)},$$slots:{default:!0}}),l(e,ot),wt()}Ct(["click"]);export{Xe as component};
