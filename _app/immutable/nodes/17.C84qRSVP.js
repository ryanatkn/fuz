import{b as H,f as C,a as n,I as ye,s as e,t as h,c as l,d as j,r as i}from"../chunks/disclose-version.rfpNPRPV.js";import{i as xe,p as we,a as $e,g as s,T as I,d as Me,t as V,C as N,n as _,U as ae}from"../chunks/runtime.BxFpMM5w.js";import{s as re}from"../chunks/render.CS4eACGI.js";import{i as R}from"../chunks/if.BEc--qLH.js";import{e as te,i as ie}from"../chunks/each.BiuPCka9.js";import{c as Te}from"../chunks/svelte-component.B4MlYP7D.js";import{e as Pe}from"../chunks/utils.T4Zd4vGB.js";import{s as le}from"../chunks/style.Bk7ejTAN.js";import{t as Le,s as Ce}from"../chunks/index.Dk2meZB-.js";import{i as Ee,p as O}from"../chunks/proxy.BBuD2jL9.js";import{l as ze}from"../chunks/shared.An_MW368.js";import{s as se,p as Re}from"../chunks/props.CG8-7N7W.js";import{C as qe}from"../chunks/Code.zFpC67uF.js";import{A as Se}from"../chunks/Alert.DuFXnMTk.js";import{T as Be}from"../chunks/Tome_Detail.Bdn2uCQw.js";import{g as Ne}from"../chunks/tome.BCeixvcZ.js";import{D as F}from"../chunks/Dialog.CtyeA8x3.js";import{T as Oe}from"../chunks/Tome_Link.Cp2nCgtU.js";import{M as Ue}from"../chunks/Mdn_Link.HQMNIXT9.js";import{s as Ye}from"../chunks/attributes.B8BVxPeI.js";import{e as je}from"../chunks/svelte-element.DsUBmzJn.js";function Ae(o,t,c){if(o.multiple)return He(o,t);for(var f of o.options){var d=oe(f);if(Ee(d,t)){f.selected=!0;return}}(!c||t!==void 0)&&(o.selectedIndex=-1)}function Fe(o,t){xe(()=>{var c=new MutationObserver(()=>{var f=o.__value;Ae(o,f)});return c.observe(o,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{c.disconnect()}})}function be(o,t,c){var f=!0;ze(o,"change",()=>{var d;if(o.multiple)d=[].map.call(o.querySelectorAll(":checked"),oe);else{var p=o.querySelector(":checked");d=p&&oe(p)}c(d)}),xe(()=>{var d=t();if(Ae(o,d,f),f&&d===void 0){var p=o.querySelector(":checked");p!==null&&(d=oe(p),c(d))}o.__value=d,f=!1}),Fe(o)}function He(o,t){for(var c of o.options)c.selected=~t.indexOf(oe(c))}function oe(o){return"__value"in o?o.__value:o.value}function We(o,t){we(t,!0);var c=H(),f=C(c);te(f,70,()=>t.dialogs,(d,p)=>d,(d,p,U)=>{var q=Me(()=>s(U)===t.dialogs.length-1);F(d,se({get onclose(){return t.onclose}},()=>I(p).dialog_props,{get index(){return s(U)},get active(){return s(q)},children:(W,G)=>{var w=H(),S=C(w);R(S,()=>t.children,X=>{var Y=H(),J=C(Y);Ye(J,()=>t.children,()=>I(p)),n(X,Y)},X=>{var Y=H(),J=C(Y);Te(J,()=>I(p).Component,(K,ne)=>{ne(K,se(()=>I(p).props))}),n(X,Y)}),n(W,w)},$$slots:{default:!0}}))}),n(o,c),$e()}const Ge=(o,t,c)=>({Component:o,props:t,dialog_props:c}),ke=["centered","page"];function Je(o,t){const c=Re(t,"tag",3,"span");var f=H(),d=C(f);je(d,c,!1,(p,U)=>{V(()=>{le(p,"font-size",t.size,void 0,!0),le(p,"padding",t.padding,void 0,!0)});var q=ye();V(()=>re(q,t.text)),n(U,q)}),n(o,f)}var Ke=(o,t)=>_(t,!0),Qe=(o,t)=>_(t,!0),Ve=(o,t)=>_(t,!0),Xe=(o,t)=>_(t,!0),Ze=(o,t)=>t(5),et=h(`<section><p>A modal that overlays the entire page. Uses <!> to allow usage from any
			component without inheriting styles.</p> <aside>⚠️ This will change to use and align APIs with the builtin <!>. API</aside></section> <section><!></section> <section><button type="button" class="mb_lg">open a dialog</button> <button type="button" class="mb_lg">open a dialog that overflows vertically</button> <button type="button" class="mb_lg">open a dialog with <code>layout="page"</code> instead of the default <code>layout='centered'</code></button> <button type="button" class="mb_lg">open a dialog containing another dialog</button> <button type="button" class="mb_lg">open many dialogs</button></section>`,1),tt=h('<div class="pane p_xl box"><h1>attention</h1> <p>this is a dialog</p> <button type="button">ok</button></div>'),ot=h("<p>this is a dialog that overflows vertically</p>"),at=h('<div class="pane p_xl"><h1>attention</h1> <!> <button type="button">close</button></div>'),rt=h("<option> </option>"),nt=h(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>.</p> <p>Instead of being centered by default, the dialog's contents are aligned to the top of
						the page and grow downward. It's useful when the dialog's contents change in height.</p>`,1),it=h("<option> </option>"),lt=h(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>, the default value.</p> <p>It's often the best choice, but it can be undesirable in some situations, like when the
						height of the content changes as the user does things, leading to a janky experience.</p>`,1),st=(o,t)=>t(),_t=(o,t)=>t(),ct=(o,t,c)=>t(I(c)),dt=h("gracefully",1),ut=h("ungracefully",1),vt=h('<p><button type="button">✕</button> new stuff appears <!></p>'),pt=h('<div class="pane p_xl width_md"><!> <p><button type="button">add item</button> <button type="button">remove all</button></p> <!> <button type="button">close</button></div>'),ft=(o,t)=>_(t,!0),gt=h('<div class="pane p_xl"><h1>dialog 1</h1> <p>dialogs can open more dialogs</p> <button type="button">open another dialog</button></div>'),ht=(o,t)=>_(t,!0),mt=h('<div class="pane p_xl"><h1>dialog 2</h1> <p>this dialog can open more dialogs</p> <p>this is the second dialog</p> <button type="button">open another dialog</button></div>'),bt=(o,t)=>_(t,!1),kt=(o,t,c,f)=>{_(t,O(_(c,O(_(f,!1)))))},yt=h('<div class="pane p_xl"><h1>3 dialogs!</h1> <button type="button">close dialog</button></div> <div class="pane p_xl"><h1>and another <code>.pane</code></h1> <button type="button">close all dialogs</button></div>',1),xt=h('<div class="pane"><!></div>'),wt=h("<!> <!> <!> <!> <!> <!> <!> <!>",1);function Ht(o,t){we(t,!0);const f=Ne("Dialog");let d=N(!1),p=N(!1),U=N(!1),q=N(!1),W=N(!1),G=N(!1),w=N("page"),S=N(O([]));const X=u=>{_(S,O(s(S).filter(k=>k!==u)))},Y=()=>{_(S,O(s(S).concat({})))},J=()=>{_(S,O([]))};let K=N(O([]));const ne=u=>{const k=g=>"!".repeat(u*3-g*3);_(K,O(Array.from({length:u},(g,a)=>Ge(Je,{text:k(a),size:"var(--size_xl4)",padding:"var(--space_sm) var(--space_lg)"}))))};var _e=wt(),ce=C(_e);Be(ce,{tome:f,children:(u,k)=>{var g=et(),a=C(g),r=l(a),m=e(l(r));Oe(m,{name:"Teleport"}),j(),i(r);var v=e(e(r,!0)),$=e(l(v));Ue($,{path:"Web/HTML/Element/dialog"}),j(),i(v),i(a);var b=e(e(a,!0)),T=l(b);qe(T,{content:`<button onclick={() => (opened = true)}>
	open a dialog
</button>
{#if opened}
	<Dialog onclose={() => (opened = false)}>
		{#snippet children(close)}
			<div class="pane p_xl box">
				<h1>attention</h1>
				<p>this is a dialog</p>
				<button onclick={close}>ok</button>
			</div>
		{/snippet}
	</Dialog>
{/if}`}),i(b);var Z=e(e(b,!0)),y=l(Z);y.__click=[Ke,d];var x=e(e(y,!0));x.__click=[Qe,p];var E=e(e(x,!0));E.__click=[Ve,U];var D=e(l(E));e(e(D,!0)),i(E);var A=e(e(E,!0));A.__click=[Xe,q];var M=e(e(A,!0));M.__click=[Ze,ne],i(Z),n(u,g)},$$slots:{default:!0}});var de=e(e(ce,!0));R(de,()=>s(d),u=>{F(u,{onclose:()=>_(d,!1),children:(g,a=ae)=>{var r=tt(),m=l(r),v=e(e(m,!0)),$=e(e(v,!0));$.__click=function(...b){var T;(T=a())==null||T.apply(this,b)},i(r),n(g,r)}})});var ue=e(e(de,!0));R(ue,()=>s(p),u=>{F(u,{onclose:()=>_(p,!1),children:(g,a=ae)=>{var r=at(),m=l(r),v=e(e(m,!0));te(v,65,()=>({length:120}),ie,(b,T,Z)=>{var y=ot();n(b,y)});var $=e(e(v,!0));$.__click=function(...b){var T;(T=a())==null||T.apply(this,b)},i(r),n(g,r)}})});var ve=e(e(ue,!0));R(ve,()=>s(U),u=>{F(u,{onclose:()=>(_(U,!1),J()),get layout(){return s(w)},children:(g,a=ae)=>{var r=pt(),m=l(r);R(m,()=>s(w)==="page",y=>{var x=nt(),E=C(x),D=e(l(E)),A=e(e(D,!0)),M=e(l(A));te(M,73,()=>ke,ie,(P,L,Q)=>{var z=rt(),B={},he=l(z);i(z),V(()=>{B!==(B=I(L))&&(z.value=(z.__value=I(L))==null?"":I(L)),re(he,I(L))}),n(P,z)}),i(M),j(),i(A),j(),i(E),e(e(E,!0)),be(M,()=>s(w),P=>_(w,P)),n(y,x)},y=>{var x=H(),E=C(x);R(E,()=>s(w)==="centered",D=>{var A=lt(),M=C(A),P=e(l(M)),L=e(e(P,!0)),Q=e(l(L));te(Q,73,()=>ke,ie,(z,B,he)=>{var ee=it(),me={},De=l(ee);i(ee),V(()=>{me!==(me=I(B))&&(ee.value=(ee.__value=I(B))==null?"":I(B)),re(De,I(B))}),n(z,ee)}),i(Q),j(),i(L),j(),i(M),e(e(M,!0)),be(Q,()=>s(w),z=>_(w,z)),n(D,A)},D=>{Se(D,{status:"error",children:(A,M)=>{j();var P=ye();V(()=>re(P,`eek a bug! unknown layout "${s(w)??""}"`)),n(A,P)},$$slots:{default:!0}})},!0),n(y,x)});var v=e(e(m,!0)),$=l(v);$.__click=[st,Y];var b=e(e($,!0));b.__click=[_t,J],i(v);var T=e(e(v,!0));te(T,68,()=>s(S),(y,x)=>y,(y,x,E)=>{var D=vt(),A=l(D);A.__click=[ct,X,x];var M=e(e(A,!0));R(M,()=>s(w)==="page",P=>{var L=dt();n(P,L)},P=>{var L=H(),Q=C(L);R(Q,()=>s(w)==="centered",z=>{var B=ut();n(z,B)},null,!0),n(P,L)}),i(D),Le(3,D,()=>Ce),n(y,D)});var Z=e(e(T,!0));Z.__click=function(...y){var x;(x=a())==null||x.apply(this,y)},i(r),V(()=>b.disabled=!s(S).length),n(g,r)}})});var pe=e(e(ve,!0));R(pe,()=>s(q),u=>{F(u,{onclose:()=>_(q,!1),children:(k,g)=>{var a=gt(),r=l(a),m=e(e(r,!0)),v=e(e(m,!0));v.__click=[ft,W],i(a),n(k,a)},$$slots:{default:!0}})});var fe=e(e(pe,!0));R(fe,()=>s(W),u=>{F(u,{onclose:()=>_(W,!1),children:(k,g)=>{var a=mt(),r=l(a),m=e(e(r,!0)),v=e(e(m,!0)),$=e(e(v,!0));$.__click=[ht,G],i(a),n(k,a)},$$slots:{default:!0}})});var ge=e(e(fe,!0));R(ge,()=>s(G),u=>{F(u,{onclose:()=>_(G,!1),children:(k,g)=>{var a=yt(),r=C(a);le(r,"margin-bottom","var(--space_xl3)");var m=l(r),v=e(e(m,!0));v.__click=[bt,G],i(r);var $=e(e(r,!0)),b=l($);e(l(b)),i(b);var T=e(e(b,!0));T.__click=[kt,q,W,G],i($),n(k,a)},$$slots:{default:!0}})});var Ie=e(e(ge,!0));We(Ie,{get dialogs(){return s(K)},onclose:()=>{_(K,O(s(K).slice(0,-1)))},children:(k,g=ae)=>{var a=xt(),r=l(a);Te(r,()=>g().Component,(m,v)=>{v(m,se(()=>g().props))}),i(a),n(k,a)}}),n(o,_e),$e()}Pe(["click"]);export{Ht as component};
