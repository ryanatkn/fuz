import"../chunks/DsnmJJEf.js";import{p as yt,g as G,a as y,b as r,c as kt,i as l,u as Lt,h as Ct,a9 as rt,t as tt,e as it,an as C,av as ht,f,s as t,d as s,am as i,aj as z,r as o,ak as st,al as zt}from"../chunks/DxN3B-L-.js";import{g as et,a as Rt,S as Yt,l as jt,m as mt}from"../chunks/aN8nENvo.js";import{i as x}from"../chunks/MU3_SrQd.js";import{c as wt}from"../chunks/C993oIAU.js";import{t as Bt,s as Nt}from"../chunks/DuumHprm.js";import{s as _t,p as St}from"../chunks/alKTlW2m.js";import{C as Ht}from"../chunks/DzUQ2yVy.js";import{A as Ut}from"../chunks/Bj1vSXto.js";import{T as Wt}from"../chunks/DunbaPHG.js";import{g as qt}from"../chunks/BukjqA08.js";import{D as F}from"../chunks/CQ6mqVNT.js";import{T as Ft}from"../chunks/Cwf49juv.js";import{M as Gt}from"../chunks/CGu-reRY.js";import{e as Jt}from"../chunks/1LXpR1Br.js";function Kt(j,c){yt(c,!0);var B=G(),J=y(B);et(J,18,()=>c.dialogs,A=>A,(A,k,R)=>{{let $=Lt(()=>l(R)===c.dialogs.length-1);F(A,_t({get onclose(){return c.onclose}},()=>k.dialog_props,{get index(){return l(R)},get active(){return l($)},children:(K,O)=>{var h=G(),I=y(h);{var lt=D=>{var w=G(),V=y(w);Ct(V,()=>c.children,()=>k),r(D,w)},dt=D=>{var w=G(),V=y(w);wt(V,()=>k.Component,(ot,at)=>{at(ot,_t(()=>k.props))}),r(D,w)};x(I,D=>{c.children?D(lt):D(dt,!1)})}r(K,h)},$$slots:{default:!0}}))}}),r(j,B),kt()}const Ot=(j,c,B)=>({Component:j,props:c,dialog_props:B}),xt=["centered","page"];function Qt(j,c){const B=St(c,"tag",3,"span");var J=G(),A=y(J);Jt(A,B,!1,(k,R)=>{Rt(k,()=>({style:"",[Yt]:{"font-size":c.size,padding:c.padding}}));var $=rt();tt(()=>it($,c.text)),r(R,$)}),r(j,J)}var Vt=f(`<section><p>A modal that overlays the entire page. Uses <!> to allow usage from any
			component without inheriting styles.</p> <aside>⚠️ This will change to use and align APIs with the builtin <!>. API</aside></section> <section><!></section> <section><button type="button" class="mb_lg">open a dialog</button> <button type="button" class="mb_lg">open a dialog that overflows vertically</button> <button type="button" class="mb_lg">open a dialog with <code>layout="page"</code> instead of the default <code>layout='centered'</code></button> <button type="button" class="mb_lg">open a dialog containing another dialog</button> <button type="button" class="mb_lg">open many dialogs</button></section>`,1),Xt=f('<div class="box"><div class="pane p_xl box"><h1>attention</h1> <p>this is a dialog</p> <button type="button">ok</button></div></div>'),Zt=f("<p>this is a dialog that overflows vertically</p>"),te=f('<div class="box"><div class="pane p_xl"><h1>attention</h1> <!> <button type="button">close</button></div></div>'),ee=f("<option> </option>"),oe=f(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>.</p> <p>Instead of being centered by default, the dialog's contents are aligned to the top of
							the page and grow downward. It's useful when the dialog's contents change in height.</p>`,1),ae=f("<option> </option>"),ne=f(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>, the default value.</p> <p>It's often the best choice, but it can be undesirable in some situations, like when
							the height of the content changes as the user does things, leading to a janky
							experience.</p>`,1),se=f('<p><button type="button">✕</button> new stuff appears <!></p>'),re=f('<div class="box"><div class="pane p_xl width_upto_md"><!> <p><button type="button">add item</button> <button type="button">remove all</button></p> <!> <button type="button">close</button></div></div>'),ie=f('<div class="box"><div class="pane p_xl"><h1>dialog 1</h1> <p>dialogs can open more dialogs</p> <button type="button">open another dialog</button></div></div>'),le=f('<div class="box"><div class="pane p_xl"><h1>dialog 2</h1> <p>this dialog can open more dialogs</p> <p>this is the second dialog</p> <button type="button">open another dialog</button></div></div>'),de=f('<div class="box gap_xl3"><div class="pane p_xl"><h1>3 dialogs!</h1> <button type="button">close dialog</button></div> <div class="pane p_xl"><h1>and another <code>.pane</code></h1> <button type="button">close all dialogs</button></div></div>'),_e=f('<div class="pane p_md width_upto_md mx_auto"><!></div>'),ve=f("<!> <!> <!> <!> <!> <!> <!> <!>",1);function Ie(j,c){yt(c,!0);const J=qt("Dialog");let A=C(!1),k=C(!1),R=C(!1),$=C(!1),K=C(!1),O=C(!1),h=C("page"),I=C(ht([]));const lt=e=>{i(I,l(I).filter(p=>p!==e),!0)},dt=()=>{i(I,l(I).concat({}),!0)},D=()=>{i(I,[],!0)};let w=C(ht([]));const V=e=>{const p=_=>"!".repeat(e*3-_*3);i(w,Array.from({length:e},(_,a)=>Ot(Qt,{text:p(a),size:"var(--font_size_xl4)",padding:"var(--space_sm) var(--space_lg)"})),!0)};var ot=ve(),at=y(ot);Wt(at,{get tome(){return J},children:(e,p)=>{var _=Vt(),a=y(_),n=s(a),d=t(s(n));Ft(d,{name:"Teleport"}),z(),o(n);var u=t(n,2),P=t(s(u));Gt(P,{path:"Web/HTML/Element/dialog"}),z(),o(u),o(a);var M=t(a,2),Q=s(M);Ht(Q,{content:`<button onclick={() => (opened = true)}>
	open a dialog
</button>
{#if opened}
	<Dialog onclose={() => (opened = false)}>
		{#snippet children(close)}
			<div class="box">
				<div class="pane p_xl box">
					<h1>attention</h1>
					<p>this is a dialog</p>
					<button onclick={close}>ok</button>
				</div>
			</div>
		{/snippet}
	</Dialog>
{/if}`}),o(M);var N=t(M,2),X=s(N);X.__click=()=>i(A,!0);var Z=t(X,2);Z.__click=()=>i(k,!0);var nt=t(Z,2);nt.__click=()=>i(R,!0);var g=t(nt,2);g.__click=()=>i($,!0);var E=t(g,2);E.__click=()=>V(5),o(N),r(e,_)},$$slots:{default:!0}});var vt=t(at,2);{var Tt=e=>{F(e,{onclose:()=>i(A,!1),children:(_,a=st)=>{var n=Xt(),d=s(n),u=t(s(d),4);u.__click=function(...P){a()?.apply(this,P)},o(d),o(n),r(_,n)},$$slots:{default:!0}})};x(vt,e=>{l(A)&&e(Tt)})}var ct=t(vt,2);{var At=e=>{F(e,{onclose:()=>i(k,!1),children:(_,a=st)=>{var n=te(),d=s(n),u=t(s(d),2);et(u,16,()=>({length:120}),jt,(M,Q)=>{var N=Zt();r(M,N)});var P=t(u,2);P.__click=function(...M){a()?.apply(this,M)},o(d),o(n),r(_,n)},$$slots:{default:!0}})};x(ct,e=>{l(k)&&e(At)})}var pt=t(ct,2);{var $t=e=>{F(e,{onclose:()=>(i(R,!1),D()),get layout(){return l(h)},children:(_,a=st)=>{var n=re(),d=s(n),u=s(d);{var P=g=>{var E=oe(),L=y(E),S=t(s(L),3),H=t(s(S));et(H,20,()=>xt,b=>b,(b,T)=>{var v=ee(),m=s(v,!0);o(v);var Y={};tt(()=>{it(m,T),Y!==(Y=T)&&(v.value=(v.__value=T)??"")}),r(b,v)}),o(H),z(),o(S),z(),o(L),z(2),mt(H,()=>l(h),b=>i(h,b)),r(g,E)},M=g=>{var E=G(),L=y(E);{var S=b=>{var T=ne(),v=y(T),m=t(s(v),3),Y=t(s(m));et(Y,20,()=>xt,U=>U,(U,W)=>{var q=ae(),Et=s(q,!0);o(q);var bt={};tt(()=>{it(Et,W),bt!==(bt=W)&&(q.value=(q.__value=W)??"")}),r(U,q)}),o(Y),z(),o(m),z(),o(v),z(2),mt(Y,()=>l(h),U=>i(h,U)),r(b,T)},H=b=>{Ut(b,{status:"error",children:(T,v)=>{z();var m=rt();tt(()=>it(m,`eek a bug! unknown layout "${l(h)??""}"`)),r(T,m)},$$slots:{default:!0}})};x(L,b=>{l(h)==="centered"?b(S):b(H,!1)},!0)}r(g,E)};x(u,g=>{l(h)==="page"?g(P):g(M,!1)})}var Q=t(u,2),N=s(Q);N.__click=()=>dt();var X=t(N,2);X.__click=()=>D(),o(Q);var Z=t(Q,2);et(Z,16,()=>l(I),g=>g,(g,E)=>{var L=se(),S=s(L);S.__click=()=>lt(E);var H=t(S,2);{var b=v=>{var m=rt("gracefully");r(v,m)},T=v=>{var m=G(),Y=y(m);{var U=W=>{var q=rt("ungracefully");r(W,q)};x(Y,W=>{l(h)==="centered"&&W(U)},!0)}r(v,m)};x(H,v=>{l(h)==="page"?v(b):v(T,!1)})}o(L),Bt(3,L,()=>Nt),r(g,L)});var nt=t(Z,2);nt.__click=function(...g){a()?.apply(this,g)},o(d),o(n),tt(()=>X.disabled=!l(I).length),r(_,n)},$$slots:{default:!0}})};x(pt,e=>{l(R)&&e($t)})}var ut=t(pt,2);{var It=e=>{F(e,{onclose:()=>i($,!1),children:(p,_)=>{var a=ie(),n=s(a),d=t(s(n),4);d.__click=()=>i(K,!0),o(n),o(a),r(p,a)},$$slots:{default:!0}})};x(ut,e=>{l($)&&e(It)})}var gt=t(ut,2);{var Dt=e=>{F(e,{onclose:()=>i(K,!1),children:(p,_)=>{var a=le(),n=s(a),d=t(s(n),6);d.__click=()=>i(O,!0),o(n),o(a),r(p,a)},$$slots:{default:!0}})};x(gt,e=>{l(K)&&e(Dt)})}var ft=t(gt,2);{var Pt=e=>{F(e,{onclose:()=>i(O,!1),children:(p,_)=>{var a=de(),n=s(a),d=t(s(n),2);d.__click=()=>i(O,!1),o(n);var u=t(n,2),P=t(s(u),2);P.__click=()=>{i($,i(K,i(O,!1),!0),!0)},o(u),o(a),r(p,a)},$$slots:{default:!0}})};x(ft,e=>{l(O)&&e(Pt)})}var Mt=t(ft,2);Kt(Mt,{get dialogs(){return l(w)},onclose:()=>{i(w,l(w).slice(0,-1),!0)},children:(p,_=st)=>{var a=_e(),n=s(a);wt(n,()=>_().Component,(d,u)=>{u(d,_t(()=>_().props))}),o(a),r(p,a)},$$slots:{default:!0}}),r(j,ot),kt()}zt(["click"]);export{Ie as component};
