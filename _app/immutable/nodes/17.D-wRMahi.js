import{b as H,f as L,a as i,I as ke,s as e,t as h,c as s,d as j,r as l}from"../chunks/disclose-version.BDhqTD1c.js";import{i as ye,p as xe,a as we,g as a,d as De,t as Q,A as B,n as _,R as oe}from"../chunks/runtime.BIep0U5Y.js";import{s as ae}from"../chunks/render.DSkk2BLw.js";import{a as Me,i as z,p as N}from"../chunks/if.CTyMIEjO.js";import{e as ee,i as ne}from"../chunks/each.DfDYFt8G.js";import{c as $e}from"../chunks/svelte-component.D8ymMHPy.js";import{e as Pe}from"../chunks/utils.BasVy1Zn.js";import{s as ie}from"../chunks/style.Bk7ejTAN.js";import{t as Le,s as Ee}from"../chunks/index.DGwCOmjB.js";import{l as Re}from"../chunks/shared.CUgmzv_a.js";import{s as le,p as ze}from"../chunks/props.BE2WXVPW.js";import{C as Ce}from"../chunks/Code.DRZWXb4x.js";import{A as qe}from"../chunks/Alert.CJVEkAlx.js";import{T as Se}from"../chunks/Tome_Detail.BB3qXyrK.js";import{g as Be}from"../chunks/tome.1RKNoXyc.js";import{D as F}from"../chunks/Dialog.B6BdGqzb.js";import{T as Ne}from"../chunks/Tome_Link.DP1xjTnr.js";import{M as Oe}from"../chunks/Mdn_Link.CzUHFBPn.js";import{s as Ye}from"../chunks/attributes.DrO0J316.js";import{e as je}from"../chunks/svelte-element.BfarjcgP.js";function Ae(o,t,c){if(o.multiple)return He(o,t);for(var f of o.options){var d=te(f);if(Me(d,t)){f.selected=!0;return}}(!c||t!==void 0)&&(o.selectedIndex=-1)}function Fe(o,t){ye(()=>{var c=new MutationObserver(()=>{var f=o.__value;Ae(o,f)});return c.observe(o,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{c.disconnect()}})}function me(o,t,c){var f=!0;Re(o,"change",()=>{var d;if(o.multiple)d=[].map.call(o.querySelectorAll(":checked"),te);else{var p=o.querySelector(":checked");d=p&&te(p)}c(d)}),ye(()=>{var d=t();if(Ae(o,d,f),f&&d===void 0){var p=o.querySelector(":checked");p!==null&&(d=te(p),c(d))}o.__value=d,f=!1}),Fe(o)}function He(o,t){for(var c of o.options)c.selected=~t.indexOf(te(c))}function te(o){return"__value"in o?o.__value:o.value}function Ue(o,t){xe(t,!0);var c=H(),f=L(c);ee(f,18,()=>t.dialogs,(d,p)=>d,(d,p,O)=>{var C=De(()=>a(O)===t.dialogs.length-1);F(d,le({get onclose(){return t.onclose}},()=>p.dialog_props,{get index(){return a(O)},get active(){return a(C)},children:(U,W)=>{var w=H(),q=L(w);z(q,()=>t.children,V=>{var Y=H(),G=L(Y);Ye(G,()=>t.children,()=>p),i(V,Y)},V=>{var Y=H(),G=L(Y);$e(G,()=>p.Component,(J,re)=>{re(J,le(()=>p.props))}),i(V,Y)}),i(U,w)},$$slots:{default:!0}}))}),i(o,c),we()}const We=(o,t,c)=>({Component:o,props:t,dialog_props:c}),be=["centered","page"];function Ge(o,t){const c=ze(t,"tag",3,"span");var f=H(),d=L(f);je(d,c,!1,(p,O)=>{Q(()=>{ie(p,"font-size",t.size,void 0,!0),ie(p,"padding",t.padding,void 0,!0)});var C=ke();Q(()=>ae(C,t.text)),i(O,C)}),i(o,f)}var Je=(o,t)=>_(t,!0),Ke=(o,t)=>_(t,!0),Qe=(o,t)=>_(t,!0),Ve=(o,t)=>_(t,!0),Xe=(o,t)=>t(5),Ze=h(`<section><p>A modal that overlays the entire page. Uses <!> to allow usage from any
			component without inheriting styles.</p> <aside>⚠️ This will change to use and align APIs with the builtin <!>. API</aside></section> <section><!></section> <section><button type="button" class="mb_lg">open a dialog</button> <button type="button" class="mb_lg">open a dialog that overflows vertically</button> <button type="button" class="mb_lg">open a dialog with <code>layout="page"</code> instead of the default <code>layout='centered'</code></button> <button type="button" class="mb_lg">open a dialog containing another dialog</button> <button type="button" class="mb_lg">open many dialogs</button></section>`,1),et=h('<div class="pane p_xl box"><h1>attention</h1> <p>this is a dialog</p> <button type="button">ok</button></div>'),tt=h("<p>this is a dialog that overflows vertically</p>"),ot=h('<div class="pane p_xl"><h1>attention</h1> <!> <button type="button">close</button></div>'),at=h("<option> </option>"),rt=h(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>.</p> <p>Instead of being centered by default, the dialog's contents are aligned to the top of
						the page and grow downward. It's useful when the dialog's contents change in height.</p>`,1),nt=h("<option> </option>"),it=h(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>, the default value.</p> <p>It's often the best choice, but it can be undesirable in some situations, like when the
						height of the content changes as the user does things, leading to a janky experience.</p>`,1),lt=(o,t)=>t(),st=(o,t)=>t(),_t=(o,t,c)=>t(c),ct=h("gracefully",1),dt=h("ungracefully",1),ut=h('<p><button type="button">✕</button> new stuff appears <!></p>'),vt=h('<div class="pane p_xl width_md"><!> <p><button type="button">add item</button> <button type="button">remove all</button></p> <!> <button type="button">close</button></div>'),pt=(o,t)=>_(t,!0),ft=h('<div class="pane p_xl"><h1>dialog 1</h1> <p>dialogs can open more dialogs</p> <button type="button">open another dialog</button></div>'),gt=(o,t)=>_(t,!0),ht=h('<div class="pane p_xl"><h1>dialog 2</h1> <p>this dialog can open more dialogs</p> <p>this is the second dialog</p> <button type="button">open another dialog</button></div>'),mt=(o,t)=>_(t,!1),bt=(o,t,c,f)=>{_(t,N(_(c,N(_(f,!1)))))},kt=h('<div class="pane p_xl"><h1>3 dialogs!</h1> <button type="button">close dialog</button></div> <div class="pane p_xl"><h1>and another <code>.pane</code></h1> <button type="button">close all dialogs</button></div>',1),yt=h('<div class="pane"><!></div>'),xt=h("<!> <!> <!> <!> <!> <!> <!> <!>",1);function Ft(o,t){xe(t,!0);const f=Be("Dialog");let d=B(!1),p=B(!1),O=B(!1),C=B(!1),U=B(!1),W=B(!1),w=B("page"),q=B(N([]));const V=u=>{_(q,N(a(q).filter(k=>k!==u)))},Y=()=>{_(q,N(a(q).concat({})))},G=()=>{_(q,N([]))};let J=B(N([]));const re=u=>{const k=g=>"!".repeat(u*3-g*3);_(J,N(Array.from({length:u},(g,r)=>We(Ge,{text:k(r),size:"var(--size_xl4)",padding:"var(--space_sm) var(--space_lg)"}))))};var se=xt(),_e=L(se);Se(_e,{tome:f,children:(u,k)=>{var g=Ze(),r=L(g),n=s(r),m=e(s(n));Ne(m,{name:"Teleport"}),j(),l(n);var v=e(e(n,!0)),$=e(s(v));Oe($,{path:"Web/HTML/Element/dialog"}),j(),l(v),l(r);var b=e(e(r,!0)),A=s(b);Ce(A,{content:`<button onclick={() => (opened = true)}>
	open a dialog
</button>
{#if opened}
	<Dialog onclose={() => (opened = false)}>
		{#snippet children(close)}
			<div class="pane p_xl box">
				<h1>attention</h1>
				<p>this is a dialog</p>
				<button onclick={close}>ok</button>
			</div>
		{/snippet}
	</Dialog>
{/if}`}),l(b);var X=e(e(b,!0)),y=s(X);y.__click=[Je,d];var x=e(e(y,!0));x.__click=[Ke,p];var E=e(e(x,!0));E.__click=[Qe,O];var I=e(s(E));e(e(I,!0)),l(E);var T=e(e(E,!0));T.__click=[Ve,C];var D=e(e(T,!0));D.__click=[Xe,re],l(X),i(u,g)},$$slots:{default:!0}});var ce=e(e(_e,!0));z(ce,()=>a(d),u=>{F(u,{onclose:()=>_(d,!1),children:(g,r=oe)=>{var n=et(),m=s(n),v=e(e(m,!0)),$=e(e(v,!0));$.__click=function(...b){var A;(A=r())==null||A.apply(this,b)},l(n),i(g,n)}})});var de=e(e(ce,!0));z(de,()=>a(p),u=>{F(u,{onclose:()=>_(p,!1),children:(g,r=oe)=>{var n=ot(),m=s(n),v=e(e(m,!0));ee(v,16,()=>({length:120}),ne,(b,A,X)=>{var y=tt();i(b,y)});var $=e(e(v,!0));$.__click=function(...b){var A;(A=r())==null||A.apply(this,b)},l(n),i(g,n)}})});var ue=e(e(de,!0));z(ue,()=>a(O),u=>{F(u,{onclose:()=>(_(O,!1),G()),get layout(){return a(w)},children:(g,r=oe)=>{var n=vt(),m=s(n);z(m,()=>a(w)==="page",y=>{var x=rt(),E=L(x),I=e(s(E)),T=e(e(I,!0)),D=e(s(T));ee(D,21,()=>be,ne,(M,P,K)=>{var R=at(),S={},ge=s(R);l(R),Q(()=>{S!==(S=a(P))&&(R.value=(R.__value=a(P))==null?"":a(P)),ae(ge,a(P))}),i(M,R)}),l(D),j(),l(T),j(),l(E),e(e(E,!0)),me(D,()=>a(w),M=>_(w,M)),i(y,x)},y=>{var x=H(),E=L(x);z(E,()=>a(w)==="centered",I=>{var T=it(),D=L(T),M=e(s(D)),P=e(e(M,!0)),K=e(s(P));ee(K,21,()=>be,ne,(R,S,ge)=>{var Z=nt(),he={},Ie=s(Z);l(Z),Q(()=>{he!==(he=a(S))&&(Z.value=(Z.__value=a(S))==null?"":a(S)),ae(Ie,a(S))}),i(R,Z)}),l(K),j(),l(P),j(),l(D),e(e(D,!0)),me(K,()=>a(w),R=>_(w,R)),i(I,T)},I=>{qe(I,{status:"error",children:(T,D)=>{j();var M=ke();Q(()=>ae(M,`eek a bug! unknown layout "${a(w)??""}"`)),i(T,M)},$$slots:{default:!0}})},!0),i(y,x)});var v=e(e(m,!0)),$=s(v);$.__click=[lt,Y];var b=e(e($,!0));b.__click=[st,G],l(v);var A=e(e(v,!0));ee(A,16,()=>a(q),(y,x)=>y,(y,x,E)=>{var I=ut(),T=s(I);T.__click=[_t,V,x];var D=e(e(T,!0));z(D,()=>a(w)==="page",M=>{var P=ct();i(M,P)},M=>{var P=H(),K=L(P);z(K,()=>a(w)==="centered",R=>{var S=dt();i(R,S)},null,!0),i(M,P)}),l(I),Le(3,I,()=>Ee),i(y,I)});var X=e(e(A,!0));X.__click=function(...y){var x;(x=r())==null||x.apply(this,y)},l(n),Q(()=>b.disabled=!a(q).length),i(g,n)}})});var ve=e(e(ue,!0));z(ve,()=>a(C),u=>{F(u,{onclose:()=>_(C,!1),children:(k,g)=>{var r=ft(),n=s(r),m=e(e(n,!0)),v=e(e(m,!0));v.__click=[pt,U],l(r),i(k,r)},$$slots:{default:!0}})});var pe=e(e(ve,!0));z(pe,()=>a(U),u=>{F(u,{onclose:()=>_(U,!1),children:(k,g)=>{var r=ht(),n=s(r),m=e(e(n,!0)),v=e(e(m,!0)),$=e(e(v,!0));$.__click=[gt,W],l(r),i(k,r)},$$slots:{default:!0}})});var fe=e(e(pe,!0));z(fe,()=>a(W),u=>{F(u,{onclose:()=>_(W,!1),children:(k,g)=>{var r=kt(),n=L(r);ie(n,"margin-bottom","var(--space_xl3)");var m=s(n),v=e(e(m,!0));v.__click=[mt,W],l(n);var $=e(e(n,!0)),b=s($);e(s(b)),l(b);var A=e(e(b,!0));A.__click=[bt,C,U,W],l($),i(k,r)},$$slots:{default:!0}})});var Te=e(e(fe,!0));Ue(Te,{get dialogs(){return a(J)},onclose:()=>{_(J,N(a(J).slice(0,-1)))},children:(k,g=oe)=>{var r=yt(),n=s(r);$e(n,()=>g().Component,(m,v)=>{v(m,le(()=>g().props))}),l(r),i(k,r)}}),i(o,se),we()}Pe(["click"]);export{Ft as component};
