import"../chunks/CWj6FrbW.js";import{p as kt,e as X,a as S,b as i,c as xt,h as l,u as Et,g as Lt,am as rt,t as Z,ap as Y,au as bt,f as b,s as e,d as s,aq as _,an as B,r as a,al as nt,aN as Ct}from"../chunks/DpDn43ma.js";import{s as st}from"../chunks/B7YlL7pk.js";import{i as T}from"../chunks/B7cJd8Gg.js";import{e as tt,i as zt}from"../chunks/Doywmu7X.js";import{c as yt}from"../chunks/Ba2xVbCX.js";import{a as Rt,S as Nt,d as ht}from"../chunks/DuG0mCj_.js";import{t as Yt,s as Bt}from"../chunks/BoBUGYKq.js";import{s as _t,p as St}from"../chunks/CZHbM0wv.js";import{C as jt}from"../chunks/CGW2Az-c.js";import{A as qt}from"../chunks/BmyH8TZw.js";import{T as Ht}from"../chunks/BiCD2hV9.js";import{g as Ut}from"../chunks/C6cJycfR.js";import{D as J}from"../chunks/zK5LfmMg.js";import{T as Wt}from"../chunks/A17g_MCO.js";import{M as Ft}from"../chunks/X1vxdkak.js";import{e as Gt}from"../chunks/h0CD0H22.js";function Jt(d,t){kt(t,!0);var y=X(),j=S(y);tt(j,18,()=>t.dialogs,D=>D,(D,A,q)=>{const P=Et(()=>l(q)===t.dialogs.length-1);J(D,_t({get onclose(){return t.onclose}},()=>A.dialog_props,{get index(){return l(q)},get active(){return l(P)},children:(H,K)=>{var h=X(),M=S(h);{var it=E=>{var I=X(),O=S(I);Lt(O,()=>t.children,()=>A),i(E,I)},lt=E=>{var I=X(),O=S(I);yt(O,()=>A.Component,(et,ot)=>{ot(et,_t(()=>A.props))}),i(E,I)};T(M,E=>{t.children?E(it):E(lt,!1)})}i(H,h)},$$slots:{default:!0}}))}),i(d,y),xt()}const Kt=(d,t,y)=>({Component:d,props:t,dialog_props:y}),mt=["centered","page"];function Ot(d,t){const y=St(t,"tag",3,"span");var j=X(),D=S(j);Gt(D,y,!1,(A,q)=>{Rt(A,H=>({style:"",[Nt]:H}),[()=>({"font-size":t.size,padding:t.padding})]);var P=rt();Z(()=>st(P,t.text)),i(q,P)}),i(d,j)}var Qt=(d,t)=>_(t,!0),Vt=(d,t)=>_(t,!0),Xt=(d,t)=>_(t,!0),Zt=(d,t)=>_(t,!0),te=(d,t)=>t(5),ee=b(`<section><p>A modal that overlays the entire page. Uses <!> to allow usage from any
			component without inheriting styles.</p> <aside>⚠️ This will change to use and align APIs with the builtin <!>. API</aside></section> <section><!></section> <section><button type="button" class="mb_lg">open a dialog</button> <button type="button" class="mb_lg">open a dialog that overflows vertically</button> <button type="button" class="mb_lg">open a dialog with <code>layout="page"</code> instead of the default <code>layout='centered'</code></button> <button type="button" class="mb_lg">open a dialog containing another dialog</button> <button type="button" class="mb_lg">open many dialogs</button></section>`,1),oe=b('<div class="box"><div class="pane p_xl box"><h1>attention</h1> <p>this is a dialog</p> <button type="button">ok</button></div></div>'),ae=b("<p>this is a dialog that overflows vertically</p>"),ne=b('<div class="box"><div class="pane p_xl"><h1>attention</h1> <!> <button type="button">close</button></div></div>'),re=b("<option> </option>"),se=b(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>.</p> <p>Instead of being centered by default, the dialog's contents are aligned to the top of
							the page and grow downward. It's useful when the dialog's contents change in height.</p>`,1),ie=b("<option> </option>"),le=b(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>, the default value.</p> <p>It's often the best choice, but it can be undesirable in some situations, like when
							the height of the content changes as the user does things, leading to a janky
							experience.</p>`,1),_e=(d,t)=>t(),de=(d,t)=>t(),ce=(d,t,y)=>t(y),ve=b('<p><button type="button">✕</button> new stuff appears <!></p>'),pe=b('<div class="box"><div class="pane p_xl width_md"><!> <p><button type="button">add item</button> <button type="button">remove all</button></p> <!> <button type="button">close</button></div></div>'),ue=(d,t)=>_(t,!0),fe=b('<div class="box"><div class="pane p_xl"><h1>dialog 1</h1> <p>dialogs can open more dialogs</p> <button type="button">open another dialog</button></div></div>'),ge=(d,t)=>_(t,!0),be=b('<div class="box"><div class="pane p_xl"><h1>dialog 2</h1> <p>this dialog can open more dialogs</p> <p>this is the second dialog</p> <button type="button">open another dialog</button></div></div>'),he=(d,t)=>_(t,!1),me=(d,t,y,j)=>{_(t,_(y,_(j,!1),!0),!0)},ke=b('<div class="box gap_xl3"><div class="pane p_xl"><h1>3 dialogs!</h1> <button type="button">close dialog</button></div> <div class="pane p_xl"><h1>and another <code>.pane</code></h1> <button type="button">close all dialogs</button></div></div>'),xe=b('<div class="pane p_md width_md mx_auto"><!></div>'),ye=b("<!> <!> <!> <!> <!> <!> <!> <!>",1);function je(d,t){kt(t,!0);const j=Ut("Dialog");let D=Y(!1),A=Y(!1),q=Y(!1),P=Y(!1),H=Y(!1),K=Y(!1),h=Y("page"),M=Y(bt([]));const it=o=>{_(M,l(M).filter(u=>u!==o),!0)},lt=()=>{_(M,l(M).concat({}),!0)},E=()=>{_(M,[],!0)};let I=Y(bt([]));const O=o=>{const u=p=>"!".repeat(o*3-p*3);_(I,Array.from({length:o},(p,n)=>Kt(Ot,{text:u(n),size:"var(--font_size_xl4)",padding:"var(--space_sm) var(--space_lg)"})),!0)};var et=ye(),ot=S(et);Ht(ot,{get tome(){return j},children:(o,u)=>{var p=ee(),n=S(p),r=s(n),c=e(s(r));Wt(c,{name:"Teleport"}),B(),a(r);var f=e(r,2),L=e(s(f));Ft(L,{path:"Web/HTML/Element/dialog"}),B(),a(f),a(n);var m=e(n,2),C=s(m);jt(C,{content:`<button onclick={() => (opened = true)}>
	open a dialog
</button>
{#if opened}
	<Dialog onclose={() => (opened = false)}>
		{#snippet children(close)}
			<div class="box">
				<div class="pane p_xl box">
					<h1>attention</h1>
					<p>this is a dialog</p>
					<button onclick={close}>ok</button>
				</div>
			</div>
		{/snippet}
	</Dialog>
{/if}`}),a(m);var U=e(m,2),Q=s(U);Q.__click=[Qt,D];var V=e(Q,2);V.__click=[Vt,A];var at=e(V,2);at.__click=[Xt,q];var g=e(at,2);g.__click=[Zt,P];var w=e(g,2);w.__click=[te,O],a(U),i(o,p)},$$slots:{default:!0}});var dt=e(ot,2);{var wt=o=>{J(o,{onclose:()=>_(D,!1),children:(p,n=nt)=>{var r=oe(),c=s(r),f=e(s(c),4);f.__click=function(...L){var m;(m=n())==null||m.apply(this,L)},a(c),a(r),i(p,r)},$$slots:{default:!0}})};T(dt,o=>{l(D)&&o(wt)})}var ct=e(dt,2);{var Tt=o=>{J(o,{onclose:()=>_(A,!1),children:(p,n=nt)=>{var r=ne(),c=s(r),f=e(s(c),2);tt(f,16,()=>({length:120}),zt,(m,C)=>{var U=ae();i(m,U)});var L=e(f,2);L.__click=function(...m){var C;(C=n())==null||C.apply(this,m)},a(c),a(r),i(p,r)},$$slots:{default:!0}})};T(ct,o=>{l(A)&&o(Tt)})}var vt=e(ct,2);{var At=o=>{J(o,{onclose:()=>(_(q,!1),E()),get layout(){return l(h)},children:(p,n=nt)=>{var r=pe(),c=s(r),f=s(c);{var L=g=>{var w=se(),z=S(w),W=e(s(z),3),k=e(s(W));tt(k,20,()=>mt,x=>x,(x,R)=>{var v=re(),N=s(v,!0);a(v);var $={};Z(()=>{st(N,R),$!==($=R)&&(v.value=(v.__value=R)??"")}),i(x,v)}),a(k),B(),a(W),B(),a(z),B(2),ht(k,()=>l(h),x=>_(h,x)),i(g,w)},m=(g,w)=>{{var z=k=>{var x=le(),R=S(x),v=e(s(R),3),N=e(s(v));tt(N,20,()=>mt,$=>$,($,F)=>{var G=ie(),Mt=s(G,!0);a(G);var gt={};Z(()=>{st(Mt,F),gt!==(gt=F)&&(G.value=(G.__value=F)??"")}),i($,G)}),a(N),B(),a(v),B(),a(R),B(2),ht(N,()=>l(h),$=>_(h,$)),i(k,x)},W=k=>{qt(k,{status:"error",children:(x,R)=>{B();var v=rt();Z(()=>st(v,`eek a bug! unknown layout "${l(h)??""}"`)),i(x,v)},$$slots:{default:!0}})};T(g,k=>{l(h)==="centered"?k(z):k(W,!1)},w)}};T(f,g=>{l(h)==="page"?g(L):g(m,!1)})}var C=e(f,2),U=s(C);U.__click=[_e,lt];var Q=e(U,2);Q.__click=[de,E],a(C);var V=e(C,2);tt(V,16,()=>l(M),g=>g,(g,w)=>{var z=ve(),W=s(z);W.__click=[ce,it,w];var k=e(W,2);{var x=v=>{var N=rt("gracefully");i(v,N)},R=(v,N)=>{{var $=F=>{var G=rt("ungracefully");i(F,G)};T(v,F=>{l(h)==="centered"&&F($)},N)}};T(k,v=>{l(h)==="page"?v(x):v(R,!1)})}a(z),Yt(3,z,()=>Bt),i(g,z)});var at=e(V,2);at.__click=function(...g){var w;(w=n())==null||w.apply(this,g)},a(c),a(r),Z(()=>Q.disabled=!l(M).length),i(p,r)},$$slots:{default:!0}})};T(vt,o=>{l(q)&&o(At)})}var pt=e(vt,2);{var It=o=>{J(o,{onclose:()=>_(P,!1),children:(u,p)=>{var n=fe(),r=s(n),c=e(s(r),4);c.__click=[ue,H],a(r),a(n),i(u,n)},$$slots:{default:!0}})};T(pt,o=>{l(P)&&o(It)})}var ut=e(pt,2);{var $t=o=>{J(o,{onclose:()=>_(H,!1),children:(u,p)=>{var n=be(),r=s(n),c=e(s(r),6);c.__click=[ge,K],a(r),a(n),i(u,n)},$$slots:{default:!0}})};T(ut,o=>{l(H)&&o($t)})}var ft=e(ut,2);{var Dt=o=>{J(o,{onclose:()=>_(K,!1),children:(u,p)=>{var n=ke(),r=s(n),c=e(s(r),2);c.__click=[he,K],a(r);var f=e(r,2),L=e(s(f),2);L.__click=[me,P,H,K],a(f),a(n),i(u,n)},$$slots:{default:!0}})};T(ft,o=>{l(K)&&o(Dt)})}var Pt=e(ft,2);Jt(Pt,{get dialogs(){return l(I)},onclose:()=>{_(I,l(I).slice(0,-1),!0)},children:(u,p=nt)=>{var n=xe(),r=s(n);yt(r,()=>p().Component,(c,f)=>{f(c,_t(()=>p().props))}),a(n),i(u,n)},$$slots:{default:!0}}),i(d,et),xt()}Ct(["click"]);export{je as component};
