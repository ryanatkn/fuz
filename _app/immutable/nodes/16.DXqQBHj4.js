import"../chunks/DsnmJJEf.js";import{p as yt,g as F,a as y,b as r,c as kt,i as l,u as Lt,h as Ct,Q as rt,t as tt,e as it,a5 as C,ax as ht,f,s as t,d as s,a4 as i,a0 as z,r as o,a1 as st,a2 as zt}from"../chunks/WhgF38LA.js";import{g as et,a as Rt,S as Yt,l as Bt,m as mt}from"../chunks/r_YcV9jZ.js";import{i as x}from"../chunks/dHxtihbS.js";import{c as wt}from"../chunks/BcfHKaAt.js";import{t as Nt,s as St}from"../chunks/BEk1SbI1.js";import{s as _t,p as jt}from"../chunks/Cqxihmm3.js";import{C as Ht}from"../chunks/CwEehPvu.js";import{A as Qt}from"../chunks/BI191q6k.js";import{T as Ut}from"../chunks/Dl3T4ozq.js";import{g as Wt}from"../chunks/CrnHV3kz.js";import{D as q}from"../chunks/BlL4JOuf.js";import{T as qt}from"../chunks/Cd4Ax9og.js";import{M as Ft}from"../chunks/iOMK-qx2.js";import{e as Gt}from"../chunks/DPFDVWUS.js";function Jt(B,v){yt(v,!0);var N=F(),G=y(N);et(G,18,()=>v.dialogs,A=>A,(A,k,R)=>{{let $=Lt(()=>l(R)===v.dialogs.length-1);q(A,_t({get onclose(){return v.onclose}},()=>k.dialog_props,{get index(){return l(R)},get active(){return l($)},children:(J,K)=>{var h=F(),I=y(h);{var lt=D=>{var w=F(),V=y(w);Ct(V,()=>v.children,()=>k),r(D,w)},dt=D=>{var w=F(),V=y(w);wt(V,()=>k.Component,(ot,at)=>{at(ot,_t(()=>k.props))}),r(D,w)};x(I,D=>{v.children?D(lt):D(dt,!1)})}r(J,h)},$$slots:{default:!0}}))}}),r(B,N),kt()}const Kt=(B,v,N)=>({Component:B,props:v,dialog_props:N}),xt=["centered","page"];function Ot(B,v){const N=jt(v,"tag",3,"span");var G=F(),A=y(G);Gt(A,N,!1,(k,R)=>{Rt(k,()=>({style:"",[Yt]:{"font-size":v.size,padding:v.padding}}));var $=rt();tt(()=>it($,v.text)),r(R,$)}),r(B,G)}var Vt=f(`<section><p>A modal that overlays the entire page. Uses <!> to allow usage from any
			component without inheriting styles.</p> <aside>⚠️ This will change to use and align APIs with the builtin <!>. API</aside></section> <section><!></section> <section><button type="button" class="mb_lg">open a dialog</button> <button type="button" class="mb_lg">open a dialog that overflows vertically</button> <button type="button" class="mb_lg">open a dialog with <code>layout="page"</code> instead of the default <code>layout='centered'</code></button> <button type="button" class="mb_lg">open a dialog containing another dialog</button> <button type="button" class="mb_lg">open many dialogs</button></section>`,1),Xt=f('<div class="box"><div class="pane p_xl box"><h1>attention</h1> <p>this is a dialog</p> <button type="button">ok</button></div></div>'),Zt=f("<p>this is a dialog that overflows vertically</p>"),te=f('<div class="box"><div class="pane p_xl"><h1>attention</h1> <!> <button type="button">close</button></div></div>'),ee=f("<option> </option>"),oe=f(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>.</p> <p>Instead of being centered by default, the dialog's contents are aligned to the top of
							the page and grow downward. It's useful when the dialog's contents change in height.</p>`,1),ae=f("<option> </option>"),ne=f(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>, the default value.</p> <p>It's often the best choice, but it can be undesirable in some situations, like when
							the height of the content changes as the user does things, leading to a janky
							experience.</p>`,1),se=f('<p><button type="button">✕</button> new stuff appears <!></p>'),re=f('<div class="box"><div class="pane p_xl width_upto_md"><!> <p><button type="button">add item</button> <button type="button">remove all</button></p> <!> <button type="button">close</button></div></div>'),ie=f('<div class="box"><div class="pane p_xl"><h1>dialog 1</h1> <p>dialogs can open more dialogs</p> <button type="button">open another dialog</button></div></div>'),le=f('<div class="box"><div class="pane p_xl"><h1>dialog 2</h1> <p>this dialog can open more dialogs</p> <p>this is the second dialog</p> <button type="button">open another dialog</button></div></div>'),de=f('<div class="box gap_xl3"><div class="pane p_xl"><h1>3 dialogs!</h1> <button type="button">close dialog</button></div> <div class="pane p_xl"><h1>and another <code>.pane</code></h1> <button type="button">close all dialogs</button></div></div>'),_e=f('<div class="pane p_md width_upto_md mx_auto"><!></div>'),ce=f("<!> <!> <!> <!> <!> <!> <!> <!>",1);function Ie(B,v){yt(v,!0);const G=Wt("Dialog");let A=C(!1),k=C(!1),R=C(!1),$=C(!1),J=C(!1),K=C(!1),h=C("page"),I=C(ht([]));const lt=e=>{i(I,l(I).filter(p=>p!==e),!0)},dt=()=>{i(I,l(I).concat({}),!0)},D=()=>{i(I,[],!0)};let w=C(ht([]));const V=e=>{const p=_=>"!".repeat(e*3-_*3);i(w,Array.from({length:e},(_,a)=>Kt(Ot,{text:p(a),size:"var(--font_size_xl4)",padding:"var(--space_sm) var(--space_lg)"})),!0)};var ot=ce(),at=y(ot);Ut(at,{get tome(){return G},children:(e,p)=>{var _=Vt(),a=y(_),n=s(a),d=t(s(n));qt(d,{name:"Teleport"}),z(),o(n);var u=t(n,2),P=t(s(u));Ft(P,{path:"Web/HTML/Element/dialog"}),z(),o(u),o(a);var M=t(a,2),O=s(M);Ht(O,{content:`<button onclick={() => (opened = true)}>
	open a dialog
</button>
{#if opened}
	<Dialog onclose={() => (opened = false)}>
		{#snippet children(close)}
			<div class="box">
				<div class="pane p_xl box">
					<h1>attention</h1>
					<p>this is a dialog</p>
					<button onclick={close}>ok</button>
				</div>
			</div>
		{/snippet}
	</Dialog>
{/if}`}),o(M);var S=t(M,2),X=s(S);X.__click=()=>i(A,!0);var Z=t(X,2);Z.__click=()=>i(k,!0);var nt=t(Z,2);nt.__click=()=>i(R,!0);var g=t(nt,2);g.__click=()=>i($,!0);var E=t(g,2);E.__click=()=>V(5),o(S),r(e,_)},$$slots:{default:!0}});var ct=t(at,2);{var Tt=e=>{q(e,{onclose:()=>i(A,!1),children:(_,a=st)=>{var n=Xt(),d=s(n),u=t(s(d),4);u.__click=function(...P){a()?.apply(this,P)},o(d),o(n),r(_,n)},$$slots:{default:!0}})};x(ct,e=>{l(A)&&e(Tt)})}var vt=t(ct,2);{var At=e=>{q(e,{onclose:()=>i(k,!1),children:(_,a=st)=>{var n=te(),d=s(n),u=t(s(d),2);et(u,16,()=>({length:120}),Bt,(M,O)=>{var S=Zt();r(M,S)});var P=t(u,2);P.__click=function(...M){a()?.apply(this,M)},o(d),o(n),r(_,n)},$$slots:{default:!0}})};x(vt,e=>{l(k)&&e(At)})}var pt=t(vt,2);{var $t=e=>{q(e,{onclose:()=>(i(R,!1),D()),get layout(){return l(h)},children:(_,a=st)=>{var n=re(),d=s(n),u=s(d);{var P=g=>{var E=oe(),L=y(E),j=t(s(L),3),H=t(s(j));et(H,20,()=>xt,b=>b,(b,T)=>{var c=ee(),m=s(c,!0);o(c);var Y={};tt(()=>{it(m,T),Y!==(Y=T)&&(c.value=(c.__value=T)??"")}),r(b,c)}),o(H),z(),o(j),z(),o(L),z(2),mt(H,()=>l(h),b=>i(h,b)),r(g,E)},M=g=>{var E=F(),L=y(E);{var j=b=>{var T=ne(),c=y(T),m=t(s(c),3),Y=t(s(m));et(Y,20,()=>xt,Q=>Q,(Q,U)=>{var W=ae(),Et=s(W,!0);o(W);var bt={};tt(()=>{it(Et,U),bt!==(bt=U)&&(W.value=(W.__value=U)??"")}),r(Q,W)}),o(Y),z(),o(m),z(),o(c),z(2),mt(Y,()=>l(h),Q=>i(h,Q)),r(b,T)},H=b=>{Qt(b,{status:"error",children:(T,c)=>{z();var m=rt();tt(()=>it(m,`eek a bug! unknown layout "${l(h)??""}"`)),r(T,m)},$$slots:{default:!0}})};x(L,b=>{l(h)==="centered"?b(j):b(H,!1)},!0)}r(g,E)};x(u,g=>{l(h)==="page"?g(P):g(M,!1)})}var O=t(u,2),S=s(O);S.__click=()=>dt();var X=t(S,2);X.__click=()=>D(),o(O);var Z=t(O,2);et(Z,16,()=>l(I),g=>g,(g,E)=>{var L=se(),j=s(L);j.__click=()=>lt(E);var H=t(j,2);{var b=c=>{var m=rt("gracefully");r(c,m)},T=c=>{var m=F(),Y=y(m);{var Q=U=>{var W=rt("ungracefully");r(U,W)};x(Y,U=>{l(h)==="centered"&&U(Q)},!0)}r(c,m)};x(H,c=>{l(h)==="page"?c(b):c(T,!1)})}o(L),Nt(3,L,()=>St),r(g,L)});var nt=t(Z,2);nt.__click=function(...g){a()?.apply(this,g)},o(d),o(n),tt(()=>X.disabled=!l(I).length),r(_,n)},$$slots:{default:!0}})};x(pt,e=>{l(R)&&e($t)})}var ut=t(pt,2);{var It=e=>{q(e,{onclose:()=>i($,!1),children:(p,_)=>{var a=ie(),n=s(a),d=t(s(n),4);d.__click=()=>i(J,!0),o(n),o(a),r(p,a)},$$slots:{default:!0}})};x(ut,e=>{l($)&&e(It)})}var gt=t(ut,2);{var Dt=e=>{q(e,{onclose:()=>i(J,!1),children:(p,_)=>{var a=le(),n=s(a),d=t(s(n),6);d.__click=()=>i(K,!0),o(n),o(a),r(p,a)},$$slots:{default:!0}})};x(gt,e=>{l(J)&&e(Dt)})}var ft=t(gt,2);{var Pt=e=>{q(e,{onclose:()=>i(K,!1),children:(p,_)=>{var a=de(),n=s(a),d=t(s(n),2);d.__click=()=>i(K,!1),o(n);var u=t(n,2),P=t(s(u),2);P.__click=()=>{i($,i(J,i(K,!1),!0),!0)},o(u),o(a),r(p,a)},$$slots:{default:!0}})};x(ft,e=>{l(K)&&e(Pt)})}var Mt=t(ft,2);Jt(Mt,{get dialogs(){return l(w)},onclose:()=>{i(w,l(w).slice(0,-1),!0)},children:(p,_=st)=>{var a=_e(),n=s(a);wt(n,()=>_().Component,(d,u)=>{u(d,_t(()=>_().props))}),o(a),r(p,a)},$$slots:{default:!0}}),r(B,ot),kt()}zt(["click"]);export{Ie as component};
