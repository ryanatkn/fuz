import"../chunks/DsnmJJEf.js";import{p as xt,e as K,a as w,b as i,c as yt,h as l,u as Lt,g as Ct,ac as st,t as tt,af as R,aj as ht,f as b,s as e,d as s,ae as _,ad as Y,r as a,ab as rt,b8 as zt}from"../chunks/B7qs8f6Z.js";import{s as it}from"../chunks/D2Z-uHvG.js";import{i as y}from"../chunks/DHMuHmk0.js";import{e as et,i as Rt}from"../chunks/GCAAGpmM.js";import{c as wt}from"../chunks/BrxtZYhB.js";import{a as Yt,S as jt,e as mt}from"../chunks/C61V10DD.js";import{t as Bt,s as Nt}from"../chunks/DkIYfvB-.js";import{s as dt,p as St}from"../chunks/C2A3Zqzr.js";import{C as Ht}from"../chunks/DpqcPF0n.js";import{A as Ut}from"../chunks/CugPMGjR.js";import{T as Wt}from"../chunks/LxwPyP1K.js";import{g as qt}from"../chunks/DGk0txWf.js";import{D as J}from"../chunks/DPmjiu3g.js";import{T as Ft}from"../chunks/Bb14A6oC.js";import{M as Gt}from"../chunks/DHzjxUCy.js";import{e as Jt}from"../chunks/36zOYlHh.js";function Kt(d,t){xt(t,!0);var x=K(),j=w(x);et(j,18,()=>t.dialogs,I=>I,(I,T,B)=>{{let D=Lt(()=>l(B)===t.dialogs.length-1);J(I,dt({get onclose(){return t.onclose}},()=>T.dialog_props,{get index(){return l(B)},get active(){return l(D)},children:(N,O)=>{var m=K(),P=w(m);{var lt=M=>{var A=K(),V=w(A);Ct(V,()=>t.children,()=>T),i(M,A)},_t=M=>{var A=K(),V=w(A);wt(V,()=>T.Component,(ot,at)=>{at(ot,dt(()=>T.props))}),i(M,A)};y(P,M=>{t.children?M(lt):M(_t,!1)})}i(N,m)},$$slots:{default:!0}}))}}),i(d,x),yt()}const Ot=(d,t,x)=>({Component:d,props:t,dialog_props:x}),kt=["centered","page"];function Qt(d,t){const x=St(t,"tag",3,"span");var j=K(),I=w(j);Jt(I,x,!1,(T,B)=>{Yt(T,N=>({style:"",[jt]:N}),[()=>({"font-size":t.size,padding:t.padding})]);var D=st();tt(()=>it(D,t.text)),i(B,D)}),i(d,j)}var Vt=(d,t)=>_(t,!0),Xt=(d,t)=>_(t,!0),Zt=(d,t)=>_(t,!0),te=(d,t)=>_(t,!0),ee=(d,t)=>t(5),oe=b(`<section><p>A modal that overlays the entire page. Uses <!> to allow usage from any
			component without inheriting styles.</p> <aside>⚠️ This will change to use and align APIs with the builtin <!>. API</aside></section> <section><!></section> <section><button type="button" class="mb_lg">open a dialog</button> <button type="button" class="mb_lg">open a dialog that overflows vertically</button> <button type="button" class="mb_lg">open a dialog with <code>layout="page"</code> instead of the default <code>layout='centered'</code></button> <button type="button" class="mb_lg">open a dialog containing another dialog</button> <button type="button" class="mb_lg">open many dialogs</button></section>`,1),ae=b('<div class="box"><div class="pane p_xl box"><h1>attention</h1> <p>this is a dialog</p> <button type="button">ok</button></div></div>'),ne=b("<p>this is a dialog that overflows vertically</p>"),re=b('<div class="box"><div class="pane p_xl"><h1>attention</h1> <!> <button type="button">close</button></div></div>'),se=b("<option> </option>"),ie=b(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>.</p> <p>Instead of being centered by default, the dialog's contents are aligned to the top of
							the page and grow downward. It's useful when the dialog's contents change in height.</p>`,1),le=b("<option> </option>"),_e=b(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>, the default value.</p> <p>It's often the best choice, but it can be undesirable in some situations, like when
							the height of the content changes as the user does things, leading to a janky
							experience.</p>`,1),de=(d,t)=>t(),ce=(d,t)=>t(),ve=(d,t,x)=>t(x),pe=b('<p><button type="button">✕</button> new stuff appears <!></p>'),ue=b('<div class="box"><div class="pane p_xl width_upto_md"><!> <p><button type="button">add item</button> <button type="button">remove all</button></p> <!> <button type="button">close</button></div></div>'),fe=(d,t)=>_(t,!0),ge=b('<div class="box"><div class="pane p_xl"><h1>dialog 1</h1> <p>dialogs can open more dialogs</p> <button type="button">open another dialog</button></div></div>'),be=(d,t)=>_(t,!0),he=b('<div class="box"><div class="pane p_xl"><h1>dialog 2</h1> <p>this dialog can open more dialogs</p> <p>this is the second dialog</p> <button type="button">open another dialog</button></div></div>'),me=(d,t)=>_(t,!1),ke=(d,t,x,j)=>{_(t,_(x,_(j,!1),!0),!0)},xe=b('<div class="box gap_xl3"><div class="pane p_xl"><h1>3 dialogs!</h1> <button type="button">close dialog</button></div> <div class="pane p_xl"><h1>and another <code>.pane</code></h1> <button type="button">close all dialogs</button></div></div>'),ye=b('<div class="pane p_md width_upto_md mx_auto"><!></div>'),we=b("<!> <!> <!> <!> <!> <!> <!> <!>",1);function He(d,t){xt(t,!0);const j=qt("Dialog");let I=R(!1),T=R(!1),B=R(!1),D=R(!1),N=R(!1),O=R(!1),m=R("page"),P=R(ht([]));const lt=o=>{_(P,l(P).filter(u=>u!==o),!0)},_t=()=>{_(P,l(P).concat({}),!0)},M=()=>{_(P,[],!0)};let A=R(ht([]));const V=o=>{const u=v=>"!".repeat(o*3-v*3);_(A,Array.from({length:o},(v,n)=>Ot(Qt,{text:u(n),size:"var(--font_size_xl4)",padding:"var(--space_sm) var(--space_lg)"})),!0)};var ot=we(),at=w(ot);Wt(at,{get tome(){return j},children:(o,u)=>{var v=oe(),n=w(v),r=s(n),c=e(s(r));Ft(c,{name:"Teleport"}),Y(),a(r);var f=e(r,2),E=e(s(f));Gt(E,{path:"Web/HTML/Element/dialog"}),Y(),a(f),a(n);var L=e(n,2),Q=s(L);Ht(Q,{content:`<button onclick={() => (opened = true)}>
	open a dialog
</button>
{#if opened}
	<Dialog onclose={() => (opened = false)}>
		{#snippet children(close)}
			<div class="box">
				<div class="pane p_xl box">
					<h1>attention</h1>
					<p>this is a dialog</p>
					<button onclick={close}>ok</button>
				</div>
			</div>
		{/snippet}
	</Dialog>
{/if}`}),a(L);var H=e(L,2),X=s(H);X.__click=[Vt,I];var Z=e(X,2);Z.__click=[Xt,T];var nt=e(Z,2);nt.__click=[Zt,B];var g=e(nt,2);g.__click=[te,D];var C=e(g,2);C.__click=[ee,V],a(H),i(o,v)},$$slots:{default:!0}});var ct=e(at,2);{var Tt=o=>{J(o,{onclose:()=>_(I,!1),children:(v,n=rt)=>{var r=ae(),c=s(r),f=e(s(c),4);f.__click=function(...E){n()?.apply(this,E)},a(c),a(r),i(v,r)},$$slots:{default:!0}})};y(ct,o=>{l(I)&&o(Tt)})}var vt=e(ct,2);{var At=o=>{J(o,{onclose:()=>_(T,!1),children:(v,n=rt)=>{var r=re(),c=s(r),f=e(s(c),2);et(f,16,()=>({length:120}),Rt,(L,Q)=>{var H=ne();i(L,H)});var E=e(f,2);E.__click=function(...L){n()?.apply(this,L)},a(c),a(r),i(v,r)},$$slots:{default:!0}})};y(vt,o=>{l(T)&&o(At)})}var pt=e(vt,2);{var $t=o=>{J(o,{onclose:()=>(_(B,!1),M()),get layout(){return l(m)},children:(v,n=rt)=>{var r=ue(),c=s(r),f=s(c);{var E=g=>{var C=ie(),z=w(C),U=e(s(z),3),W=e(s(U));et(W,20,()=>kt,h=>h,(h,$)=>{var p=se(),k=s(p,!0);a(p);var S={};tt(()=>{it(k,$),S!==(S=$)&&(p.value=(p.__value=$)??"")}),i(h,p)}),a(W),Y(),a(U),Y(),a(z),Y(2),mt(W,()=>l(m),h=>_(m,h)),i(g,C)},L=g=>{var C=K(),z=w(C);{var U=h=>{var $=_e(),p=w($),k=e(s(p),3),S=e(s(k));et(S,20,()=>kt,q=>q,(q,F)=>{var G=le(),Et=s(G,!0);a(G);var bt={};tt(()=>{it(Et,F),bt!==(bt=F)&&(G.value=(G.__value=F)??"")}),i(q,G)}),a(S),Y(),a(k),Y(),a(p),Y(2),mt(S,()=>l(m),q=>_(m,q)),i(h,$)},W=h=>{Ut(h,{status:"error",children:($,p)=>{Y();var k=st();tt(()=>it(k,`eek a bug! unknown layout "${l(m)??""}"`)),i($,k)},$$slots:{default:!0}})};y(z,h=>{l(m)==="centered"?h(U):h(W,!1)},!0)}i(g,C)};y(f,g=>{l(m)==="page"?g(E):g(L,!1)})}var Q=e(f,2),H=s(Q);H.__click=[de,_t];var X=e(H,2);X.__click=[ce,M],a(Q);var Z=e(Q,2);et(Z,16,()=>l(P),g=>g,(g,C)=>{var z=pe(),U=s(z);U.__click=[ve,lt,C];var W=e(U,2);{var h=p=>{var k=st("gracefully");i(p,k)},$=p=>{var k=K(),S=w(k);{var q=F=>{var G=st("ungracefully");i(F,G)};y(S,F=>{l(m)==="centered"&&F(q)},!0)}i(p,k)};y(W,p=>{l(m)==="page"?p(h):p($,!1)})}a(z),Bt(3,z,()=>Nt),i(g,z)});var nt=e(Z,2);nt.__click=function(...g){n()?.apply(this,g)},a(c),a(r),tt(()=>X.disabled=!l(P).length),i(v,r)},$$slots:{default:!0}})};y(pt,o=>{l(B)&&o($t)})}var ut=e(pt,2);{var It=o=>{J(o,{onclose:()=>_(D,!1),children:(u,v)=>{var n=ge(),r=s(n),c=e(s(r),4);c.__click=[fe,N],a(r),a(n),i(u,n)},$$slots:{default:!0}})};y(ut,o=>{l(D)&&o(It)})}var ft=e(ut,2);{var Dt=o=>{J(o,{onclose:()=>_(N,!1),children:(u,v)=>{var n=he(),r=s(n),c=e(s(r),6);c.__click=[be,O],a(r),a(n),i(u,n)},$$slots:{default:!0}})};y(ft,o=>{l(N)&&o(Dt)})}var gt=e(ft,2);{var Pt=o=>{J(o,{onclose:()=>_(O,!1),children:(u,v)=>{var n=xe(),r=s(n),c=e(s(r),2);c.__click=[me,O],a(r);var f=e(r,2),E=e(s(f),2);E.__click=[ke,D,N,O],a(f),a(n),i(u,n)},$$slots:{default:!0}})};y(gt,o=>{l(O)&&o(Pt)})}var Mt=e(gt,2);Kt(Mt,{get dialogs(){return l(A)},onclose:()=>{_(A,l(A).slice(0,-1),!0)},children:(u,v=rt)=>{var n=ye(),r=s(n);wt(r,()=>v().Component,(c,f)=>{f(c,dt(()=>v().props))}),a(n),i(u,n)},$$slots:{default:!0}}),i(d,ot),yt()}zt(["click"]);export{He as component};
