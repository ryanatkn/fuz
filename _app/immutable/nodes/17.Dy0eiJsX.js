import{b as k,a as o,f as _,l as $e,t as m,c as i,s as e}from"../chunks/disclose-version.COjBdUkA.js";import{A as Me,i as Ce,a as ue,p as pe,$ as f,g as d,d as Re,r as X,m as F,q as s}from"../chunks/runtime.BITJpo-a.js";import{s as se,d as Se,b as Be}from"../chunks/render.Z7Ne6upu.js";import{n as ie}from"../chunks/utils.BSJX-nVd.js";import{i as L}from"../chunks/if.C-SBJCAL.js";import{e as te,i as _e}from"../chunks/each.Bo18fhyf.js";import{c as Pe}from"../chunks/svelte-component.BYxAop2S.js";import{s as Ne,r as De}from"../chunks/attributes.CdOanwG5.js";import{s as ce}from"../chunks/style.CN5pMWL6.js";import{t as Oe,s as Ye}from"../chunks/index.n8cLYxRO.js";import{l as je}from"../chunks/shared.DGpfj6_U.js";import{s as de,p as Fe}from"../chunks/props.CQvavPLi.js";import{u as Le,s as Ee,a as Te}from"../chunks/store.CNJiSGML.js";import{p as Z}from"../chunks/proxy.QLsxkP1d.js";import{w as He}from"../chunks/index.D6XVrNcu.js";import{C as Ue}from"../chunks/Code.CAGfF-1b.js";import{A as We}from"../chunks/Alert.CSv7wDln.js";import{T as Ge}from"../chunks/Tome_Detail.DMYuVhxs.js";import{g as Je}from"../chunks/tome.DbsBumql.js";import{D as W}from"../chunks/Dialog.Dkv_ntOJ.js";import{T as Ke}from"../chunks/Tome_Link.bj2P6qUK.js";import{M as Qe}from"../chunks/Mdn_Link.Cfq4d4cm.js";import{e as Ve}from"../chunks/svelte-element.Cj0AoTHt.js";function ve(a,t,r){if(a.multiple)return Ze(a,t);for(var v of a.options){var g=ae(v);if(g===t){v.selected=!0;return}}(!r||t!==void 0)&&(a.selectedIndex=-1)}function Xe(a,t){Me(()=>{t&&ve(a,Ce(t));var r=new MutationObserver(()=>{var v=a.__value;ve(a,v)});return r.observe(a,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function Ae(a,t,r){var v=!0;je(a,"change",()=>{var g;if(a.multiple)g=[].map.call(a.querySelectorAll(":checked"),ae);else{var y=a.querySelector(":checked");g=y&&ae(y)}r(g)}),Me(()=>{var g=t();if(ve(a,g,v),v&&g===void 0){var y=a.querySelector(":checked");y!==null&&(g=ae(y),r(g))}a.__value=g,v=!1}),Xe(a)}function Ze(a,t){for(var r of a.options)r.selected=~t.indexOf(ae(r))}function ae(a){return"__value"in a?a.__value:a.value}function et(a,t){ue(t,!0);const r={};Le(r);const v=()=>Ee(t.dialogs,"$dialogs",r);var g=k(),y=_(g);te(y,71,v,(E,D)=>f(E),(E,D,G)=>{var H=k(),J=_(H),U=Re(()=>f(G)===v().length-1);W(J,de({get onclose(){return t.onclose}},()=>f(D).dialog_props,{get index(){return f(G)},get active(){return d(U)},children:(T,O)=>{var oe=k(),le=_(oe);L(le,()=>t.children,K=>{var q=k(),Q=_(q);Ne(()=>t.children,Q,()=>f(D)),o(K,q)},K=>{var q=k(),Q=_(q);Pe(Q,()=>f(D).Component,re=>{re(Q,de(()=>f(D).props))}),o(K,q)}),o(T,oe)}})),o(E,H)}),o(a,g),pe()}const tt=(a,t,r)=>({Component:a,props:t,dialog_props:r}),Ie=["centered","page"];function at(a,t){ue(t,!0);const r=Fe(t,"tag",3,"span");var v=k(),g=_(v);Ve(g,r,!1,(y,E)=>{X(()=>{ce(y,"font-size",t.size),ce(y,"padding",t.padding)});var D=$e(E);X(()=>se(D,t.text)),o(E,D)}),o(a,v),pe()}var ot=(a,t)=>s(t,!0),rt=(a,t)=>s(t,!0),nt=(a,t)=>s(t,!0),it=(a,t)=>s(t,!0),st=(a,t)=>t(5),lt=m(`<section><p>A modal that overlays the entire page. Uses <!> to allow usage from any
			component without inheriting styles.</p> <aside>⚠️ This will change to use and align APIs with the builtin <!>. API</aside></section> <section><!></section> <section><button class="mb_lg">open a dialog</button> <button class="mb_lg">open a dialog that overflows vertically</button> <button class="mb_lg">open a dialog with <code>layout="page"</code> instead of the default <code>layout='centered'</code></button> <button class="mb_lg">open a dialog containing another dialog</button> <button class="mb_lg">open many dialogs</button></section>`,1),_t=m('<div class="pane p_xl box"><h1>attention</h1> <p>this is a dialog</p> <button>ok</button></div>'),ct=m("<p>this is a dialog that overflows vertically</p>"),dt=m('<div class="pane p_xl"><h1>attention</h1> <!> <button>close</button></div>'),vt=m("<option> </option>"),ut=m(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>.</p> <p>Instead of being centered by default, the dialog's contents are aligned to the top of
						the page and grow downward. It's useful when the dialog's contents change in height.</p>`,1),pt=m("<option> </option>"),gt=m(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>, the default value.</p> <p>It's often the best choice, but it can be undesirable in some situations, like when the
						height of the content changes as the user does things, leading to a janky experience.</p>`,1),ft=(a,t)=>t(),mt=(a,t)=>t(),ht=(a,t,r)=>t(f(r)),bt=m("gracefully",1),kt=m("ungracefully",1),xt=m("<p><button>✕</button> new stuff appears <!></p>"),wt=m('<div class="pane p_xl width_md"><!> <p><button>add item</button> <button>remove all</button></p> <!> <button type="button">close</button></div>'),yt=(a,t)=>s(t,!0),Dt=m('<div class="pane p_xl"><h1>dialog 1</h1> <p>dialogs can open more dialogs</p> <button>open another dialog</button></div>'),Tt=(a,t)=>s(t,!0),At=m('<div class="pane p_xl"><h1>dialog 2</h1> <p>this dialog can open more dialogs</p> <p>this is the second dialog</p> <button>open another dialog</button></div>'),It=(a,t)=>s(t,!1),$t=(a,t,r,v)=>{s(t,Z(s(r,Z(s(v,!1)))))},Mt=m('<div class="pane p_xl"><h1>3 dialogs!</h1> <button>close dialog</button></div> <div class="pane p_xl"><h1>and another <code>.pane</code></h1> <button>close all dialogs</button></div>',1),Pt=m('<div class="pane"><!></div>'),Lt=m("<!> <!> <!> <!> <!> <!> <!> <!>",1);function ta(a,t){ue(t,!0);const r={};Le(r);const v=()=>Ee(q,"$dialogs",r),y=Je("Dialog");let E=F(!1),D=F(!1),G=F(!1),H=F(!1),J=F(!1),U=F(!1),T=F("page"),O=F(Z([]));const oe=c=>{s(O,Z(d(O).filter(n=>n!==c)))},le=()=>{s(O,Z(d(O).concat({})))},K=()=>{s(O,Z([]))},q=He([]),Q=c=>{const n=l=>"!".repeat(c*3-l*3);Te(q,Array.from({length:c},(l,h)=>tt(at,{text:n(h),size:"var(--size_xl4)",padding:"var(--space_sm) var(--space_lg)"})))};var re=Lt(),ge=_(re);Ge(ge,{tome:y,children:(c,n)=>{var l=lt(),h=_(l),x=i(h),u=e(i(x));Ke(u,{name:"Teleport"});var p=e(e(x,!0)),w=e(i(p));Qe(w,{href:"Web/HTML/Element/dialog"});var b=e(e(h,!0)),A=i(b);Ue(A,{content:`<button onclick={() => (opened = true)}>
	open a dialog
</button>
{#if opened}
	<Dialog onclose={() => (opened = false)}>
		{#snippet children(close)}
			<div class="pane p_xl box">
				<h1>attention</h1>
				<p>this is a dialog</p>
				<button onclick={close}>ok</button>
			</div>
		{/snippet}
	</Dialog>
{/if}`});var Y=e(e(b,!0)),j=i(Y);j.__click=[ot,E];var ee=e(e(j,!0));ee.__click=[rt,D];var I=e(e(ee,!0));I.__click=[nt,G];var P=e(e(I,!0));P.__click=[it,H];var V=e(e(P,!0));V.__click=[st,Q],o(c,l)}});var fe=e(e(ge,!0));L(fe,()=>d(E),c=>{var n=k(),l=_(n);W(l,{onclose:()=>s(E,!1),children:(x,u=ie)=>{var p=_t(),w=i(p),b=e(e(w,!0)),A=e(e(b,!0));A.__click=u(),o(x,p)}}),o(c,n)});var me=e(e(fe,!0));L(me,()=>d(D),c=>{var n=k(),l=_(n);W(l,{onclose:()=>s(D,!1),children:(x,u=ie)=>{var p=dt(),w=i(p),b=e(e(w,!0));te(b,65,()=>({length:120}),_e,(Y,j,ee)=>{var I=ct();o(Y,I)});var A=e(e(b,!0));A.__click=u(),o(x,p)}}),o(c,n)});var he=e(e(me,!0));L(he,()=>d(G),c=>{var n=k(),l=_(n);W(l,{onclose:()=>(s(G,!1),K()),get layout(){return d(T)},children:(x,u=ie)=>{var p=wt(),w=i(p);L(w,()=>d(T)==="page",I=>{var P=ut(),V=_(P),R=e(i(V)),z=e(e(R,!0)),S=e(i(z));De(S),te(S,73,()=>Ie,_e,($,M,B)=>{var C=vt(),N,we=i(C);X(()=>{N!==(N=f(M))&&(C.value=(C.__value=f(M))==null?"":f(M)),se(we,f(M))}),o($,C)}),Ae(S,()=>d(T),$=>s(T,$)),o(I,P)},I=>{var P=k(),V=_(P);L(V,()=>d(T)==="centered",R=>{var z=gt(),S=_(z),$=e(i(S)),M=e(e($,!0)),B=e(i(M));De(B),te(B,73,()=>Ie,_e,(C,N,we)=>{var ne=pt(),ye,ze=i(ne);X(()=>{ye!==(ye=f(N))&&(ne.value=(ne.__value=f(N))==null?"":f(N)),se(ze,f(N))}),o(C,ne)}),Ae(B,()=>d(T),C=>s(T,C)),o(R,z)},R=>{var z=k(),S=_(z);We(S,{status:"error",children:($,M)=>{var B=$e($);X(()=>se(B,`eek a bug! unknown layout "${Be(d(T))}"`)),o($,B)}}),o(R,z)},!0),o(I,P)});var b=e(e(w,!0)),A=i(b);A.__click=[ft,le];var Y=e(e(A,!0));Y.__click=[mt,K];var j=e(e(b,!0));te(j,68,()=>d(O),(I,P)=>f(I),(I,P,V)=>{var R=xt();Oe(3,R,()=>Ye);var z=i(R);z.__click=[ht,oe,P];var S=e(e(z,!0));L(S,()=>d(T)==="page",$=>{var M=bt();o($,M)},$=>{var M=k(),B=_(M);L(B,()=>d(T)==="centered",C=>{var N=kt();o(C,N)},null,!0),o($,M)}),o(I,R)});var ee=e(e(j,!0));ee.__click=u(),X(()=>Y.disabled=!d(O).length),o(x,p)}}),o(c,n)});var be=e(e(he,!0));L(be,()=>d(H),c=>{var n=k(),l=_(n);W(l,{onclose:()=>s(H,!1),children:(h,x)=>{var u=Dt(),p=i(u),w=e(e(p,!0)),b=e(e(w,!0));b.__click=[yt,J],o(h,u)}}),o(c,n)});var ke=e(e(be,!0));L(ke,()=>d(J),c=>{var n=k(),l=_(n);W(l,{onclose:()=>s(J,!1),children:(h,x)=>{var u=At(),p=i(u),w=e(e(p,!0)),b=e(e(w,!0)),A=e(e(b,!0));A.__click=[Tt,U],o(h,u)}}),o(c,n)});var xe=e(e(ke,!0));L(xe,()=>d(U),c=>{var n=k(),l=_(n);W(l,{onclose:()=>s(U,!1),children:(h,x)=>{var u=Mt(),p=_(u);ce(p,"margin-bottom","var(--space_xl3)");var w=i(p),b=e(e(w,!0));b.__click=[It,U];var A=e(e(p,!0)),Y=i(A),j=e(e(Y,!0));j.__click=[$t,H,J,U],o(h,u)}}),o(c,n)});var qe=e(e(xe,!0));et(qe,{dialogs:q,onclose:()=>{Te(q,v().slice(0,-1))},children:(n,l=ie)=>{var h=Pt(),x=i(h);Pe(x,()=>l().Component,u=>{u(x,de(()=>l().props))}),o(n,h)}}),o(a,re),pe()}Se(["click"]);export{ta as component};
