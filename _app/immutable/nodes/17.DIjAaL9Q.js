import{b as j,a,f as D,D as yt,t as f,s as t,c as s}from"../chunks/disclose-version.BHqvyKx-.js";import{i as $t,p as wt,a as Tt,Q as g,g as c,d as Ct,t as J,C as q,n as l,G as at}from"../chunks/runtime.VNSPx__r.js";import{s as rt,d as Et}from"../chunks/render.BZs1ZF8H.js";import{i as zt,p as K}from"../chunks/proxy.CO2BnZf8.js";import{i as P}from"../chunks/if.Dmk6Jy1T.js";import{e as Z,i as it}from"../chunks/each._S1x_LPC.js";import{c as At}from"../chunks/svelte-component.CbJMDUUX.js";import{s as st}from"../chunks/style.iv2mhl8q.js";import{t as Rt,s as qt}from"../chunks/index.DFAi61nl.js";import{l as St}from"../chunks/shared.DrZGE7ZS.js";import{s as lt,p as Bt}from"../chunks/props.BOsT0QGW.js";import{s as Dt,a as It,b as bt}from"../chunks/stores.D6RJ-YKZ.js";import{w as Nt}from"../chunks/entry.lHk_ILyg.js";import{C as Ot}from"../chunks/Code.DpsevpDf.js";import{A as Yt}from"../chunks/Alert.D33Q_H-X.js";import{T as jt}from"../chunks/Tome_Detail.B_QKVIdr.js";import{g as Ft}from"../chunks/tome.BuafWkLb.js";import{D as Y}from"../chunks/Dialog.DrTNLJIy.js";import{T as Gt}from"../chunks/Tome_Link.DAKGVrQ_.js";import{M as Ht}from"../chunks/Mdn_Link.CcRcFMdz.js";import{s as Qt}from"../chunks/attributes.B0eU8BeJ.js";import{e as Ut}from"../chunks/svelte-element.BHteci0S.js";function Mt(o,e,r){if(o.multiple)return Jt(o,e);for(var d of o.options){var u=tt(d);if(zt(u,e)){d.selected=!0;return}}(!r||e!==void 0)&&(o.selectedIndex=-1)}function Wt(o,e){$t(()=>{var r=new MutationObserver(()=>{var d=o.__value;Mt(o,d)});return r.observe(o,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function kt(o,e,r){var d=!0;St(o,"change",()=>{var u;if(o.multiple)u=[].map.call(o.querySelectorAll(":checked"),tt);else{var k=o.querySelector(":checked");u=k&&tt(k)}r(u)}),$t(()=>{var u=e();if(Mt(o,u,d),d&&u===void 0){var k=o.querySelector(":checked");k!==null&&(u=tt(k),r(u))}o.__value=u,d=!1}),Wt(o)}function Jt(o,e){for(var r of o.options)r.selected=~e.indexOf(tt(r))}function tt(o){return"__value"in o?o.__value:o.value}function Kt(o,e){wt(e,!0);const r=Dt(),d=()=>It(e.dialogs,"$dialogs",r);var u=j(),k=D(u);Z(k,71,d,(L,x)=>g(L),(L,x,F)=>{var G=Ct(()=>g(F)===d().length-1);Y(L,lt({get onclose(){return e.onclose}},()=>g(x).dialog_props,{get index(){return g(F)},get active(){return c(G)},children:(H,Q)=>{var b=j(),E=D(b);P(E,()=>e.children,V=>{var S=j(),U=D(S);Qt(U,()=>e.children,()=>g(x)),a(V,S)},V=>{var S=j(),U=D(S);At(U,()=>g(x).Component,(W,nt)=>{nt(W,lt(()=>g(x).props))}),a(V,S)}),a(H,b)},$$slots:{default:!0}}))}),a(o,u),Tt()}const Vt=(o,e,r)=>({Component:o,props:e,dialog_props:r}),xt=["centered","page"];function Xt(o,e){const r=Bt(e,"tag",3,"span");var d=j(),u=D(d);Ut(u,r,!1,(k,L)=>{J(()=>{st(k,"font-size",e.size),st(k,"padding",e.padding)});var x=yt(L);J(()=>rt(x,e.text)),a(L,x)}),a(o,d)}var Zt=(o,e)=>l(e,!0),te=(o,e)=>l(e,!0),ee=(o,e)=>l(e,!0),oe=(o,e)=>l(e,!0),ae=(o,e)=>e(5),re=f(`<section><p>A modal that overlays the entire page. Uses <!> to allow usage from any
			component without inheriting styles.</p> <aside>⚠️ This will change to use and align APIs with the builtin <!>. API</aside></section> <section><!></section> <section><button type="button" class="mb_lg">open a dialog</button> <button type="button" class="mb_lg">open a dialog that overflows vertically</button> <button type="button" class="mb_lg">open a dialog with <code>layout="page"</code> instead of the default <code>layout='centered'</code></button> <button type="button" class="mb_lg">open a dialog containing another dialog</button> <button type="button" class="mb_lg">open many dialogs</button></section>`,1),ne=f('<div class="pane p_xl box"><h1>attention</h1> <p>this is a dialog</p> <button type="button">ok</button></div>'),ie=f("<p>this is a dialog that overflows vertically</p>"),se=f('<div class="pane p_xl"><h1>attention</h1> <!> <button type="button">close</button></div>'),le=f("<option> </option>"),_e=f(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>.</p> <p>Instead of being centered by default, the dialog's contents are aligned to the top of
						the page and grow downward. It's useful when the dialog's contents change in height.</p>`,1),ce=f("<option> </option>"),de=f(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>, the default value.</p> <p>It's often the best choice, but it can be undesirable in some situations, like when the
						height of the content changes as the user does things, leading to a janky experience.</p>`,1),ue=(o,e)=>e(),ve=(o,e)=>e(),pe=(o,e,r)=>e(g(r)),ge=f("gracefully",1),fe=f("ungracefully",1),me=f('<p><button type="button">✕</button> new stuff appears <!></p>'),he=f('<div class="pane p_xl width_md"><!> <p><button type="button">add item</button> <button type="button">remove all</button></p> <!> <button type="button">close</button></div>'),be=(o,e)=>l(e,!0),ke=f('<div class="pane p_xl"><h1>dialog 1</h1> <p>dialogs can open more dialogs</p> <button type="button">open another dialog</button></div>'),xe=(o,e)=>l(e,!0),ye=f('<div class="pane p_xl"><h1>dialog 2</h1> <p>this dialog can open more dialogs</p> <p>this is the second dialog</p> <button type="button">open another dialog</button></div>'),$e=(o,e)=>l(e,!1),we=(o,e,r,d)=>{l(e,K(l(r,K(l(d,!1)))))},Te=f('<div class="pane p_xl"><h1>3 dialogs!</h1> <button type="button">close dialog</button></div> <div class="pane p_xl"><h1>and another <code>.pane</code></h1> <button type="button">close all dialogs</button></div>',1),Ae=f('<div class="pane"><!></div>'),De=f("<!> <!> <!> <!> <!> <!> <!> <!>",1);function Ke(o,e){wt(e,!0);const r=Dt(),d=()=>It(W,"$dialogs",r),k=Ft("Dialog");let L=q(!1),x=q(!1),F=q(!1),G=q(!1),H=q(!1),Q=q(!1),b=q("page"),E=q(K([]));const V=_=>{l(E,K(c(E).filter(h=>h!==_)))},S=()=>{l(E,K(c(E).concat({})))},U=()=>{l(E,K([]))},W=Nt([]),nt=_=>{const h=v=>"!".repeat(_*3-v*3);bt(W,Array.from({length:_},(v,n)=>Vt(Xt,{text:h(n),size:"var(--size_xl4)",padding:"var(--space_sm) var(--space_lg)"})))};var _t=De(),ct=D(_t);jt(ct,{tome:k,children:(_,h)=>{var v=re(),n=D(v),i=s(n),m=t(s(i));Gt(m,{name:"Teleport"});var p=t(t(i,!0)),y=t(s(p));Ht(y,{path:"Web/HTML/Element/dialog"});var z=t(t(n,!0)),B=s(z);Ot(B,{content:`<button onclick={() => (opened = true)}>
	open a dialog
</button>
{#if opened}
	<Dialog onclose={() => (opened = false)}>
		{#snippet children(close)}
			<div class="pane p_xl box">
				<h1>attention</h1>
				<p>this is a dialog</p>
				<button onclick={close}>ok</button>
			</div>
		{/snippet}
	</Dialog>
{/if}`});var et=t(t(z,!0)),$=s(et);$.__click=[Zt,L];var I=t(t($,!0));I.__click=[te,x];var N=t(t(I,!0));N.__click=[ee,F];var w=t(t(N,!0));w.__click=[oe,G];var T=t(t(w,!0));T.__click=[ae,nt],a(_,v)},$$slots:{default:!0}});var dt=t(t(ct,!0));P(dt,()=>c(L),_=>{Y(_,{onclose:()=>l(L,!1),children:(v,n=at)=>{var i=ne(),m=s(i),p=t(t(m,!0)),y=t(t(p,!0));y.__click=n(),a(v,i)}})});var ut=t(t(dt,!0));P(ut,()=>c(x),_=>{Y(_,{onclose:()=>l(x,!1),children:(v,n=at)=>{var i=se(),m=s(i),p=t(t(m,!0));Z(p,65,()=>({length:120}),it,(z,B,et)=>{var $=ie();a(z,$)});var y=t(t(p,!0));y.__click=n(),a(v,i)}})});var vt=t(t(ut,!0));P(vt,()=>c(F),_=>{Y(_,{onclose:()=>(l(F,!1),U()),get layout(){return c(b)},children:(v,n=at)=>{var i=he(),m=s(i);P(m,()=>c(b)==="page",$=>{var I=_e(),N=D(I),w=t(s(N)),T=t(t(w,!0)),O=t(s(T));Z(O,73,()=>xt,it,(A,M,X)=>{var C=le(),R,mt=s(C);J(()=>{R!==(R=g(M))&&(C.value=(C.__value=g(M))==null?"":g(M)),rt(mt,g(M))}),a(A,C)}),kt(O,()=>c(b),A=>l(b,A)),a($,I)},$=>{var I=j(),N=D(I);P(N,()=>c(b)==="centered",w=>{var T=de(),O=D(T),A=t(s(O)),M=t(t(A,!0)),X=t(s(M));Z(X,73,()=>xt,it,(C,R,mt)=>{var ot=ce(),ht,Lt=s(ot);J(()=>{ht!==(ht=g(R))&&(ot.value=(ot.__value=g(R))==null?"":g(R)),rt(Lt,g(R))}),a(C,ot)}),kt(X,()=>c(b),C=>l(b,C)),a(w,T)},w=>{Yt(w,{status:"error",children:(T,O)=>{var A=yt(T);J(()=>rt(A,`eek a bug! unknown layout "${c(b)??""}"`)),a(T,A)},$$slots:{default:!0}})},!0),a($,I)});var p=t(t(m,!0)),y=s(p);y.__click=[ue,S];var z=t(t(y,!0));z.__click=[ve,U];var B=t(t(p,!0));Z(B,68,()=>c(E),($,I)=>g($),($,I,N)=>{var w=me();Rt(3,w,()=>qt);var T=s(w);T.__click=[pe,V,I];var O=t(t(T,!0));P(O,()=>c(b)==="page",A=>{var M=ge();a(A,M)},A=>{var M=j(),X=D(M);P(X,()=>c(b)==="centered",C=>{var R=fe();a(C,R)},null,!0),a(A,M)}),a($,w)});var et=t(t(B,!0));et.__click=n(),J(()=>z.disabled=!c(E).length),a(v,i)}})});var pt=t(t(vt,!0));P(pt,()=>c(G),_=>{Y(_,{onclose:()=>l(G,!1),children:(h,v)=>{var n=ke(),i=s(n),m=t(t(i,!0)),p=t(t(m,!0));p.__click=[be,H],a(h,n)},$$slots:{default:!0}})});var gt=t(t(pt,!0));P(gt,()=>c(H),_=>{Y(_,{onclose:()=>l(H,!1),children:(h,v)=>{var n=ye(),i=s(n),m=t(t(i,!0)),p=t(t(m,!0)),y=t(t(p,!0));y.__click=[xe,Q],a(h,n)},$$slots:{default:!0}})});var ft=t(t(gt,!0));P(ft,()=>c(Q),_=>{Y(_,{onclose:()=>l(Q,!1),children:(h,v)=>{var n=Te(),i=D(n);st(i,"margin-bottom","var(--space_xl3)");var m=s(i),p=t(t(m,!0));p.__click=[$e,Q];var y=t(t(i,!0)),z=s(y),B=t(t(z,!0));B.__click=[we,G,H,Q],a(h,n)},$$slots:{default:!0}})});var Pt=t(t(ft,!0));Kt(Pt,{dialogs:W,onclose:()=>{bt(W,d().slice(0,-1))},children:(h,v=at)=>{var n=Ae(),i=s(n);At(i,()=>v().Component,(m,p)=>{p(m,lt(()=>v().props))}),a(h,n)}}),a(o,_t),Tt()}Et(["click"]);export{Ke as component};
