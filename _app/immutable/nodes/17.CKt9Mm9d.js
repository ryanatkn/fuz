import{b as k,a as o,f as _,l as Te,t as m,s as e,c as i}from"../chunks/disclose-version.5tIm47j5.js";import{h as Ae,p as $e,a as Ie,a6 as f,g as d,d as Re,r as X,H as j,t as l,a4 as ie}from"../chunks/runtime.BhNP7HCo.js";import{s as le,d as qe,a as Se}from"../chunks/render.YxUbVe5A.js";import{p as Z}from"../chunks/proxy.CFT7Wq3v.js";import{i as L}from"../chunks/if.BCURgWd1.js";import{e as te,i as _e}from"../chunks/each.DJd99rmV.js";import{c as Me}from"../chunks/svelte-component.De4wqhXv.js";import{s as Be,r as xe}from"../chunks/attributes.CvtJqRbz.js";import{s as ce}from"../chunks/style.iv2mhl8q.js";import{t as He,s as Ne}from"../chunks/index.CftvCRyH.js";import{l as Oe}from"../chunks/shared.CKTwHwRX.js";import{s as de,p as Ye}from"../chunks/props.Dyh0Sy5f.js";import{u as Pe,s as Le,a as we}from"../chunks/store.DCaPkja5.js";import{w as je}from"../chunks/index.CLCJtqTa.js";import{C as Fe}from"../chunks/Code.DoKnE_1e.js";import{A as Ue}from"../chunks/Alert.BLucyRNA.js";import{T as We}from"../chunks/Tome_Detail.BIg5umkX.js";import{g as Ge}from"../chunks/tome.DYc5lYMi.js";import{D as W}from"../chunks/Dialog.BDBKRNNy.js";import{T as Je}from"../chunks/Tome_Link.Dsgyr-Nf.js";import{M as Ke}from"../chunks/Mdn_Link.Bv_GM05g.js";import{e as Qe}from"../chunks/svelte-element.OCKMy3Wg.js";function Ee(a,t,r){if(a.multiple)return Xe(a,t);for(var v of a.options){var g=ae(v);if(g===t){v.selected=!0;return}}(!r||t!==void 0)&&(a.selectedIndex=-1)}function Ve(a,t){Ae(()=>{var r=new MutationObserver(()=>{var v=a.__value;Ee(a,v)});return r.observe(a,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function ye(a,t,r){var v=!0;Oe(a,"change",()=>{var g;if(a.multiple)g=[].map.call(a.querySelectorAll(":checked"),ae);else{var y=a.querySelector(":checked");g=y&&ae(y)}r(g)}),Ae(()=>{var g=t();if(Ee(a,g,v),v&&g===void 0){var y=a.querySelector(":checked");y!==null&&(g=ae(y),r(g))}a.__value=g,v=!1}),Ve(a)}function Xe(a,t){for(var r of a.options)r.selected=~t.indexOf(ae(r))}function ae(a){return"__value"in a?a.__value:a.value}function Ze(a,t){$e(t,!0);const r={};Pe(r);const v=()=>Le(t.dialogs,"$dialogs",r);var g=k(),y=_(g);te(y,71,v,(E,D)=>f(E),(E,D,G)=>{var F=k(),J=_(F),U=Re(()=>f(G)===v().length-1);W(J,de({get onclose(){return t.onclose}},()=>f(D).dialog_props,{get index(){return f(G)},get active(){return d(U)},children:(T,N)=>{var oe=k(),se=_(oe);L(se,()=>t.children,K=>{var z=k(),Q=_(z);Be(()=>t.children,Q,()=>f(D)),o(K,z)},K=>{var z=k(),Q=_(z);Me(Q,()=>f(D).Component,re=>{re(Q,de(()=>f(D).props))}),o(K,z)}),o(T,oe)}})),o(E,F)}),o(a,g),Ie()}const et=(a,t,r)=>({Component:a,props:t,dialog_props:r}),De=["centered","page"];function tt(a,t){const r=Ye(t,"tag",3,"span");var v=k(),g=_(v);Qe(g,r,!1,(y,E)=>{X(()=>{ce(y,"font-size",t.size),ce(y,"padding",t.padding)});var D=Te(E);X(()=>le(D,t.text)),o(E,D)}),o(a,v)}var at=(a,t)=>l(t,!0),ot=(a,t)=>l(t,!0),rt=(a,t)=>l(t,!0),nt=(a,t)=>l(t,!0),it=(a,t)=>t(5),lt=m(`<section><p>A modal that overlays the entire page. Uses <!> to allow usage from any
			component without inheriting styles.</p> <aside>⚠️ This will change to use and align APIs with the builtin <!>. API</aside></section> <section><!></section> <section><button class="mb_lg">open a dialog</button> <button class="mb_lg">open a dialog that overflows vertically</button> <button class="mb_lg">open a dialog with <code>layout="page"</code> instead of the default <code>layout='centered'</code></button> <button class="mb_lg">open a dialog containing another dialog</button> <button class="mb_lg">open many dialogs</button></section>`,1),st=m('<div class="pane p_xl box"><h1>attention</h1> <p>this is a dialog</p> <button>ok</button></div>'),_t=m("<p>this is a dialog that overflows vertically</p>"),ct=m('<div class="pane p_xl"><h1>attention</h1> <!> <button>close</button></div>'),dt=m("<option> </option>"),vt=m(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>.</p> <p>Instead of being centered by default, the dialog's contents are aligned to the top of
						the page and grow downward. It's useful when the dialog's contents change in height.</p>`,1),ut=m("<option> </option>"),pt=m(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>, the default value.</p> <p>It's often the best choice, but it can be undesirable in some situations, like when the
						height of the content changes as the user does things, leading to a janky experience.</p>`,1),gt=(a,t)=>t(),ft=(a,t)=>t(),mt=(a,t,r)=>t(f(r)),ht=m("gracefully",1),bt=m("ungracefully",1),kt=m("<p><button>✕</button> new stuff appears <!></p>"),xt=m('<div class="pane p_xl width_md"><!> <p><button>add item</button> <button>remove all</button></p> <!> <button type="button">close</button></div>'),wt=(a,t)=>l(t,!0),yt=m('<div class="pane p_xl"><h1>dialog 1</h1> <p>dialogs can open more dialogs</p> <button>open another dialog</button></div>'),Dt=(a,t)=>l(t,!0),Tt=m('<div class="pane p_xl"><h1>dialog 2</h1> <p>this dialog can open more dialogs</p> <p>this is the second dialog</p> <button>open another dialog</button></div>'),At=(a,t)=>l(t,!1),$t=(a,t,r,v)=>{l(t,Z(l(r,Z(l(v,!1)))))},It=m('<div class="pane p_xl"><h1>3 dialogs!</h1> <button>close dialog</button></div> <div class="pane p_xl"><h1>and another <code>.pane</code></h1> <button>close all dialogs</button></div>',1),Mt=m('<div class="pane"><!></div>'),Pt=m("<!> <!> <!> <!> <!> <!> <!> <!>",1);function Zt(a,t){$e(t,!0);const r={};Pe(r);const v=()=>Le(z,"$dialogs",r),y=Ge("Dialog");let E=j(!1),D=j(!1),G=j(!1),F=j(!1),J=j(!1),U=j(!1),T=j("page"),N=j(Z([]));const oe=c=>{l(N,Z(d(N).filter(n=>n!==c)))},se=()=>{l(N,Z(d(N).concat({})))},K=()=>{l(N,Z([]))},z=je([]),Q=c=>{const n=s=>"!".repeat(c*3-s*3);we(z,Array.from({length:c},(s,h)=>et(tt,{text:n(h),size:"var(--size_xl4)",padding:"var(--space_sm) var(--space_lg)"})))};var re=Pt(),ve=_(re);We(ve,{tome:y,children:(c,n)=>{var s=lt(),h=_(s),x=i(h),u=e(i(x));Je(u,{name:"Teleport"});var p=e(e(x,!0)),w=e(i(p));Ke(w,{href:"Web/HTML/Element/dialog"});var b=e(e(h,!0)),A=i(b);Fe(A,{content:`<button onclick={() => (opened = true)}>
	open a dialog
</button>
{#if opened}
	<Dialog onclose={() => (opened = false)}>
		{#snippet children(close)}
			<div class="pane p_xl box">
				<h1>attention</h1>
				<p>this is a dialog</p>
				<button onclick={close}>ok</button>
			</div>
		{/snippet}
	</Dialog>
{/if}`});var O=e(e(b,!0)),Y=i(O);Y.__click=[at,E];var ee=e(e(Y,!0));ee.__click=[ot,D];var $=e(e(ee,!0));$.__click=[rt,G];var P=e(e($,!0));P.__click=[nt,F];var V=e(e(P,!0));V.__click=[it,Q],o(c,s)}});var ue=e(e(ve,!0));L(ue,()=>d(E),c=>{var n=k(),s=_(n);W(s,{onclose:()=>l(E,!1),children:(x,u=ie)=>{var p=st(),w=i(p),b=e(e(w,!0)),A=e(e(b,!0));A.__click=u(),o(x,p)}}),o(c,n)});var pe=e(e(ue,!0));L(pe,()=>d(D),c=>{var n=k(),s=_(n);W(s,{onclose:()=>l(D,!1),children:(x,u=ie)=>{var p=ct(),w=i(p),b=e(e(w,!0));te(b,65,()=>({length:120}),_e,(O,Y,ee)=>{var $=_t();o(O,$)});var A=e(e(b,!0));A.__click=u(),o(x,p)}}),o(c,n)});var ge=e(e(pe,!0));L(ge,()=>d(G),c=>{var n=k(),s=_(n);W(s,{onclose:()=>(l(G,!1),K()),get layout(){return d(T)},children:(x,u=ie)=>{var p=xt(),w=i(p);L(w,()=>d(T)==="page",$=>{var P=vt(),V=_(P),q=e(i(V)),C=e(e(q,!0)),S=e(i(C));xe(S),te(S,73,()=>De,_e,(I,M,B)=>{var R=dt(),H,be=i(R);X(()=>{H!==(H=f(M))&&(R.value=(R.__value=f(M))==null?"":f(M)),le(be,f(M))}),o(I,R)}),ye(S,()=>d(T),I=>l(T,I)),o($,P)},$=>{var P=k(),V=_(P);L(V,()=>d(T)==="centered",q=>{var C=pt(),S=_(C),I=e(i(S)),M=e(e(I,!0)),B=e(i(M));xe(B),te(B,73,()=>De,_e,(R,H,be)=>{var ne=ut(),ke,Ce=i(ne);X(()=>{ke!==(ke=f(H))&&(ne.value=(ne.__value=f(H))==null?"":f(H)),le(Ce,f(H))}),o(R,ne)}),ye(B,()=>d(T),R=>l(T,R)),o(q,C)},q=>{var C=k(),S=_(C);Ue(S,{status:"error",children:(I,M)=>{var B=Te(I);X(()=>le(B,`eek a bug! unknown layout "${Se(d(T))}"`)),o(I,B)}}),o(q,C)},!0),o($,P)});var b=e(e(w,!0)),A=i(b);A.__click=[gt,se];var O=e(e(A,!0));O.__click=[ft,K];var Y=e(e(b,!0));te(Y,68,()=>d(N),($,P)=>f($),($,P,V)=>{var q=kt();He(3,q,()=>Ne);var C=i(q);C.__click=[mt,oe,P];var S=e(e(C,!0));L(S,()=>d(T)==="page",I=>{var M=ht();o(I,M)},I=>{var M=k(),B=_(M);L(B,()=>d(T)==="centered",R=>{var H=bt();o(R,H)},null,!0),o(I,M)}),o($,q)});var ee=e(e(Y,!0));ee.__click=u(),X(()=>O.disabled=!d(N).length),o(x,p)}}),o(c,n)});var fe=e(e(ge,!0));L(fe,()=>d(F),c=>{var n=k(),s=_(n);W(s,{onclose:()=>l(F,!1),children:(h,x)=>{var u=yt(),p=i(u),w=e(e(p,!0)),b=e(e(w,!0));b.__click=[wt,J],o(h,u)}}),o(c,n)});var me=e(e(fe,!0));L(me,()=>d(J),c=>{var n=k(),s=_(n);W(s,{onclose:()=>l(J,!1),children:(h,x)=>{var u=Tt(),p=i(u),w=e(e(p,!0)),b=e(e(w,!0)),A=e(e(b,!0));A.__click=[Dt,U],o(h,u)}}),o(c,n)});var he=e(e(me,!0));L(he,()=>d(U),c=>{var n=k(),s=_(n);W(s,{onclose:()=>l(U,!1),children:(h,x)=>{var u=It(),p=_(u);ce(p,"margin-bottom","var(--space_xl3)");var w=i(p),b=e(e(w,!0));b.__click=[At,U];var A=e(e(p,!0)),O=i(A),Y=e(e(O,!0));Y.__click=[$t,F,J,U],o(h,u)}}),o(c,n)});var ze=e(e(he,!0));Ze(ze,{dialogs:z,onclose:()=>{we(z,v().slice(0,-1))},children:(n,s=ie)=>{var h=Mt(),x=i(h);Me(x,()=>s().Component,u=>{u(x,de(()=>s().props))}),o(n,h)}}),o(a,re),Ie()}qe(["click"]);export{Zt as component};
