import{b as F,a as n,f as D,J as xe,t as h,s as e,c,d as K,r as i}from"../chunks/disclose-version.D-YpP91c.js";import{i as ye,p as we,a as $e,U as m,g as d,d as Me,t as Q,C as B,n as l,V as ae}from"../chunks/runtime.CLWtUI7-.js";import{s as re}from"../chunks/render.DClLgGuB.js";import{i as C}from"../chunks/if.t2Adprt1.js";import{e as te,i as ie}from"../chunks/each.BqXyQR24.js";import{c as Te}from"../chunks/svelte-component.BT0SPQW-.js";import{e as Pe}from"../chunks/svelte-head.BslmLo-c.js";import{s as le}from"../chunks/style.iv2mhl8q.js";import{t as Le,s as Ce}from"../chunks/index.CCgsirPg.js";import{i as Ee,p as N}from"../chunks/proxy.BywKGEcJ.js";import{l as ze}from"../chunks/shared.BVJZtkjr.js";import{s as se,p as Re}from"../chunks/props.B_4kgomd.js";import{C as qe}from"../chunks/Code.CB3bu1ip.js";import{A as Se}from"../chunks/Alert.DVcQ9_q9.js";import{T as Be}from"../chunks/Tome_Detail.mIKFiUpF.js";import{g as Ne}from"../chunks/tome.BEaQ-Zqd.js";import{D as j}from"../chunks/Dialog.D8Hwr3hm.js";import{T as Oe}from"../chunks/Tome_Link.DnfMSWPX.js";import{M as Ue}from"../chunks/Mdn_Link.C-NXYAiW.js";import{s as Ye}from"../chunks/attributes.laNZifmC.js";import{e as je}from"../chunks/svelte-element.Dgu5v4HA.js";function Ae(o,t,s){if(o.multiple)return He(o,t);for(var g of o.options){var _=oe(g);if(Ee(_,t)){g.selected=!0;return}}(!s||t!==void 0)&&(o.selectedIndex=-1)}function Fe(o,t){ye(()=>{var s=new MutationObserver(()=>{var g=o.__value;Ae(o,g)});return s.observe(o,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{s.disconnect()}})}function be(o,t,s){var g=!0;ze(o,"change",()=>{var _;if(o.multiple)_=[].map.call(o.querySelectorAll(":checked"),oe);else{var p=o.querySelector(":checked");_=p&&oe(p)}s(_)}),ye(()=>{var _=t();if(Ae(o,_,g),g&&_===void 0){var p=o.querySelector(":checked");p!==null&&(_=oe(p),s(_))}o.__value=_,g=!1}),Fe(o)}function He(o,t){for(var s of o.options)s.selected=~t.indexOf(oe(s))}function oe(o){return"__value"in o?o.__value:o.value}function Je(o,t){we(t,!0);var s=F(),g=D(s);te(g,71,()=>t.dialogs,(_,p)=>m(_),(_,p,O)=>{var E=Me(()=>m(O)===t.dialogs.length-1);j(_,se({get onclose(){return t.onclose}},()=>m(p).dialog_props,{get index(){return m(O)},get active(){return d(E)},children:(H,J)=>{var x=F(),z=D(x);C(z,()=>t.children,X=>{var U=F(),V=D(U);Ye(V,()=>t.children,()=>m(p)),n(X,U)},X=>{var U=F(),V=D(U);Te(V,()=>m(p).Component,(W,ne)=>{ne(W,se(()=>m(p).props))}),n(X,U)}),n(H,x)},$$slots:{default:!0}}))}),n(o,s),$e()}const Ve=(o,t,s)=>({Component:o,props:t,dialog_props:s}),ke=["centered","page"];function We(o,t){const s=Re(t,"tag",3,"span");var g=F(),_=D(g);je(_,s,!1,(p,O)=>{Q(()=>{le(p,"font-size",t.size),le(p,"padding",t.padding)});var E=xe();Q(()=>re(E,t.text)),n(O,E)}),n(o,g)}var Ge=(o,t)=>l(t,!0),Ke=(o,t)=>l(t,!0),Qe=(o,t)=>l(t,!0),Xe=(o,t)=>l(t,!0),Ze=(o,t)=>t(5),et=h(`<section><p>A modal that overlays the entire page. Uses <!> to allow usage from any
			component without inheriting styles.</p> <aside>⚠️ This will change to use and align APIs with the builtin <!>. API</aside></section> <section><!></section> <section><button type="button" class="mb_lg">open a dialog</button> <button type="button" class="mb_lg">open a dialog that overflows vertically</button> <button type="button" class="mb_lg">open a dialog with <code>layout="page"</code> instead of the default <code>layout='centered'</code></button> <button type="button" class="mb_lg">open a dialog containing another dialog</button> <button type="button" class="mb_lg">open many dialogs</button></section>`,1),tt=h('<div class="pane p_xl box"><h1>attention</h1> <p>this is a dialog</p> <button type="button">ok</button></div>'),ot=h("<p>this is a dialog that overflows vertically</p>"),at=h('<div class="pane p_xl"><h1>attention</h1> <!> <button type="button">close</button></div>'),rt=h("<option> </option>"),nt=h(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>.</p> <p>Instead of being centered by default, the dialog's contents are aligned to the top of
						the page and grow downward. It's useful when the dialog's contents change in height.</p>`,1),it=h("<option> </option>"),lt=h(`<p>This is a <code>Dialog</code> with <code>layout="<select></select>"</code>, the default value.</p> <p>It's often the best choice, but it can be undesirable in some situations, like when the
						height of the content changes as the user does things, leading to a janky experience.</p>`,1),st=(o,t)=>t(),_t=(o,t)=>t(),ct=(o,t,s)=>t(m(s)),dt=h("gracefully",1),ut=h("ungracefully",1),vt=h('<p><button type="button">✕</button> new stuff appears <!></p>'),pt=h('<div class="pane p_xl width_md"><!> <p><button type="button">add item</button> <button type="button">remove all</button></p> <!> <button type="button">close</button></div>'),gt=(o,t)=>l(t,!0),ft=h('<div class="pane p_xl"><h1>dialog 1</h1> <p>dialogs can open more dialogs</p> <button type="button">open another dialog</button></div>'),mt=(o,t)=>l(t,!0),ht=h('<div class="pane p_xl"><h1>dialog 2</h1> <p>this dialog can open more dialogs</p> <p>this is the second dialog</p> <button type="button">open another dialog</button></div>'),bt=(o,t)=>l(t,!1),kt=(o,t,s,g)=>{l(t,N(l(s,N(l(g,!1)))))},xt=h('<div class="pane p_xl"><h1>3 dialogs!</h1> <button type="button">close dialog</button></div> <div class="pane p_xl"><h1>and another <code>.pane</code></h1> <button type="button">close all dialogs</button></div>',1),yt=h('<div class="pane"><!></div>'),wt=h("<!> <!> <!> <!> <!> <!> <!> <!>",1);function Ht(o,t){we(t,!0);const g=Ne("Dialog");let _=B(!1),p=B(!1),O=B(!1),E=B(!1),H=B(!1),J=B(!1),x=B("page"),z=B(N([]));const X=u=>{l(z,N(d(z).filter(k=>k!==u)))},U=()=>{l(z,N(d(z).concat({})))},V=()=>{l(z,N([]))};let W=B(N([]));const ne=u=>{const k=f=>"!".repeat(u*3-f*3);l(W,N(Array.from({length:u},(f,a)=>Ve(We,{text:k(a),size:"var(--size_xl4)",padding:"var(--space_sm) var(--space_lg)"}))))};var _e=wt(),ce=D(_e);Be(ce,{tome:g,children:(u,k)=>{var f=et(),a=D(f),r=c(a),b=e(c(r));Oe(b,{name:"Teleport"}),K(),i(r);var v=e(e(r,!0)),y=e(c(v));Ue(y,{path:"Web/HTML/Element/dialog"}),K(),i(v),i(a);var M=e(e(a,!0)),Y=c(M);qe(Y,{content:`<button onclick={() => (opened = true)}>
	open a dialog
</button>
{#if opened}
	<Dialog onclose={() => (opened = false)}>
		{#snippet children(close)}
			<div class="pane p_xl box">
				<h1>attention</h1>
				<p>this is a dialog</p>
				<button onclick={close}>ok</button>
			</div>
		{/snippet}
	</Dialog>
{/if}`}),i(M);var Z=e(e(M,!0)),$=c(Z);$.__click=[Ge,_];var P=e(e($,!0));P.__click=[Ke,p];var R=e(e(P,!0));R.__click=[Qe,O],i(R);var w=e(e(R,!0));w.__click=[Xe,E];var T=e(e(w,!0));T.__click=[Ze,ne],i(Z),n(u,f)},$$slots:{default:!0}});var de=e(e(ce,!0));C(de,()=>d(_),u=>{j(u,{onclose:()=>l(_,!1),children:(f,a=ae)=>{var r=tt(),b=c(r),v=e(e(b,!0)),y=e(e(v,!0));y.__click=a(),i(r),n(f,r)}})});var ue=e(e(de,!0));C(ue,()=>d(p),u=>{j(u,{onclose:()=>l(p,!1),children:(f,a=ae)=>{var r=at(),b=c(r),v=e(e(b,!0));te(v,65,()=>({length:120}),ie,(M,Y,Z)=>{var $=ot();n(M,$)});var y=e(e(v,!0));y.__click=a(),i(r),n(f,r)}})});var ve=e(e(ue,!0));C(ve,()=>d(O),u=>{j(u,{onclose:()=>(l(O,!1),V()),get layout(){return d(x)},children:(f,a=ae)=>{var r=pt(),b=c(r);C(b,()=>d(x)==="page",$=>{var P=nt(),R=D(P),w=e(c(R)),T=e(e(w,!0)),q=e(c(T));te(q,73,()=>ke,ie,(A,I,G)=>{var L=rt(),S={},me=c(L);i(L),Q(()=>{S!==(S=m(I))&&(L.value=(L.__value=m(I))==null?"":m(I)),re(me,m(I))}),n(A,L)}),i(q),K(),i(T),K(),i(R),be(q,()=>d(x),A=>l(x,A)),n($,P)},$=>{var P=F(),R=D(P);C(R,()=>d(x)==="centered",w=>{var T=lt(),q=D(T),A=e(c(q)),I=e(e(A,!0)),G=e(c(I));te(G,73,()=>ke,ie,(L,S,me)=>{var ee=it(),he={},De=c(ee);i(ee),Q(()=>{he!==(he=m(S))&&(ee.value=(ee.__value=m(S))==null?"":m(S)),re(De,m(S))}),n(L,ee)}),i(G),K(),i(I),K(),i(q),be(G,()=>d(x),L=>l(x,L)),n(w,T)},w=>{Se(w,{status:"error",children:(T,q)=>{var A=xe();Q(()=>re(A,`eek a bug! unknown layout "${d(x)??""}"`)),n(T,A)},$$slots:{default:!0}})},!0),n($,P)});var v=e(e(b,!0)),y=c(v);y.__click=[st,U];var M=e(e(y,!0));M.__click=[_t,V],i(v);var Y=e(e(v,!0));te(Y,68,()=>d(z),($,P)=>m($),($,P,R)=>{var w=vt();Le(3,w,()=>Ce);var T=c(w);T.__click=[ct,X,P];var q=e(e(T,!0));C(q,()=>d(x)==="page",A=>{var I=dt();n(A,I)},A=>{var I=F(),G=D(I);C(G,()=>d(x)==="centered",L=>{var S=ut();n(L,S)},null,!0),n(A,I)}),i(w),n($,w)});var Z=e(e(Y,!0));Z.__click=a(),i(r),Q(()=>M.disabled=!d(z).length),n(f,r)}})});var pe=e(e(ve,!0));C(pe,()=>d(E),u=>{j(u,{onclose:()=>l(E,!1),children:(k,f)=>{var a=ft(),r=c(a),b=e(e(r,!0)),v=e(e(b,!0));v.__click=[gt,H],i(a),n(k,a)},$$slots:{default:!0}})});var ge=e(e(pe,!0));C(ge,()=>d(H),u=>{j(u,{onclose:()=>l(H,!1),children:(k,f)=>{var a=ht(),r=c(a),b=e(e(r,!0)),v=e(e(b,!0)),y=e(e(v,!0));y.__click=[mt,J],i(a),n(k,a)},$$slots:{default:!0}})});var fe=e(e(ge,!0));C(fe,()=>d(J),u=>{j(u,{onclose:()=>l(J,!1),children:(k,f)=>{var a=xt(),r=D(a);le(r,"margin-bottom","var(--space_xl3)");var b=c(r),v=e(e(b,!0));v.__click=[bt,J],i(r);var y=e(e(r,!0)),M=c(y);i(M);var Y=e(e(M,!0));Y.__click=[kt,E,H,J],i(y),n(k,a)},$$slots:{default:!0}})});var Ie=e(e(fe,!0));Je(Ie,{get dialogs(){return d(W)},onclose:()=>{l(W,N(d(W).slice(0,-1)))},children:(k,f=ae)=>{var a=yt(),r=c(a);Te(r,()=>f().Component,(b,v)=>{v(b,se(()=>f().props))}),i(a),n(k,a)}}),n(o,_e),$e()}Pe(["click"]);export{Ht as component};
