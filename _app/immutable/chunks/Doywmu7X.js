import{a6 as ae,k as re,aC as $,X as R,i as I,Q as ne,j as ie,h as B,aw as te,aa as se,ab as fe,ac as F,W as S,n as g,R as ue,Y as le,ad as P,l as Z,m as ve,aD as L,a0 as b,z as _e,a9 as J,aE as O,aF as K,aG as Y,aH as oe,aI as Q,G as de,aJ as ce,aK as he,$ as Ee,aL as pe,ak as me,aM as xe,U as Te,N as Ae,L as Ce}from"./DpDn43ma.js";let y=null;function Me(r){y=r}function ye(r,e){return e}function Ie(r,e,a,t){for(var u=[],d=e.length,v=0;v<d;v++)he(e[v].e,u,!0);var c=d>0&&u.length===0&&a!==null;if(c){var x=a.parentNode;Ee(x),x.append(a),t.clear(),C(r,e[0].prev,e[d-1].next)}pe(u,()=>{for(var E=0;E<d;E++){var o=e[E];c||(t.delete(o.k),C(r,o.prev,o.next)),me(o.e,!c)}})}function De(r,e,a,t,u,d=null){var v=r,c={flags:e,items:new Map,first:null},x=(e&$)!==0;if(x){var E=r;v=I?R(ne(E)):E.appendChild(ae())}I&&ie();var o=null,N=!1,i=te(()=>{var l=a();return de(l)?l:l==null?[]:b(l)});re(()=>{var l=B(i),s=l.length;if(N&&s===0)return;N=s===0;let _=!1;if(I){var p=se(v)===fe;p!==(s===0)&&(v=F(),R(v),S(!1),_=!0)}if(I){for(var m=null,T,h=0;h<s;h++){if(g.nodeType===ue&&g.data===le){v=g,_=!0,S(!1);break}var n=l[h],f=t(n,h);T=k(g,c,m,null,n,f,h,u,e,a),c.items.set(f,T),m=T}s>0&&R(F())}I||Ne(l,c,v,u,e,t,a),d!==null&&(s===0?o?P(o):o=Z(()=>d(v)):o!==null&&ve(o,()=>{o=null})),_&&S(!0),B(i)}),I&&(v=g)}function Ne(r,e,a,t,u,d,v){var G,U,V,X;var c=(u&ce)!==0,x=(u&(O|Y))!==0,E=r.length,o=e.items,N=e.first,i=N,l,s=null,_,p=[],m=[],T,h,n,f;if(c)for(f=0;f<E;f+=1)T=r[f],h=d(T,f),n=o.get(h),n!==void 0&&((G=n.a)==null||G.measure(),(_??(_=new Set)).add(n));for(f=0;f<E;f+=1){if(T=r[f],h=d(T,f),n=o.get(h),n===void 0){var j=i?i.e.nodes_start:a;s=k(j,e,s,s===null?e.first:s.next,T,h,f,t,u,v),o.set(h,s),p=[],m=[],i=s.next;continue}if(x&&we(n,T,f,u),(n.e.f&L)!==0&&(P(n.e),c&&((U=n.a)==null||U.unfix(),(_??(_=new Set)).delete(n))),n!==i){if(l!==void 0&&l.has(n)){if(p.length<m.length){var M=m[0],A;s=M.prev;var q=p[0],D=p[p.length-1];for(A=0;A<p.length;A+=1)W(p[A],M,a);for(A=0;A<m.length;A+=1)l.delete(m[A]);C(e,q.prev,D.next),C(e,s,q),C(e,D,M),i=M,s=D,f-=1,p=[],m=[]}else l.delete(n),W(n,i,a),C(e,n.prev,n.next),C(e,n,s===null?e.first:s.next),C(e,s,n),s=n;continue}for(p=[],m=[];i!==null&&i.k!==h;)(i.e.f&L)===0&&(l??(l=new Set)).add(i),m.push(i),i=i.next;if(i===null)continue;n=i}p.push(n),s=n,i=n.next}if(i!==null||l!==void 0){for(var w=l===void 0?[]:b(l);i!==null;)(i.e.f&L)===0&&w.push(i),i=i.next;var H=w.length;if(H>0){var ee=(u&$)!==0&&E===0?a:null;if(c){for(f=0;f<H;f+=1)(V=w[f].a)==null||V.measure();for(f=0;f<H;f+=1)(X=w[f].a)==null||X.fix()}Ie(e,w,ee,o)}}c&&_e(()=>{var z;if(_!==void 0)for(n of _)(z=n.a)==null||z.apply()}),J.first=e.first&&e.first.e,J.last=s&&s.e}function we(r,e,a,t){(t&O)!==0&&K(r.v,e),(t&Y)!==0?K(r.i,a):r.i=a}function k(r,e,a,t,u,d,v,c,x,E){var o=y,N=(x&O)!==0,i=(x&xe)===0,l=N?i?oe(u,!1,!1):Q(u):u,s=(x&Y)===0?v:Q(v),_={i:s,v:l,k:d,a:null,e:null,prev:a,next:t};y=_;try{return _.e=Z(()=>c(r,l,s,E),I),_.e.prev=a&&a.e,_.e.next=t&&t.e,a===null?e.first=_:(a.next=_,a.e.next=_.e),t!==null&&(t.prev=_,t.e.prev=_.e),_}finally{y=o}}function W(r,e,a){for(var t=r.next?r.next.e.nodes_start:a,u=e?e.e.nodes_start:a,d=r.e.nodes_start;d!==t;){var v=Te(d);u.before(d),d=v}}function C(r,e,a){e===null?r.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function He(r){const e=Symbol(),a=()=>{const t=Ce(e);return t===void 0?r==null?void 0:r():t};return{get:t=>{const u=a();if(u===void 0)throw Error(t??"context value is not set");return u},maybe_get:a,set:(t=r==null?void 0:r())=>Ae(e,t)}}export{y as a,He as c,De as e,ye as i,Me as s};
