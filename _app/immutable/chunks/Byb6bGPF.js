import{z as ae,c as re,a6 as J,x as D,h as I,y as ne,b as ie,g as X,a7 as te,a8 as se,a9 as Z,A as M,i as y,Z as fe,B as K,d as P,e as ue,aa as L,a0 as W,q as le,n as $,ab as O,ac as b,ad as q,Q as ve,ae as F,af as oe,ag as _e,$ as de,ah as ce,C as he,ai as Ee,v as pe,aj as xe,ak as me,al as Ae}from"./DgHdyJao.js";let S=null;function we(r){S=r}function ye(r,e){return e}function Te(r,e,a,t){for(var u=[],d=e.length,v=0;v<d;v++)_e(e[v].e,u,!0);var c=d>0&&u.length===0&&a!==null;if(c){var m=a.parentNode;de(m),m.append(a),t.clear(),C(r,e[0].prev,e[d-1].next)}ce(u,()=>{for(var E=0;E<d;E++){var _=e[E];c||(t.delete(_.k),C(r,_.prev,_.next)),he(_.e,!c)}})}function Ne(r,e,a,t,u,d=null){var v=r,c={flags:e,items:new Map,first:null},m=(e&J)!==0;if(m){var E=r;v=I?D(ne(E)):E.appendChild(ae())}I&&ie();var _=null,g=!1,i=te(()=>{var l=a();return xe(l)?l:l==null?[]:W(l)});re(()=>{var l=X(i),s=l.length;if(g&&s===0)return;g=s===0;let o=!1;if(I){var p=v.data===se;p!==(s===0)&&(v=Z(),D(v),M(!1),o=!0)}if(I){for(var x=null,A,h=0;h<s;h++){if(y.nodeType===8&&y.data===fe){v=y,o=!0,M(!1);break}var n=l[h],f=t(n,h);A=k(y,c,x,null,n,f,h,u,e,a),c.items.set(f,A),x=A}s>0&&D(Z())}I||Ce(l,c,v,u,e,t,a),d!==null&&(s===0?_?K(_):_=P(()=>d(v)):_!==null&&ue(_,()=>{_=null})),o&&M(!0),X(i)}),I&&(v=y)}function Ce(r,e,a,t,u,d,v){var V,Y,z,Q;var c=(u&oe)!==0,m=(u&(O|q))!==0,E=r.length,_=e.items,g=e.first,i=g,l,s=null,o,p=[],x=[],A,h,n,f;if(c)for(f=0;f<E;f+=1)A=r[f],h=d(A,f),n=_.get(h),n!==void 0&&((V=n.a)==null||V.measure(),(o??(o=new Set)).add(n));for(f=0;f<E;f+=1){if(A=r[f],h=d(A,f),n=_.get(h),n===void 0){var j=i?i.e.nodes_start:a;s=k(j,e,s,s===null?e.first:s.next,A,h,f,t,u,v),_.set(h,s),p=[],x=[],i=s.next;continue}if(m&&Ie(n,A,f,u),(n.e.f&L)!==0&&(K(n.e),c&&((Y=n.a)==null||Y.unfix(),(o??(o=new Set)).delete(n))),n!==i){if(l!==void 0&&l.has(n)){if(p.length<x.length){var N=x[0],T;s=N.prev;var B=p[0],H=p[p.length-1];for(T=0;T<p.length;T+=1)G(p[T],N,a);for(T=0;T<x.length;T+=1)l.delete(x[T]);C(e,B.prev,H.next),C(e,s,B),C(e,H,N),i=N,s=H,f-=1,p=[],x=[]}else l.delete(n),G(n,i,a),C(e,n.prev,n.next),C(e,n,s===null?e.first:s.next),C(e,s,n),s=n;continue}for(p=[],x=[];i!==null&&i.k!==h;)(i.e.f&L)===0&&(l??(l=new Set)).add(i),x.push(i),i=i.next;if(i===null)continue;n=i}p.push(n),s=n,i=n.next}if(i!==null||l!==void 0){for(var w=l===void 0?[]:W(l);i!==null;)(i.e.f&L)===0&&w.push(i),i=i.next;var R=w.length;if(R>0){var ee=(u&J)!==0&&E===0?a:null;if(c){for(f=0;f<R;f+=1)(z=w[f].a)==null||z.measure();for(f=0;f<R;f+=1)(Q=w[f].a)==null||Q.fix()}Te(e,w,ee,_)}}c&&le(()=>{var U;if(o!==void 0)for(n of o)(U=n.a)==null||U.apply()}),$.first=e.first&&e.first.e,$.last=s&&s.e}function Ie(r,e,a,t){(t&O)!==0&&b(r.v,e),(t&q)!==0?b(r.i,a):r.i=a}function k(r,e,a,t,u,d,v,c,m,E){var _=S,g=(m&O)!==0,i=(m&Ee)===0,l=g?i?ve(u):F(u):u,s=(m&q)===0?v:F(v),o={i:s,v:l,k:d,a:null,e:null,prev:a,next:t};S=o;try{return o.e=P(()=>c(r,l,s,E),I),o.e.prev=a&&a.e,o.e.next=t&&t.e,a===null?e.first=o:(a.next=o,a.e.next=o.e),t!==null&&(t.prev=o,t.e.prev=o.e),o}finally{S=_}}function G(r,e,a){for(var t=r.next?r.next.e.nodes_start:a,u=e?e.e.nodes_start:a,d=r.e.nodes_start;d!==t;){var v=pe(d);u.before(d),d=v}}function C(r,e,a){e===null?r.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function Se(r){const e=Symbol(),a=()=>{const t=Ae(e);return t===void 0?r==null?void 0:r():t};return{get:t=>{const u=a();if(u===void 0)throw Error(t??"context value is not set");return u},maybe_get:a,set:(t=r==null?void 0:r())=>me(e,t)}}export{S as a,Se as c,Ne as e,ye as i,we as s};
