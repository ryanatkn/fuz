import"./DsnmJJEf.js";import{o as q}from"./BONdzxCK.js";import{p as x,f as h,h as S,b as n,c as b,d as f,r as v,a as u,s as z,g as B,am as F,t as G,e as I}from"./BElm8bt9.js";import{i as J}from"./CVG-RjJM.js";import{e as K}from"./BJc51caa.js";import{a as k,i as M,C as N}from"./C7GdCpii.js";import{r as T,p as O}from"./VRMaxv_A.js";import{p}from"./CGfAwYD8.js";import{d as y,c as P,r as Q}from"./BLaY22lZ.js";import{s as R}from"./QeaNnfvq.js";import{i as U,H as V}from"./YTN_5ir2.js";const H=P();var W=h("<section><!></section>");function le(m,e){x(e,!0);const c=T(e,["$$slots","$$events","$$legacy","children"]),l=y.get();let t;H.set(s=>{t=s});var a=W();k(a,()=>({...c}));var o=f(a);S(o,()=>e.children),v(a),M(a,()=>U(()=>({intersecting:s})=>{t&&(s?l.slugs_onscreen.add(t):l.slugs_onscreen.delete(t))})),n(m,a),b()}var X=h('<div class="flex_1"><!></div> <!>',1),Y=h("<header><!></header>");function me(m,e){x(e,!0);const c=O(e,"tag",3,"h3"),l=T(e,["$$slots","$$events","$$legacy","text","tag","children"]),t=R(e.text),a=H.get();if(!a)throw Error("Tome_Section_Header must be a child of Tome_Section");a(t);const o=y.get();if(p.url.pathname!==Q(o.root_path)){const d=o.add(t,e.text,p.url.pathname,c());q(()=>o.remove(d))}var s=Y(),C=f(s);K(C,c,!1,(d,w)=>{k(d,()=>({...l,[N]:{tome_section_header:!0}}),void 0,void 0,"svelte-f673x0");var g=X(),_=u(g),A=f(_);{var D=r=>{var i=B(),j=u(i);S(j,()=>e.children),n(r,i)},E=r=>{var i=F();G(()=>I(i,e.text)),n(r,i)};J(A,r=>{e.children?r(D):r(E,!1)})}v(_);var L=z(_,2);V(L,{get slug(){return t}}),n(w,g)}),v(s),n(m,s),b()}export{le as T,me as a};
