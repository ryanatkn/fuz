import{Q as B,av as I,aw as M,u as O,V as q,v as z,O as L,w as U,ao as F,ax as P,ay as W,az as j}from"./runtime.Dl2wjisw.js";import{b as G}from"./render.GRNg1c14.js";import{c as K}from"./each.CK5hEHQf.js";const Q=requestAnimationFrame,V=()=>performance.now(),y={tick:i=>Q(i),now:()=>V(),tasks:new Set};function A(i){y.tasks.forEach(t=>{t.c(i)||(y.tasks.delete(t),t.f())}),y.tasks.size!==0&&y.tick(A)}function D(i){let t;return y.tasks.size===0&&y.tick(A),{promise:new Promise(e=>{y.tasks.add(t={c:i,f:e})}),abort(){y.tasks.delete(t)}}}function T(i,t){i.dispatchEvent(new CustomEvent(t))}function H(i){const t=i.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(e=>e[0].toUpperCase()+e.slice(1)).join("")}function E(i){const t={},e=i.split(";");for(const d of e){const[a,o]=d.split(":");if(!a||o===void 0)break;const f=H(a.trim());t[f]=o.trim()}return t}const J=i=>i;function tt(i,t,e){var d=K,a,o,f,h=null;d.a??(d.a={element:i,measure(){a=this.element.getBoundingClientRect()},apply(){if(f==null||f.abort(),o=this.element.getBoundingClientRect(),a.left!==o.left||a.right!==o.right||a.top!==o.top||a.bottom!==o.bottom){const p=t()(this.element,{from:a,to:o},e==null?void 0:e());f=R(this.element,p,void 0,1,()=>{f==null||f.abort(),f=void 0})}},fix(){if(!i.getAnimations().length){var{position:p,width:u,height:r}=getComputedStyle(i);if(p!=="absolute"&&p!=="fixed"){var n=i.style;h={position:n.position,width:n.width,height:n.height,transform:n.transform},n.position="absolute",n.width=u,n.height=r;var s=i.getBoundingClientRect();if(a.left!==s.left||a.top!==s.top){var _=`translate(${a.left-s.left}px, ${a.top-s.top}px)`;n.transform=n.transform?`${n.transform} ${_}`:_}}}},unfix(){if(h){var p=i.style;p.position=h.position,p.width=h.width,p.height=h.height,p.transform=h.transform}}}),d.a.element=i}function it(i,t,e,d){var a=(i&W)!==0,o=(i&j)!==0,f=a&&o,h=(i&P)!==0,p=f?"both":a?"in":"out",u,r=t.inert,n,s;function _(){return u??(u=e()(t,(d==null?void 0:d())??{},{direction:p}))}var g={is_global:h,in(){var l;if(t.inert=r,!a){s==null||s.abort(),(l=s==null?void 0:s.reset)==null||l.call(s);return}o||n==null||n.abort(),T(t,"introstart"),n=R(t,_(),s,1,()=>{T(t,"introend"),n==null||n.abort(),n=u=void 0})},out(l){if(!o){l==null||l(),u=void 0;return}t.inert=!0,T(t,"outrostart"),s=R(t,_(),n,0,()=>{T(t,"outroend"),l==null||l()})},stop:()=>{n==null||n.abort(),s==null||s.abort()}},v=q;if((v.transitions??(v.transitions=[])).push(g),a&&G){var m=h;if(!m){for(var c=v.parent;c&&c.f&B;)for(;(c=c.parent)&&!(c.f&I););m=!c||(c.f&M)!==0}m&&O(()=>{z(()=>g.in())})}}function R(i,t,e,d,a){var o=d===1;if(L(t)){var f,h=!1;return U(()=>{if(!h){var m=t({direction:o?"in":"out"});f=R(i,m,e,d,a)}}),{abort:()=>{h=!0,f==null||f.abort()},deactivate:()=>f.deactivate(),reset:()=>f.reset(),t:()=>f.t()}}if(e==null||e.deactivate(),!(t!=null&&t.duration))return a(),{abort:F,deactivate:F,reset:F,t:()=>d};const{delay:p=0,css:u,tick:r,easing:n=J}=t;var s=[];if(o&&e===void 0&&(r&&r(0,1),u)){var _=E(u(0,1));s.push(_,_)}var g=()=>1-d,v=i.animate(s,{duration:p});return v.onfinish=()=>{var m=(e==null?void 0:e.t())??1-d;e==null||e.abort();var c=d-m,l=t.duration*Math.abs(c),w=[];if(l>0){if(u)for(var x=Math.ceil(l/16.666666666666668),b=0;b<=x;b+=1){var $=m+c*n(b/x),C=u($,1-$);w.push(E(C))}g=()=>{var k=v.currentTime;return m+c*n(k/l)},r&&D(()=>{if(v.playState!=="running")return!1;var k=g();return r(k,1-k),!0})}v=i.animate(w,{duration:l,fill:"forwards"}),v.onfinish=()=>{g=()=>d,r==null||r(d,1-d),a()}},{abort:()=>{v&&(v.cancel(),v.effect=null)},deactivate:()=>{a=F},reset:()=>{d===0&&(r==null||r(1,0))},t:()=>g()}}function S(i){const t=i-1;return t*t*t+1}function rt(i,{delay:t=0,duration:e=400,easing:d=S,axis:a="y"}={}){const o=getComputedStyle(i),f=+o.opacity,h=a==="y"?"height":"width",p=parseFloat(o[h]),u=a==="y"?["top","bottom"]:["left","right"],r=u.map(c=>`${c[0].toUpperCase()}${c.slice(1)}`),n=parseFloat(o[`padding${r[0]}`]),s=parseFloat(o[`padding${r[1]}`]),_=parseFloat(o[`margin${r[0]}`]),g=parseFloat(o[`margin${r[1]}`]),v=parseFloat(o[`border${r[0]}Width`]),m=parseFloat(o[`border${r[1]}Width`]);return{delay:t,duration:e,easing:d,css:c=>`overflow: hidden;opacity: ${Math.min(c*20,1)*f};${h}: ${c*p}px;padding-${u[0]}: ${c*n}px;padding-${u[1]}: ${c*s}px;margin-${u[0]}: ${c*_}px;margin-${u[1]}: ${c*g}px;border-${u[0]}-width: ${c*v}px;border-${u[1]}-width: ${c*m}px;`}}function N(i,t){for(const e in t)i[e]=t[e];return i}function et({fallback:i,...t}){const e=new Map,d=new Map;function a(f,h,p){const{delay:u=0,duration:r=$=>Math.sqrt($)*30,easing:n=S}=N(N({},t),p),s=f.getBoundingClientRect(),_=h.getBoundingClientRect(),g=s.left-_.left,v=s.top-_.top,m=s.width/_.width,c=s.height/_.height,l=Math.sqrt(g*g+v*v),w=getComputedStyle(h),x=w.transform==="none"?"":w.transform,b=+w.opacity;return{delay:u,duration:typeof r=="function"?r(l):r,easing:n,css:($,C)=>`
			   opacity: ${$*b};
			   transform-origin: top left;
			   transform: ${x} translate(${C*g}px,${C*v}px) scale(${$+(1-$)*m}, ${$+(1-$)*c});
		   `}}function o(f,h,p){return(u,r)=>(f.set(r.key,u),()=>{if(h.has(r.key)){const n=h.get(r.key);return h.delete(r.key),a(n,u,r)}return f.delete(r.key),i&&i(u,r,p)})}return[o(d,e,!1),o(e,d,!0)]}export{tt as a,et as c,rt as s,it as t};
