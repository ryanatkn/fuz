import{aC as u,i as t,ar as s,u as i}from"./DJKxREaw.js";import{c as x}from"./06gcNc42.js";import{_ as w,l as _,s as r,b as c,o as $,a,n as v}from"./aTtLe6k_.js";import{u as j,c as C,d as I,e as M,f as P,r as G,g as L,h as A,p as E,i as J,j as O}from"./CVI9kPMu.js";const H=w(["type","function","variable","class","constructor","component","json","css"]),K=_({name:r(),constraint:r().optional(),default_type:r().optional()}),N=_({name:r(),type:r(),optional:c(),description:r().optional(),default_value:r().optional()}),U=_({name:r(),type:r(),optional:c(),description:r().optional(),default_value:r().optional(),bindable:c().optional()}),f=_({name:r(),kind:H,doc_comment:r().optional(),type_signature:r().optional(),modifiers:a(r()).optional(),source_line:v().optional(),parameters:a(N).optional(),return_type:r().optional(),return_description:r().optional(),generic_params:a(K).optional(),examples:a(r()).optional(),deprecated_message:r().optional(),see_also:a(r()).optional(),throws:a(_({type:r().optional(),description:r()})).optional(),since:r().optional(),extends:a(r()).optional(),implements:a(r()).optional(),get members(){return a(f).optional()},get properties(){return a(f).optional()},props:a(U).optional(),also_exported_from:a(r()).optional(),alias_of:$({module:r(),name:r()}).optional()}),W=_({path:r(),identifiers:a(f).optional(),module_comment:r().optional(),dependencies:a(r()).optional(),dependents:a(r()).optional()});_({name:r(),version:r(),modules:a(W).optional()});const q=h=>{if(!h.generic_params?.length)return h.name;const e=h.generic_params.map(n=>{let p=n.name;return n.constraint&&(p+=` extends ${n.constraint}`),n.default_type&&(p+=` = ${n.default_type}`),p});return`${h.name}<${e.join(", ")}>`},z=(h,e,n)=>{const p=e.replace(/\.ts$/,".js"),o=`${n}/${p}`;return h.name==="default"?`import ${e.replace(/\.(js|ts|svelte)$/,"").split(/[-_]/).map(d=>d.charAt(0).toUpperCase()+d.slice(1)).join("")} from '${o}';`:`${h.kind==="type"?"import type":"import"} {${h.name}} from '${o}';`};class B{#e=u();get module(){return t(this.#e)}set module(e){s(this.#e,e)}#t=u();get identifier_json(){return t(this.#t)}set identifier_json(e){s(this.#t,e)}#s=i(()=>this.module.pkg);get pkg(){return t(this.#s)}set pkg(e){s(this.#s,e)}#i=i(()=>this.module.path);get module_path(){return t(this.#i)}set module_path(e){s(this.#i,e)}#r=i(()=>this.identifier_json.name);get name(){return t(this.#r)}set name(e){s(this.#r,e)}#n=i(()=>this.identifier_json.kind);get kind(){return t(this.#n)}set kind(e){s(this.#n,e)}#o=i(()=>this.pkg.repo_url&&this.identifier_json.source_line?j(this.pkg.repo_url,`src/lib/${this.module_path}`,this.identifier_json.source_line):void 0);get url_github(){return t(this.#o)}set url_github(e){s(this.#o,e)}#a=i(()=>C(this.name));get url_api(){return t(this.#a)}set url_api(e){s(this.#a,e)}#h=i(()=>z(this.identifier_json,this.module_path,this.pkg.package_json.name));get import_statement(){return t(this.#h)}set import_statement(e){s(this.#h,e)}#p=i(()=>this.pkg.homepage_url?I(this.pkg.homepage_url,this.name):void 0);get url_api_full(){return t(this.#p)}set url_api_full(e){s(this.#p,e)}#_=i(()=>q(this.identifier_json));get display_name(){return t(this.#_)}set display_name(e){s(this.#_,e)}#l=i(()=>this.identifier_json.type_signature);get type_signature(){return t(this.#l)}set type_signature(e){s(this.#l,e)}#u=i(()=>this.identifier_json.doc_comment);get doc_comment(){return t(this.#u)}set doc_comment(e){s(this.#u,e)}#m=i(()=>this.identifier_json.deprecated_message);get deprecated_message(){return t(this.#m)}set deprecated_message(e){s(this.#m,e)}#d=i(()=>this.identifier_json.parameters);get parameters(){return t(this.#d)}set parameters(e){s(this.#d,e)}#g=i(()=>this.identifier_json.props);get props(){return t(this.#g)}set props(e){s(this.#g,e)}#c=i(()=>this.identifier_json.return_type);get return_type(){return t(this.#c)}set return_type(e){s(this.#c,e)}#f=i(()=>this.identifier_json.return_description);get return_description(){return t(this.#f)}set return_description(e){s(this.#f,e)}#j=i(()=>this.identifier_json.generic_params);get generic_params(){return t(this.#j)}set generic_params(e){s(this.#j,e)}#k=i(()=>this.identifier_json.extends);get extends(){return t(this.#k)}set extends(e){s(this.#k,e)}#b=i(()=>this.identifier_json.implements);get implements(){return t(this.#b)}set implements(e){s(this.#b,e)}#y=i(()=>this.identifier_json.throws);get throws(){return t(this.#y)}set throws(e){s(this.#y,e)}#x=i(()=>this.identifier_json.since);get since(){return t(this.#x)}set since(e){s(this.#x,e)}#w=i(()=>this.identifier_json.examples);get examples(){return t(this.#w)}set examples(e){s(this.#w,e)}#$=i(()=>this.identifier_json.see_also);get see_also(){return t(this.#$)}set see_also(e){s(this.#$,e)}#v=i(()=>this.identifier_json.members);get members(){return t(this.#v)}set members(e){s(this.#v,e)}#C=i(()=>this.identifier_json.properties);get properties(){return t(this.#C)}set properties(e){s(this.#C,e)}#I=i(()=>!!(this.examples&&this.examples.length>0));get has_examples(){return t(this.#I)}set has_examples(e){s(this.#I,e)}#M=i(()=>!!this.deprecated_message);get is_deprecated(){return t(this.#M)}set is_deprecated(e){s(this.#M,e)}#P=i(()=>!!this.doc_comment);get has_documentation(){return t(this.#P)}set has_documentation(e){s(this.#P,e)}#G=i(()=>!!(this.parameters&&this.parameters.length>0));get has_parameters(){return t(this.#G)}set has_parameters(e){s(this.#G,e)}#L=i(()=>!!(this.props&&this.props.length>0));get has_props(){return t(this.#L)}set has_props(e){s(this.#L,e)}#A=i(()=>!!(this.generic_params&&this.generic_params.length>0));get has_generics(){return t(this.#A)}set has_generics(e){s(this.#A,e)}constructor(e,n){this.module=e,this.identifier_json=n}}class D{#e=u();get pkg(){return t(this.#e)}set pkg(e){s(this.#e,e)}#t=u();get module_json(){return t(this.#t)}set module_json(e){s(this.#t,e)}#s=i(()=>this.module_json.path);get path(){return t(this.#s)}set path(e){s(this.#s,e)}#i=i(()=>"./"+this.path);get path_import(){return t(this.#i)}set path_import(e){s(this.#i,e)}#r=i(()=>this.module_json.module_comment);get module_comment(){return t(this.#r)}set module_comment(e){s(this.#r,e)}#n=i(()=>this.module_json.identifiers?this.module_json.identifiers.filter(e=>e.name!=="default").map(e=>new B(this,e)):[]);get identifiers(){return t(this.#n)}set identifiers(e){s(this.#n,e)}#o=i(()=>M(this.path));get url_api(){return t(this.#o)}set url_api(e){s(this.#o,e)}#a=i(()=>this.pkg.repo_url?j(this.pkg.repo_url,`src/lib/${this.path}`):void 0);get url_github(){return t(this.#a)}set url_github(e){s(this.#a,e)}#h=i(()=>!!(this.module_json.identifiers&&this.module_json.identifiers.length>0));get has_identifiers(){return t(this.#h)}set has_identifiers(e){s(this.#h,e)}#p=i(()=>!!this.module_json.module_comment);get has_module_comment(){return t(this.#p)}set has_module_comment(e){s(this.#p,e)}#_=i(()=>this.module_json.dependencies);get dependencies(){return t(this.#_)}set dependencies(e){s(this.#_,e)}#l=i(()=>this.module_json.dependents);get dependents(){return t(this.#l)}set dependents(e){s(this.#l,e)}constructor(e,n){this.pkg=e,this.module_json=n}get_identifier_by_name(e){return this.identifiers.find(n=>n.name===e)}}class V{#e=u();get package_json(){return t(this.#e)}set package_json(e){s(this.#e,e)}#t=u();get src_json(){return t(this.#t)}set src_json(e){s(this.#t,e)}#s=i(()=>this.package_json.name);get name(){return t(this.#s)}set name(e){s(this.#s,e)}#i=i(()=>P(this.package_json.name));get repo_name(){return t(this.#i)}set repo_name(e){s(this.#i,e)}#r=i(()=>(()=>{const e=G(this.package_json.repository);if(!e)throw Error("failed to parse pkg - `repo_url` is required in package_json");return e})());get repo_url(){return t(this.#r)}set repo_url(e){s(this.#r,e)}#n=i(()=>this.repo_url?L(this.repo_url):null);get owner_name(){return t(this.#n)}set owner_name(e){s(this.#n,e)}#o=i(()=>this.package_json.homepage??null);get homepage_url(){return t(this.#o)}set homepage_url(e){s(this.#o,e)}#a=i(()=>A(this.homepage_url,this.package_json.logo));get logo_url(){return t(this.#a)}set logo_url(e){s(this.#a,e)}#h=i(()=>this.package_json.logo_alt??`logo for ${this.repo_name}`);get logo_alt(){return t(this.#h)}set logo_alt(e){s(this.#h,e)}#p=i(()=>E(this.package_json));get published(){return t(this.#p)}set published(e){s(this.#p,e)}#_=i(()=>this.published?J(this.package_json.name):null);get npm_url(){return t(this.#_)}set npm_url(e){s(this.#_,e)}#l=i(()=>this.published&&this.repo_url?j(this.repo_url,"CHANGELOG.md"):null);get changelog_url(){return t(this.#l)}set changelog_url(e){s(this.#l,e)}#u=i(()=>O(this.repo_url,this.repo_name));get org_url(){return t(this.#u)}set org_url(e){s(this.#u,e)}#m=i(()=>this.src_json.modules?this.src_json.modules.map(e=>new D(this,e)):[]);get modules(){return t(this.#m)}set modules(e){s(this.#m,e)}#d=i(()=>[...this.modules].sort((e,n)=>e.path.localeCompare(n.path)));get modules_sorted(){return t(this.#d)}set modules_sorted(e){s(this.#d,e)}#g=i(()=>this.modules.flatMap(e=>e.identifiers));get identifiers(){return t(this.#g)}set identifiers(e){s(this.#g,e)}#c=i(()=>new Map(this.identifiers.map(e=>[e.name,e])));get identifier_map(){return t(this.#c)}set identifier_map(e){s(this.#c,e)}constructor(e,n){this.package_json=e,this.src_json=n}lookup_identifier(e){return this.identifier_map.get(e)}has_identifier(e){return this.identifier_map.has(e)}lookup_module(e){return this.modules.find(n=>n.path===e)}search_identifiers(e){return F(this.identifiers,e)}}const X=x(),F=(h,e)=>{if(!e.trim())return[];const n=e.trim().toLowerCase().split(/\s+/);return h.map(o=>{let l=0;for(const m of n){const k=g(o.name,m),d=g(o.kind,m),y=g(o.module_path,m),b=Math.max(k,d,y);if(b===0)return null;l+=b}return{identifier:o,score:l}}).filter(o=>o!==null).sort((o,l)=>l.score-o.score||o.identifier.name.localeCompare(l.identifier.name)).map(o=>o.identifier)},g=(h,e)=>{const n=h.toLowerCase();if(n===e)return 100;if(n.startsWith(e))return 80;if(n.includes(e))return 60;let p=0;for(const o of n)if(o===e[p]&&(p++,p===e.length))return 40;return 0};export{V as P,X as p};
