import{B as j,e as ee,ab as Q,h as g,x as M,b as ae,ac as re,a6 as W,ad as ne,ae as F,C as m,j as N,A as Z,i as $,k as ie,af as L,q as te,D as G,ag as O,ah as J,ai as Y,aj as se,Y as fe,ak as K,al as ue,a5 as le,am as ve,z as oe,y as _e,a3 as de,an as ce,v as he,ao as Ee,ap as pe}from"./runtime.OOkXorm-.js";let D=null;function Ie(n){D=n}function ge(n,e){return e}function xe(n,e,a,t){for(var v=[],o=e.length,u=0;u<o;u++)ue(e[u].e,v,!0);var p=o>0&&v.length===0&&a!==null;if(p){var E=a.parentNode;le(E),E.append(a),t.clear(),I(n,e[0].prev,e[o-1].next)}ve(v,()=>{for(var h=0;h<o;h++){var d=e[h];p||(t.delete(d.k),I(n,d.prev,d.next)),oe(d.e,!p)}})}function we(n,e,a,t,v,o=null){var u=n,p={flags:e,items:new Map,first:null},E=(e&Q)!==0;if(E){var h=n;u=g?M(_e(h)):h.appendChild(j())}g&&ae();var d=null,i=!1;ee(()=>{var _=a(),f=re(_)?_:_==null?[]:W(_),l=f.length;if(i&&l===0)return;i=l===0;let c=!1;if(g){var A=u.data===ne;A!==(l===0)&&(u=F(),M(u),m(!1),c=!0)}if(g){for(var T=null,x,r=0;r<l;r++){if(N.nodeType===8&&N.data===de){u=N,c=!0,m(!1);break}var s=f[r],S=t(s,r);x=b(N,p,T,null,s,S,r,v,e),p.items.set(S,x),T=x}l>0&&M(F())}g||Ae(f,p,u,v,e,t),o!==null&&(l===0?d?Z(d):d=$(()=>o(u)):d!==null&&ie(d,()=>{d=null})),c&&m(!0),a()}),g&&(u=N)}function Ae(n,e,a,t,v,o){var B,V,z,U;var u=(v&ce)!==0,p=(v&(O|Y))!==0,E=n.length,h=e.items,d=e.first,i=d,_,f=null,l,c=[],A=[],T,x,r,s;if(u)for(s=0;s<E;s+=1)T=n[s],x=o(T,s),r=h.get(x),r!==void 0&&((B=r.a)==null||B.measure(),(l??(l=new Set)).add(r));for(s=0;s<E;s+=1){if(T=n[s],x=o(T,s),r=h.get(x),r===void 0){var S=i?i.e.nodes_start:a;f=b(S,e,f,f===null?e.first:f.next,T,x,s,t,v),h.set(x,f),c=[],A=[],i=f.next;continue}if(p&&Te(r,T,s,v),r.e.f&L&&(Z(r.e),u&&((V=r.a)==null||V.unfix(),(l??(l=new Set)).delete(r))),r!==i){if(_!==void 0&&_.has(r)){if(c.length<A.length){var y=A[0],C;f=y.prev;var q=c[0],H=c[c.length-1];for(C=0;C<c.length;C+=1)P(c[C],y,a);for(C=0;C<A.length;C+=1)_.delete(A[C]);I(e,q.prev,H.next),I(e,f,q),I(e,H,y),i=y,f=H,s-=1,c=[],A=[]}else _.delete(r),P(r,i,a),I(e,r.prev,r.next),I(e,r,f===null?e.first:f.next),I(e,f,r),f=r;continue}for(c=[],A=[];i!==null&&i.k!==x;)i.e.f&L||(_??(_=new Set)).add(i),A.push(i),i=i.next;if(i===null)continue;r=i}c.push(r),f=r,i=r.next}if(i!==null||_!==void 0){for(var w=_===void 0?[]:W(_);i!==null;)i.e.f&L||w.push(i),i=i.next;var R=w.length;if(R>0){var k=v&Q&&E===0?a:null;if(u){for(s=0;s<R;s+=1)(z=w[s].a)==null||z.measure();for(s=0;s<R;s+=1)(U=w[s].a)==null||U.fix()}xe(e,w,k,h)}}u&&te(()=>{var X;if(l!==void 0)for(r of l)(X=r.a)==null||X.apply()}),G.first=e.first&&e.first.e,G.last=f&&f.e}function Te(n,e,a,t){t&O&&J(n.v,e),t&Y?J(n.i,a):n.i=a}function b(n,e,a,t,v,o,u,p,E){var h=D;try{var d=(E&O)!==0,i=(E&se)===0,_=d?i?fe(v):K(v):v,f=E&Y?K(u):u,l={i:f,v:_,k:o,a:null,e:null,prev:a,next:t};return D=l,l.e=$(()=>p(n,_,f),g),l.e.prev=a&&a.e,l.e.next=t&&t.e,a===null?e.first=l:(a.next=l,a.e.next=l.e),t!==null&&(t.prev=l,t.e.prev=l.e),l}finally{D=h}}function P(n,e,a){for(var t=n.next?n.next.e.nodes_start:a,v=e?e.e.nodes_start:a,o=n.e.nodes_start;o!==t;){var u=he(o);v.before(o),o=u}}function I(n,e,a){e===null?n.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function Ne(n){const e=Symbol(),a=()=>{const t=pe(e);return t===void 0?n==null?void 0:n():t};return{get:t=>{const v=a();if(v===void 0)throw Error(t??"context value is not set");return v},maybe_get:a,set:(t=n==null?void 0:n())=>Ee(e,t)}}export{D as a,Ne as c,we as e,ge as i,Ie as s};
