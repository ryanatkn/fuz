import{a as n,t as u,g as I,c as M}from"./disclose-version.ZoaYz1AU.js";import{p as k,t as v,a as y,c as h,r as p,N as P,f as S,s as R}from"./runtime.DaB_8cOj.js";import{s as U}from"./render.DpEwyGnv.js";import{i as V}from"./if.BRCK-0uq.js";import{s as T,b as H}from"./attributes.BPvofiUC.js";import{e as j}from"./svelte-element.BVmCkY3n.js";import{t as q}from"./class.CbbrPzi3.js";import{p as z}from"./props.tfL6ot4I.js";import{s as B,a as F,p as J}from"./stores.itZW0ya0.js";import{o as K}from"./index-client.08JWXHmx.js";import{b as L}from"./entry.0DUdkrB3.js";import{s as O}from"./path.QeaNnfvq.js";import{a as Q,i as W,H as X}from"./intersect.BjZoTFN6.js";import{c as Y}from"./context_helpers.B8hPR0aD.js";import{l as E}from"./library_helpers.svelte.Bs5Wgvi-.js";const N=Y();var Z=u("<section><!></section>");function pt(d,t){k(t,!0);const c=E.get();let r;N.set(a=>{r=a});var e=Z();let s;var m=h(e);T(m,()=>t.children),p(e),v(()=>s=H(e,s,{...t.attrs})),Q(e,(a,o)=>W(a,o),()=>({intersecting:a})=>{r&&(a?c.slugs_onscreen.add(r):c.slugs_onscreen.delete(r))}),n(d,e),y()}let $=0;var tt=u("<div><!></div> <!>",1),et=u("<header><!></header>");function ut(d,t){k(t,!0);const c=B(),r=()=>F(J,"$page",c),e=z(t,"tag",3,"h3"),s=O(t.text),m=N.get();if(!m)throw Error("Tome_Section_Header must be a child of Tome_Section");m(s);const a="tome_section_header_"+(($+=1)-1),o=E.get();r().url.pathname!==L+o.root_path&&(o.add(a,t.text,s,e()),K(()=>{o.remove(a)}));var l=et(),A=h(l);j(A,e,!1,(_,w)=>{let b;v(()=>{b=H(_,b,{...t.attrs},"svelte-3vtdd8",_.namespaceURI!==P,_.nodeName.includes("-")),q(_,"tome_section_header",!0)});var x=tt(),f=S(x),C=h(f);V(C,()=>t.children,g=>{var i=M(),G=S(i);T(G,()=>t.children),n(g,i)},g=>{var i=I();v(()=>U(i,t.text)),n(g,i)}),p(f);var D=R(f,2);X(D,{slug:s}),n(w,x)}),p(l),n(d,l),y()}export{pt as T,ut as a};
