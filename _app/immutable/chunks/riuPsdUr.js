import"./DsnmJJEf.js";import{o as q}from"./BMgspcsU.js";import{p as S,f as h,g as b,b as n,c as k,d as v,r as g,a as p,s as z,e as B,ac as F,t as G}from"./B7qs8f6Z.js";import{s as I}from"./D2Z-uHvG.js";import{i as J}from"./DHMuHmk0.js";import{e as K}from"./36zOYlHh.js";import{a as T,C as M}from"./C61V10DD.js";import{r as y,p as N}from"./C2A3Zqzr.js";import{p as x}from"./BLbOKa6P.js";import{r as O}from"./BuIMwbQc.js";import{s as P}from"./QeaNnfvq.js";import{a as Q,i as R,H as U}from"./B2EI8ygw.js";import{c as V}from"./GCAAGpmM.js";import{d as H}from"./Br3SLw7P.js";const C=V();var W=h("<section><!></section>");function fe(d,e){S(e,!0);const c=y(e,["$$slots","$$events","$$legacy","children"]),m=H.get();let r;C.set(t=>{r=t});var o=W();T(o,()=>({...c}));var s=v(o);b(s,()=>e.children),g(o),Q(o,(t,l)=>R?.(t,l),()=>({intersecting:t})=>{r&&(t?m.slugs_onscreen.add(r):m.slugs_onscreen.delete(r))}),n(d,o),k()}var X=h("<div><!></div> <!>",1),Y=h("<header><!></header>");function _e(d,e){S(e,!0);const c=N(e,"tag",3,"h3"),m=y(e,["$$slots","$$events","$$legacy","text","tag","children"]),r=P(e.text),o=C.get();if(!o)throw Error("Tome_Section_Header must be a child of Tome_Section");o(r);const s=H.get();if(x.url.pathname!==O(s.root_path)){const f=s.add(r,e.text,x.url.pathname,c());q(()=>s.remove(f))}var t=Y(),l=v(t);K(l,c,!1,(f,w)=>{T(f,()=>({...m,[M]:{tome_section_header:!0}}),void 0,void 0,"svelte-f673x0");var u=X(),_=p(u),A=v(_);{var D=a=>{var i=B(),j=p(i);b(j,()=>e.children),n(a,i)},E=a=>{var i=F();G(()=>I(i,e.text)),n(a,i)};J(A,a=>{e.children?a(D):a(E,!1)})}g(_);var L=z(_,2);U(L,{get slug(){return r}}),n(w,u)}),g(t),n(d,t),k()}export{fe as T,_e as a};
