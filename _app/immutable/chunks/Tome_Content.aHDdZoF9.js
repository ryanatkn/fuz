import{a as o,t as p,g as J,c as K}from"./disclose-version.7b59C0PR.js";import{p as D,a as j,c as f,g as m,r as h,d as k,f as q,t as w,s as z,an as L,am as M}from"./runtime.TFn0e1ji.js";import{i as A}from"./if.BCWWcCm1.js";import{d as N,c as O,s as C}from"./attributes.BZkAnuRC.js";import{g as B,H as P,t as Q,a as R,i as S}from"./intersect.DlPIx6_6.js";import{s as E}from"./path.QeaNnfvq.js";import{s as U}from"./render.CfaAti5L.js";import{e as V}from"./svelte-element.C2CX1j9W.js";import{s as W,a as X,p as Y}from"./stores.Y_b8Awim.js";import{o as Z}from"./index-client.D2e0pCKO.js";import{b as $,s as ee}from"./tome.D0gm-ZJ6.js";let ae=0;var te=p("<a><!></a>"),se=p("<!> <!>",1),re=p("<header><!></header>");function oe(v,a){D(a,!0);const i=W(),_=()=>X(Y,"$page",i),s=(b,x=M)=>{L();var n=J();w(()=>U(n,x())),o(b,n)},t=$(),d="tome_header_"+((ae+=1)-1),l=B(),e=E(t.name);l.add(d,t.name,e),Z(()=>{l.remove(d)});const r=k(()=>Q(e,_().url.pathname)),g=k(()=>m(r).path),H=k(()=>m(r).path_is_selected);var u=re(),F=f(u);V(F,()=>m(H)?"h1":"h2",!1,(b,x)=>{N(b,null,{class:"tome_header"},"svelte-d05s6w");var n=se(),T=q(n);A(T,()=>m(H),y=>{s(y,()=>t.name)},y=>{var c=te(),I=f(c);s(I,()=>t.name),h(c),w(()=>O(c,"href",m(g))),o(y,c)});var G=z(T,2);P(G,{slug:e}),o(x,n)}),h(u),o(v,u),j()}var ne=p('<section class="tome_content width_md mb_xl9"><header class="mb_xl3"><!></header> <!></section>');function ue(v,a){D(a,!0);const i=B();ee(a.tome);const _=E(a.tome.name);var s=ne(),t=f(s),d=f(t);A(d,()=>a.header,e=>{var r=K(),g=q(r);C(g,()=>a.header),o(e,r)},e=>{oe(e,{})}),h(t);var l=z(t,2);C(l,()=>a.children),h(s),R(s,(e,r)=>S(e,r),()=>({intersecting:e})=>{e?i.slugs_onscreen.add(_):i.slugs_onscreen.delete(_)}),o(v,s),j()}export{ue as T};
