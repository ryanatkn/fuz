import{au as a,aI as v,aJ as p,h as i,at as n,aK as u}from"./hvi78P_d.js";import{r as k}from"./DArZFjxY.js";import{c as x,f as y,g}from"./gGLiu_OD.js";var z=["forEach","isDisjointFrom","isSubsetOf","isSupersetOf"],D=["difference","intersection","symmetricDifference","union"],_=!1;class c extends Set{#e=new Map;#s=a(0);#t=a(0);#r=p||-1;constructor(s){if(super(),s){for(var e of s)super.add(e);this.#t.v=super.size}_||this.#n()}#i(s){return p===this.#r?a(s):v(s)}#n(){_=!0;var s=c.prototype,e=Set.prototype;for(const t of z)s[t]=function(...r){return i(this.#s),e[t].apply(this,r)};for(const t of D)s[t]=function(...r){i(this.#s);var o=e[t].apply(this,r);return new c(o)}}has(s){var e=super.has(s),t=this.#e,r=t.get(s);if(r===void 0){if(!e)return i(this.#s),!1;r=this.#i(!0),t.set(s,r)}return i(r),e}add(s){return super.has(s)||(super.add(s),n(this.#t,super.size),u(this.#s)),this}delete(s){var e=super.delete(s),t=this.#e,r=t.get(s);return r!==void 0&&(t.delete(s),n(r,!1)),e&&(n(this.#t,super.size),u(this.#s)),e}clear(){if(super.size!==0){super.clear();var s=this.#e;for(var e of s.values())n(e,!1);s.clear(),n(this.#t,0),u(this.#s)}}keys(){return this.values()}values(){return i(this.#s),super.values()}entries(){return i(this.#s),super.entries()}[Symbol.iterator](){return this.keys()}get size(){return i(this.#t)}}const l="/docs",S=(h,s,e=l)=>{const t=s.split("/").at(-1);return{path:k(y(g(e,"/"),"/")+h),path_is_selected:t===h,path_segment:t}},b=x(()=>new w);class w{root_path;#e=a([]);get docs_links(){return i(this.#e)}set docs_links(s){n(this.#e,s)}slugs_onscreen=new c;constructor(s=l){this.root_path=s}add(s,e,t,r){const o=this.docs_links.findIndex(d=>d.id===s),f={id:s,text:e,slug:t,tag:r};o===-1?this.docs_links=[...this.docs_links,f]:this.docs_links=this.docs_links.map((d,m)=>m===o?f:d)}remove(s){const e=this.docs_links.findIndex(t=>t.id===s);return e===-1?!1:(this.docs_links=this.docs_links.filter((t,r)=>r!==e),!0)}}export{l as D,b as d,S as t};
