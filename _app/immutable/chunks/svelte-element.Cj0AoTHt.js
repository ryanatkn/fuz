import{r as k,b as E,J as C,c as j,e as w,z as x,K as N,n as z,w as I}from"./runtime.BITJpo-a.js";import{h as d,g as J,i as K,j as O}from"./disclose-version.COjBdUkA.js";import{a as h}from"./render.Z7Ne6upu.js";import{s as g,c as b}from"./each.Bo18fhyf.js";function R(r,l,f){const a=r.dom;if(z(a)){for(let s=0;s<a.length;s++)if(a[s]===l){a[s]=f;break}}else a===l&&(r.dom=f)}function B(r,l,f,a){const s=I;k(()=>{let i,o,e=null,n,v=b;return E(()=>{var _,u;const t=l()||null;if(t===i)return;var y=b;g(v);const m=f||t==="svg"?C:f===!1||((_=r.parentElement)==null?void 0:_.tagName)==="foreignObject"?null:((u=r.parentElement)==null?void 0:u.namespaceURI)??null;n&&(t===null?w(n,()=>{n=null,o=null,e==null||e.remove()}):t===o?x(n):(N(n),h(!1))),t&&t!==o&&(n=j(()=>{const c=e;if(e=d?J[0]:m?document.createElementNS(m,t):document.createElement(t),a){var p=d?e.firstChild&&K(e.firstChild):e.appendChild(O());p&&a(e,p)}r.before(e),c&&(R(s,c,e),c.remove())})),i=t,i&&(o=i),h(!0),g(y)}),()=>{e==null||e.remove()}})}export{B as e};
