import{z as ee,e as ae,a7 as Q,h as C,v as L,b as re,a8 as ne,a1 as W,a9 as ie,aa as F,A as O,j as N,ab as y,y as Z,i as $,k as te,q as se,B as G,ac as q,ad as J,ae as B,af as fe,a0 as ue,ag as le,x as ve,w as oe,_ as _e,ah as de,ai as ce,T as he,aj as K,ak as Ee,n as pe,al as me,am as xe}from"./runtime.B8zI9S7i.js";let H=null;function ge(n){H=n}function we(n,e){return e}function Ae(n,e,a,s){for(var u=[],o=e.length,l=0;l<o;l++)fe(e[l].e,u,!0);var d=o>0&&u.length===0&&a!==null;if(d){var m=a.parentNode;ue(m),m.append(a),s.clear(),I(n,e[0].prev,e[o-1].next)}le(u,()=>{for(var h=0;h<o;h++){var v=e[h];d||(s.delete(v.k),I(n,v.prev,v.next)),ve(v.e,!d)}})}function Ne(n,e,a,s,u,o=null){var l=n,d={flags:e,items:new Map,first:null},m=(e&Q)!==0;if(m){var h=n;l=C?L(oe(h)):h.appendChild(ee())}C&&re();var v=null,g=!1;ae(()=>{var i=a(),_=ne(i)?i:i==null?[]:W(i),r=_.length;if(g&&r===0)return;g=r===0;let A=!1;if(C){var E=l.data===ie;E!==(r===0)&&(l=F(),L(l),O(!1),A=!0)}if(C){for(var p=null,x,c=0;c<r;c++){if(N.nodeType===8&&N.data===_e){l=N,A=!0,O(!1);break}var t=_[c],f=s(t,c);x=k(N,d,p,null,t,f,c,u,e),d.items.set(f,x),p=x}r>0&&L(F())}if(!C){var R=de;Te(_,d,l,u,e,(R.f&y)!==0,s)}o!==null&&(r===0?v?Z(v):v=$(()=>o(l)):v!==null&&te(v,()=>{v=null})),A&&O(!0),a()}),C&&(l=N)}function Te(n,e,a,s,u,o,l){var Y,z,U,X;var d=(u&ce)!==0,m=(u&(q|B))!==0,h=n.length,v=e.items,g=e.first,i=g,_,r=null,A,E=[],p=[],x,c,t,f;if(d)for(f=0;f<h;f+=1)x=n[f],c=l(x,f),t=v.get(c),t!==void 0&&((Y=t.a)==null||Y.measure(),(A??(A=new Set)).add(t));for(f=0;f<h;f+=1){if(x=n[f],c=l(x,f),t=v.get(c),t===void 0){var R=i?i.e.nodes_start:a;r=k(R,e,r,r===null?e.first:r.next,x,c,f,s,u),v.set(c,r),E=[],p=[],i=r.next;continue}if(m&&Ie(t,x,f,u),t.e.f&y&&(Z(t.e),d&&((z=t.a)==null||z.unfix(),(A??(A=new Set)).delete(t))),t!==i){if(_!==void 0&&_.has(t)){if(E.length<p.length){var S=p[0],T;r=S.prev;var V=E[0],D=E[E.length-1];for(T=0;T<E.length;T+=1)P(E[T],S,a);for(T=0;T<p.length;T+=1)_.delete(p[T]);I(e,V.prev,D.next),I(e,r,V),I(e,D,S),i=S,r=D,f-=1,E=[],p=[]}else _.delete(t),P(t,i,a),I(e,t.prev,t.next),I(e,t,r===null?e.first:r.next),I(e,r,t),r=t;continue}for(E=[],p=[];i!==null&&i.k!==c;)(o||!(i.e.f&y))&&(_??(_=new Set)).add(i),p.push(i),i=i.next;if(i===null)continue;t=i}E.push(t),r=t,i=t.next}if(i!==null||_!==void 0){for(var w=_===void 0?[]:W(_);i!==null;)(o||!(i.e.f&y))&&w.push(i),i=i.next;var M=w.length;if(M>0){var j=u&Q&&h===0?a:null;if(d){for(f=0;f<M;f+=1)(U=w[f].a)==null||U.measure();for(f=0;f<M;f+=1)(X=w[f].a)==null||X.fix()}Ae(e,w,j,v)}}d&&se(()=>{var b;if(A!==void 0)for(t of A)(b=t.a)==null||b.apply()}),G.first=e.first&&e.first.e,G.last=r&&r.e}function Ie(n,e,a,s){s&q&&J(n.v,e),s&B?J(n.i,a):n.i=a}function k(n,e,a,s,u,o,l,d,m){var h=H,v=(m&q)!==0,g=(m&Ee)===0,i=v?g?he(u):K(u):u,_=m&B?K(l):l,r={i:_,v:i,k:o,a:null,e:null,prev:a,next:s};H=r;try{return r.e=$(()=>d(n,i,_),C),r.e.prev=a&&a.e,r.e.next=s&&s.e,a===null?e.first=r:(a.next=r,a.e.next=r.e),s!==null&&(s.prev=r,s.e.prev=r.e),r}finally{H=h}}function P(n,e,a){for(var s=n.next?n.next.e.nodes_start:a,u=e?e.e.nodes_start:a,o=n.e.nodes_start;o!==s;){var l=pe(o);u.before(o),o=l}}function I(n,e,a){e===null?n.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function Se(n){const e=Symbol(),a=()=>{const s=xe(e);return s===void 0?n==null?void 0:n():s};return{get:s=>{const u=a();if(u===void 0)throw Error(s??"context value is not set");return u},maybe_get:a,set:(s=n==null?void 0:n())=>me(e,s)}}export{H as a,Se as c,Ne as e,we as i,ge as s};
