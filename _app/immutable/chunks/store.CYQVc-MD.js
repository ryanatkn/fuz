import{s as l}from"./index.D6XVrNcu.js";import{n as i}from"./utils.BSJX-nVd.js";import{h as c,u as f,g as _,U as o,m as a,q as b}from"./runtime.N2A2yyIi.js";function I(n,e,t){let s=t[e];const u=s===void 0;u&&(s={store:null,last_value:null,value:b(o),unsubscribe:i},t[e]=s),(u||s.store!==n)&&(s.unsubscribe(),s.store=n??null,s.unsubscribe=m(n,s.value));const r=_(s.value);return r===o?s.last_value:r}function m(n,e){return n==null?(a(e,void 0),i):l(n,t=>a(e,t))}function y(n,e){return n.set(e),e}function N(n){d(()=>{let e;for(e in n)n[e].unsubscribe()})}function d(n){c(()=>()=>f(n))}export{y as a,I as s,N as u};
