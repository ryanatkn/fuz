import{a4 as T,a5 as O,ac as b,ad as q,h as M,u as A,ae as z,i as L,z as U,af as P,ag as W}from"./runtime.BNZvPhR8.js";import{c as j}from"./render.mpT5_OMu.js";import{c as D}from"./each.ZGz6eWNW.js";const S=typeof window<"u",G=S?requestAnimationFrame:T,K=S?()=>performance.now():()=>Date.now(),m={tick:e=>G(e),now:()=>K(),tasks:new Set};function B(e){m.tasks.forEach(t=>{t.c(e)||(m.tasks.delete(t),t.f())}),m.tasks.size!==0&&m.tick(B)}function H(e){let t;return m.tasks.size===0&&m.tick(B),{promise:new Promise(o=>{m.tasks.add(t={c:e,f:o})}),abort(){m.tasks.delete(t)}}}function J(e,t,{bubbles:o=!1,cancelable:a=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,o,a,t),r}function F(e,t){e.dispatchEvent(J(t))}function Q(e){const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(o=>o[0].toUpperCase()+o.slice(1)).join("")}function V(e){const t={},o=e.split(";");for(const a of o){const[r,s]=a.split(":");if(!r||s===void 0)break;const c=Q(r.trim());t[c]=s.trim()}return t}const X=e=>e;function tt(e,t,o){var a=D,r,s,c,u=null;a.a??(a.a={element:e,measure(){r=this.element.getBoundingClientRect()},apply(){if(c==null||c.abort(),s=this.element.getBoundingClientRect(),r.left!==s.left||r.right!==s.right||r.top!==s.top||r.bottom!==s.bottom){const p=t()(this.element,{from:r,to:s},o==null?void 0:o());c=E(this.element,p,void 0,1,()=>{c==null||c.abort(),c=void 0})}},fix(){var p=getComputedStyle(e);if(p.position!=="absolute"&&p.position!=="fixed"){var i=e.style;u={position:i.position,width:i.width,height:i.height},i.position="absolute",i.width=p.width,i.height=p.height;var n=e.getBoundingClientRect();if(r.left!==n.left||r.top!==n.top){var f=`translate(${r.left-n.left}px, ${r.top-n.top}px)`;i.transform=i.transform?`${i.transform} ${f}`:f}}},unfix(){if(u){var p=e.style;p.position=u.position,p.width=u.width,p.height=u.height}}}),a.a.element=e}function et(e,t,o,a){var r=(e&z)!==0,s=(e&P)!==0,c=(e&W)!==0,u=r&&s?"both":r?"in":"out",p,i=t.inert,n,f,_;function $(){return p??(p=o()(t,a==null?void 0:a(),{direction:u}))}var l={is_global:c,in(){t.inert=i,r?(F(t,"introstart"),n=E(t,$(),f,1,()=>{F(t,"introend"),n=p=void 0})):(f==null||f.abort(),_==null||_())},out(d){s?(t.inert=!0,F(t,"outrostart"),f=E(t,$(),n,0,()=>{F(t,"outroend"),f=p=void 0,d==null||d()}),_=f.reset):d==null||d()},stop:()=>{n==null||n.abort(),f==null||f.abort()}},h=L;if((h.transitions??(h.transitions=[])).push(l),r&&j){let d=c;if(!d){for(var g=h.parent;g&&g.f&O;)for(;(g=g.parent)&&!(g.f&b););d=!g||(g.f&q)!==0}d&&M(()=>{A(()=>l.in())})}}function E(e,t,o,a,r){if(U(t)){var s;return M(()=>{var v=A(()=>t({direction:a===1?"in":"out"}));s=E(e,v,o,a,r)}),{abort:()=>s.abort(),deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:v=>s.t(v)}}if(o==null||o.deactivate(),!(t!=null&&t.duration))return r==null||r(),{abort:T,deactivate:T,reset:T,t:()=>a};var{delay:c=0,duration:u,css:p,tick:i,easing:n=X}=t,f=m.now()+c,_=(o==null?void 0:o.t(f))??1-a,$=a-_;u*=Math.abs($);var l=f+u,h,g;if(p){for(var d=[],x=Math.ceil(u/16.666666666666668),y=0;y<=x;y+=1){var C=_+$*n(y/x),R=p(C,1-C);d.push(V(R))}h=e.animate(d,{delay:c,duration:u,easing:"linear",fill:"forwards"}),h.finished.then(()=>{r==null||r(),a===1&&h.cancel()}).catch(v=>{if(h.startTime!==null&&h.currentTime!==null)throw v})}else _===0&&(i==null||i(0,1)),g=H(v=>{if(v>=l)return i==null||i(a,1-a),r==null||r(),!1;if(v>=f){var w=_+$*n((v-f)/u);i==null||i(w,1-w)}return!0});return{abort:()=>{h==null||h.cancel(),g==null||g.abort()},deactivate:()=>{r=void 0},reset:()=>{a===0&&(i==null||i(1,0))},t:v=>{var w=_+$*n((v-f)/u);return Math.min(1,Math.max(0,w))}}}function I(e){const t=e-1;return t*t*t+1}function rt(e,{delay:t=0,duration:o=400,easing:a=I,axis:r="y"}={}){const s=getComputedStyle(e),c=+s.opacity,u=r==="y"?"height":"width",p=parseFloat(s[u]),i=r==="y"?["top","bottom"]:["left","right"],n=i.map(d=>`${d[0].toUpperCase()}${d.slice(1)}`),f=parseFloat(s[`padding${n[0]}`]),_=parseFloat(s[`padding${n[1]}`]),$=parseFloat(s[`margin${n[0]}`]),l=parseFloat(s[`margin${n[1]}`]),h=parseFloat(s[`border${n[0]}Width`]),g=parseFloat(s[`border${n[1]}Width`]);return{delay:t,duration:o,easing:a,css:d=>`overflow: hidden;opacity: ${Math.min(d*20,1)*c};${u}: ${d*p}px;padding-${i[0]}: ${d*f}px;padding-${i[1]}: ${d*_}px;margin-${i[0]}: ${d*$}px;margin-${i[1]}: ${d*l}px;border-${i[0]}-width: ${d*h}px;border-${i[1]}-width: ${d*g}px;`}}function N(e,t){for(const o in t)e[o]=t[o];return e}function it({fallback:e,...t}){const o=new Map,a=new Map;function r(c,u,p){const{delay:i=0,duration:n=v=>Math.sqrt(v)*30,easing:f=I}=N(N({},t),p),_=c.getBoundingClientRect(),$=u.getBoundingClientRect(),l=_.left-$.left,h=_.top-$.top,g=_.width/$.width,d=_.height/$.height,x=Math.sqrt(l*l+h*h),y=getComputedStyle(u),C=y.transform==="none"?"":y.transform,R=+y.opacity;return{delay:i,duration:typeof n=="function"?n(x):n,easing:f,css:(v,w)=>`
			   opacity: ${v*R};
			   transform-origin: top left;
			   transform: ${C} translate(${w*l}px,${w*h}px) scale(${v+(1-v)*g}, ${v+(1-v)*d});
		   `}}function s(c,u,p){return(i,n)=>(c.set(n.key,i),()=>{if(u.has(n.key)){const f=u.get(n.key);return u.delete(n.key),r(f,i,n)}return c.delete(n.key),e&&e(i,n,p)})}return[s(a,o,!1),s(o,a,!0)]}export{tt as a,it as c,rt as s,et as t};
