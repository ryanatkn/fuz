import{Z as i}from"./runtime.DrZKPIha.js";function p(e,n,t){if(e==null)return n(void 0),t&&t(void 0),i;const u=e.subscribe(n,t);return u.unsubscribe?()=>u.unsubscribe():u}const o=[];function _(e,n){return e!=e?n==n:e!==n||e&&typeof e=="object"||typeof e=="function"}function g(e,n=i){let t=null;const u=new Set;function c(r){if(_(e,r)&&(e=r,t)){const f=!o.length;for(const s of u)s[1](),o.push(s,e);if(f){for(let s=0;s<o.length;s+=2)o[s][0](o[s+1]);o.length=0}}}function b(r){c(r(e))}function l(r,f=i){const s=[r,f];return u.add(s),u.size===1&&(t=n(c,b)||i),r(e),()=>{u.delete(s),u.size===0&&t&&(t(),t=null)}}return{set:c,update:b,subscribe:l}}function h(e){let n;return p(e,t=>n=t)(),n}export{h as g,p as s,g as w};
