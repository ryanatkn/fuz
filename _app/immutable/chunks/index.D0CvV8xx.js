import{n as T}from"./utils.BSJX-nVd.js";import{aa as B,h as R,u as A,ab as O,ac as q,A as z,v as U,ad as L}from"./runtime.N2A2yyIi.js";import{c as W}from"./render.UwBO_r64.js";import{c as j}from"./each.CWSUAFwf.js";const E=typeof window<"u",D=E?requestAnimationFrame:T,G=E?()=>performance.now():()=>Date.now(),$={tick:e=>D(e),now:()=>G(),tasks:new Set};function I(e){$.tasks.forEach(t=>{t.c(e)||($.tasks.delete(t),t.f())}),$.tasks.size!==0&&$.tick(I)}function P(e){let t;return $.tasks.size===0&&$.tick(I),{promise:new Promise(n=>{$.tasks.add(t={c:e,f:n})}),abort(){$.tasks.delete(t)}}}function H(e,t,{bubbles:n=!1,cancelable:a=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,a,t),r}function F(e,t){e.dispatchEvent(H(t))}function J(e){const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function K(e){const t={},n=e.split(";");for(const a of n){const[r,o]=a.split(":");if(!r||o===void 0)break;const d=J(r.trim());t[d]=o.trim()}return t}const Q=e=>e;function k(e,t,n){var a=j,r,o,d;a.a??(a.a={element:e,measure(){r=this.element.getBoundingClientRect()},apply(){if(d==null||d.abort(),o=this.element.getBoundingClientRect(),r.left!==o.left||r.right!==o.right||r.top!==o.top||r.bottom!==o.bottom){const c=t()(this.element,{from:r,to:o},n==null?void 0:n());d=b(this.element,c,void 0,1,()=>{d==null||d.abort(),d=void 0})}}}),a.a.element=e}function tt(e,t,n,a){var r=(e&O)!==0,o=(e&L)!==0,d=(e&q)!==0,c=r&&o?"both":r?"in":"out",y,s=t.inert,i,u,h;function _(){return y??(y=n()(t,a==null?void 0:a(),{direction:c}))}var l={is_global:d,in(){t.inert=s,r?(F(t,"introstart"),i=b(t,_(),u,1,()=>{F(t,"introend"),i=y=void 0})):(u==null||u.abort(),h==null||h())},out(f){o?(t.inert=!0,F(t,"outrostart"),u=b(t,_(),i,0,()=>{F(t,"outroend"),u=y=void 0,f==null||f()}),h=u.reset):f==null||f()},stop:()=>{i==null||i.abort(),u==null||u.abort()}},p=z;if((p.transitions??(p.transitions=[])).push(l),r&&W){var m=p.parent;(d||m.f&B)&&R(()=>{A(()=>l.in())})}}function b(e,t,n,a,r){if(U(t)){var o;return R(()=>{var v=A(()=>t({direction:a===1?"in":"out"}));o=b(e,v,n,a,r)}),{abort:()=>o.abort(),deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:v=>o.t(v)}}if(n==null||n.deactivate(),!(t!=null&&t.duration))return r==null||r(),{abort:T,deactivate:T,reset:T,t:()=>a};var{delay:d=0,duration:c,css:y,tick:s,easing:i=Q}=t,u=$.now()+d,h=(n==null?void 0:n.t(u))??1-a,_=a-h;c*=Math.abs(_);var l=u+c,p,m;if(y){for(var f=[],x=c/16.666666666666668,g=0;g<=x;g+=1){var C=h+_*i(g/x),M=y(C,1-C);f.push(K(M))}p=e.animate(f,{delay:d,duration:c,easing:"linear",fill:"forwards"}),p.finished.then(()=>{r==null||r()}).catch(v=>{if(p.startTime!==null&&p.currentTime!==null)throw v})}else h===0&&(s==null||s(0,1)),m=P(v=>{if(v>=l)return s==null||s(a,1-a),r==null||r(),!1;if(v>=u){var w=h+_*i((v-u)/c);s==null||s(w,1-w)}return!0});return{abort:()=>{p==null||p.cancel(),m==null||m.abort()},deactivate:()=>{r=void 0},reset:()=>{a===0&&(s==null||s(1,0))},t:v=>{var w=h+_*i((v-u)/c);return Math.min(1,Math.max(0,w))}}}function S(e){const t=e-1;return t*t*t+1}function et(e,{delay:t=0,duration:n=400,easing:a=S,axis:r="y"}={}){const o=getComputedStyle(e),d=+o.opacity,c=r==="y"?"height":"width",y=parseFloat(o[c]),s=r==="y"?["top","bottom"]:["left","right"],i=s.map(f=>`${f[0].toUpperCase()}${f.slice(1)}`),u=parseFloat(o[`padding${i[0]}`]),h=parseFloat(o[`padding${i[1]}`]),_=parseFloat(o[`margin${i[0]}`]),l=parseFloat(o[`margin${i[1]}`]),p=parseFloat(o[`border${i[0]}Width`]),m=parseFloat(o[`border${i[1]}Width`]);return{delay:t,duration:n,easing:a,css:f=>`overflow: hidden;opacity: ${Math.min(f*20,1)*d};${c}: ${f*y}px;padding-${s[0]}: ${f*u}px;padding-${s[1]}: ${f*h}px;margin-${s[0]}: ${f*_}px;margin-${s[1]}: ${f*l}px;border-${s[0]}-width: ${f*p}px;border-${s[1]}-width: ${f*m}px;`}}function N(e,t){for(const n in t)e[n]=t[n];return e}function rt({fallback:e,...t}){const n=new Map,a=new Map;function r(d,c,y){const{delay:s=0,duration:i=v=>Math.sqrt(v)*30,easing:u=S}=N(N({},t),y),h=d.getBoundingClientRect(),_=c.getBoundingClientRect(),l=h.left-_.left,p=h.top-_.top,m=h.width/_.width,f=h.height/_.height,x=Math.sqrt(l*l+p*p),g=getComputedStyle(c),C=g.transform==="none"?"":g.transform,M=+g.opacity;return{delay:s,duration:typeof i=="function"?i(x):i,easing:u,css:(v,w)=>`
			   opacity: ${v*M};
			   transform-origin: top left;
			   transform: ${C} translate(${w*l}px,${w*p}px) scale(${v+(1-v)*m}, ${v+(1-v)*f});
		   `}}function o(d,c,y){return(s,i)=>(d.set(i.key,s),()=>{if(c.has(i.key)){const u=c.get(i.key);return c.delete(i.key),r(u,s,i)}return d.delete(i.key),e&&e(s,i,y)})}return[o(a,n,!1),o(n,a,!0)]}export{k as a,rt as c,et as s,tt as t};
