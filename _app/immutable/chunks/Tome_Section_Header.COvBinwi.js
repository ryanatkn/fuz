import{a as _,t as u,g as j,c as q}from"./disclose-version.7b59C0PR.js";import{p as k,t as g,a as S,l as z,m as A,c as h,r as v,f as y,s as B}from"./runtime.TFn0e1ji.js";import{s as F}from"./render.CfaAti5L.js";import{i as G}from"./if.BCWWcCm1.js";import{s as T,a as I,d as J}from"./attributes.BZkAnuRC.js";import{e as L}from"./svelte-element.C2CX1j9W.js";import{t as M}from"./class.D7hBhbh-.js";import{p as N}from"./props.DGMTMomc.js";import{s as O,a as P,p as Q}from"./stores.BkP_xmWj.js";import{o as R}from"./index-client.D2e0pCKO.js";import{b as U}from"./entry.DY1y4PuL.js";import{s as V}from"./path.QeaNnfvq.js";import{g as H,a as W,i as X,H as Z}from"./intersect.B8R0shMd.js";const C=Symbol("register_section_header"),$=()=>A(C),ee=o=>z(C,o);var te=u("<section><!></section>");function pe(o,e){k(e,!0);const m=H();let a;ee(s=>{a=s});var t=te();let r;var c=h(t);T(c,()=>e.children),v(t),g(()=>r=I(t,r,{...e.attrs})),W(t,(s,i)=>X(s,i),()=>({intersecting:s})=>{a&&(s?m.slugs_onscreen.add(a):m.slugs_onscreen.delete(a))}),_(o,t),S()}let se=0;var ae=u("<div><!></div> <!>",1),re=u("<header><!></header>");function be(o,e){k(e,!0);const m=O(),a=()=>P(Q,"$page",m),t=N(e,"tag",3,"h3"),r=V(e.text),c=$();if(!c)throw Error("Tome_Section_Header must be a child of Tome_Section");c(r);const s="tome_section_header_"+((se+=1)-1),i=H();a().url.pathname!==U+i.root_path&&(i.add(s,e.text,r,t()),R(()=>{i.remove(s)}));var d=re(),E=h(d);L(E,t,!1,(p,w)=>{let b;g(()=>{b=J(p,b,{...e.attrs},"svelte-3vtdd8"),M(p,"tome_section_header",!0)});var x=ae(),l=y(x),D=h(l);G(D,()=>e.children,f=>{var n=q(),Y=y(n);T(Y,()=>e.children),_(f,n)},f=>{var n=j();g(()=>F(n,e.text)),_(f,n)}),v(l);var K=B(l,2);Z(K,{slug:r}),_(w,x)}),v(d),_(o,d),S()}export{pe as T,be as a};
