import{n as T}from"./utils.BSJX-nVd.js";import{aa as O,A as E,i as I,ab as q,ac as z,w as U,F as L,ad as W}from"./runtime.BITJpo-a.js";import{c as j}from"./render.Z7Ne6upu.js";import{c as D}from"./each.Bo18fhyf.js";const S=typeof window<"u",G=S?requestAnimationFrame:T,P=S?()=>performance.now():()=>Date.now(),$={tick:e=>G(e),now:()=>P(),tasks:new Set};function B(e){$.tasks.forEach(t=>{t.c(e)||($.tasks.delete(t),t.f())}),$.tasks.size!==0&&$.tick(B)}function H(e){let t;return $.tasks.size===0&&$.tick(B),{promise:new Promise(r=>{$.tasks.add(t={c:e,f:r})}),abort(){$.tasks.delete(t)}}}function J(e,t,{bubbles:r=!1,cancelable:a=!1}={}){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,r,a,t),n}function F(e,t){e.dispatchEvent(J(t))}function K(e){const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function Q(e){const t={},r=e.split(";");for(const a of r){const[n,o]=a.split(":");if(!n||o===void 0)break;const d=K(n.trim());t[d]=o.trim()}return t}const V=e=>e;function tt(e,t,r){var a=D,n,o,d;a.a??(a.a={element:e,measure(){n=this.element.getBoundingClientRect()},apply(){if(d==null||d.abort(),o=this.element.getBoundingClientRect(),n.left!==o.left||n.right!==o.right||n.top!==o.top||n.bottom!==o.bottom){const f=t()(this.element,{from:n,to:o},r==null?void 0:r());d=b(this.element,f,void 0,1,()=>{d==null||d.abort(),d=void 0})}}}),a.a.element=e}function et(e,t,r,a){var n=(e&q)!==0,o=(e&W)!==0,d=(e&z)!==0,f=n&&o?"both":n?"in":"out",y,i=t.inert,s,c,v;function h(){return y??(y=r()(t,a==null?void 0:a(),{direction:f}))}var l={is_global:d,in(){t.inert=i,n?(F(t,"introstart"),s=b(t,h(),c,1,()=>{F(t,"introend"),s=y=void 0})):(c==null||c.abort(),v==null||v())},out(u){o?(t.inert=!0,F(t,"outrostart"),c=b(t,h(),s,0,()=>{F(t,"outroend"),c=y=void 0,u==null||u()}),v=c.reset):u==null||u()},stop:()=>{s==null||s.abort(),c==null||c.abort()}},p=U;if((p.transitions??(p.transitions=[])).push(l),n&&j){var m=p.parent;(d||m.f&O)&&E(()=>{I(()=>l.in())})}}function b(e,t,r,a,n){if(L(t)){var o;return E(()=>{var _=I(()=>t({direction:a===1?"in":"out"}));o=b(e,_,r,a,n)}),{abort:()=>o.abort(),deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:_=>o.t(_)}}if(r==null||r.deactivate(),!(t!=null&&t.duration))return n==null||n(),{abort:T,deactivate:T,reset:T,t:()=>a};var{delay:d=0,duration:f,css:y,tick:i,easing:s=V}=t,c=$.now()+d,v=(r==null?void 0:r.t(c))??1-a,h=a-v;f*=Math.abs(h);var l=c+f,p,m;if(y){for(var u=[],x=f/16.666666666666668,g=0;g<=x;g+=1){var C=v+h*s(g/x),M=y(C,1-C);u.push(Q(M))}p=e.animate(u,{delay:d,duration:f,easing:"linear",fill:"forwards"}),p.finished.then(()=>{n==null||n()}).catch(_=>{if(p.startTime!==null&&p.currentTime!==null)throw _})}else v===0&&(i==null||i(0,1)),m=H(_=>{if(_>=l)return i==null||i(a,1-a),n==null||n(),!1;if(_>=c){var w=v+h*s((_-c)/f);i==null||i(w,1-w)}return!0});return{abort:()=>{p==null||p.cancel(),m==null||m.abort()},deactivate:()=>{n=void 0},reset:()=>{a===0&&(i==null||i(1,0))},t:_=>{var w=v+h*s((_-c)/f);return Math.min(1,Math.max(0,w))}}}function N(e){const t=e-1;return t*t*t+1}function R(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function nt(e,{delay:t=0,duration:r=400,easing:a=N,x:n=0,y:o=0,opacity:d=0}={}){const f=getComputedStyle(e),y=+f.opacity,i=f.transform==="none"?"":f.transform,s=y*(1-d),[c,v]=R(n),[h,l]=R(o);return{delay:t,duration:r,easing:a,css:(p,m)=>`
			transform: ${i} translate(${(1-p)*c}${v}, ${(1-p)*h}${l});
			opacity: ${y-s*m}`}}function rt(e,{delay:t=0,duration:r=400,easing:a=N,axis:n="y"}={}){const o=getComputedStyle(e),d=+o.opacity,f=n==="y"?"height":"width",y=parseFloat(o[f]),i=n==="y"?["top","bottom"]:["left","right"],s=i.map(u=>`${u[0].toUpperCase()}${u.slice(1)}`),c=parseFloat(o[`padding${s[0]}`]),v=parseFloat(o[`padding${s[1]}`]),h=parseFloat(o[`margin${s[0]}`]),l=parseFloat(o[`margin${s[1]}`]),p=parseFloat(o[`border${s[0]}Width`]),m=parseFloat(o[`border${s[1]}Width`]);return{delay:t,duration:r,easing:a,css:u=>`overflow: hidden;opacity: ${Math.min(u*20,1)*d};${f}: ${u*y}px;padding-${i[0]}: ${u*c}px;padding-${i[1]}: ${u*v}px;margin-${i[0]}: ${u*h}px;margin-${i[1]}: ${u*l}px;border-${i[0]}-width: ${u*p}px;border-${i[1]}-width: ${u*m}px;`}}function A(e,t){for(const r in t)e[r]=t[r];return e}function ot({fallback:e,...t}){const r=new Map,a=new Map;function n(d,f,y){const{delay:i=0,duration:s=_=>Math.sqrt(_)*30,easing:c=N}=A(A({},t),y),v=d.getBoundingClientRect(),h=f.getBoundingClientRect(),l=v.left-h.left,p=v.top-h.top,m=v.width/h.width,u=v.height/h.height,x=Math.sqrt(l*l+p*p),g=getComputedStyle(f),C=g.transform==="none"?"":g.transform,M=+g.opacity;return{delay:i,duration:typeof s=="function"?s(x):s,easing:c,css:(_,w)=>`
			   opacity: ${_*M};
			   transform-origin: top left;
			   transform: ${C} translate(${w*l}px,${w*p}px) scale(${_+(1-_)*m}, ${_+(1-_)*u});
		   `}}function o(d,f,y){return(i,s)=>(d.set(s.key,i),()=>{if(f.has(s.key)){const c=f.get(s.key);return f.delete(s.key),n(c,i,s)}return d.delete(s.key),e&&e(i,s,y)})}return[o(a,r,!1),o(r,a,!0)]}export{tt as a,ot as c,nt as f,rt as s,et as t};
