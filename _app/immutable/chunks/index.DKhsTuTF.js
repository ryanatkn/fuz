import{Q as q,au as z,av as L,u as U,V as P,v as W,O as j,w as N,an as E,aw as G,ax as K,ay as Q}from"./runtime.DbtEYBdD.js";import{b as V}from"./render.BYxdHAaC.js";import{c as D}from"./each.C8-jnsCm.js";const H=requestAnimationFrame,J=()=>performance.now(),b={tick:r=>H(r),now:()=>J(),tasks:new Set};function S(r){b.tasks.forEach(t=>{t.c(r)||(b.tasks.delete(t),t.f())}),b.tasks.size!==0&&b.tick(S)}function X(r){let t;return b.tasks.size===0&&b.tick(S),{promise:new Promise(o=>{b.tasks.add(t={c:r,f:o})}),abort(){b.tasks.delete(t)}}}function F(r,t){r.dispatchEvent(new CustomEvent(t))}function Y(r){const t=r.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(o=>o[0].toUpperCase()+o.slice(1)).join("")}function k(r){const t={},o=r.split(";");for(const u of o){const[a,i]=u.split(":");if(!a||i===void 0)break;const f=Y(a.trim());t[f]=i.trim()}return t}const Z=r=>r;function at(r,t,o){var u=D,a,i,f,s=null;u.a??(u.a={element:r,measure(){a=this.element.getBoundingClientRect()},apply(){if(f==null||f.abort(),i=this.element.getBoundingClientRect(),a.left!==i.left||a.right!==i.right||a.top!==i.top||a.bottom!==i.bottom){const v=t()(this.element,{from:a,to:i},o==null?void 0:o());f=T(this.element,v,void 0,1,()=>{f==null||f.abort(),f=void 0},void 0)}},fix(){if(!r.getAnimations().length){var{position:v,width:d,height:c}=getComputedStyle(r);if(v!=="absolute"&&v!=="fixed"){var e=r.style;s={position:e.position,width:e.width,height:e.height,transform:e.transform},e.position="absolute",e.width=d,e.height=c;var n=r.getBoundingClientRect();if(a.left!==n.left||a.top!==n.top){var h=`translate(${a.left-n.left}px, ${a.top-n.top}px)`;e.transform=e.transform?`${e.transform} ${h}`:h}}}},unfix(){if(s){var v=r.style;v.position=s.position,v.width=s.width,v.height=s.height,v.transform=s.transform}}}),u.a.element=r}function it(r,t,o,u){var a=(r&K)!==0,i=(r&Q)!==0,f=a&&i,s=(r&G)!==0,v=f?"both":a?"in":"out",d,c=t.inert,e,n,h;function m(){return d??(d=o()(t,u==null?void 0:u(),{direction:v}))}var y={is_global:s,in(){t.inert=c,n==null||n.abort(),e==null||e.abort(),a?(F(t,"introstart"),e=T(t,m(),n,1,()=>{F(t,"introend"),e==null||e.abort(),e=d=void 0},f?void 0:()=>{e=d=void 0})):h==null||h()},out(p){n==null||n.abort(),i?(t.inert=!0,F(t,"outrostart"),n=T(t,m(),e,0,()=>{F(t,"outroend"),n=d=void 0,p==null||p()},f?void 0:()=>{n=d=void 0}),h=n.reset):p==null||p()},stop:()=>{e==null||e.abort(),n==null||n.abort()}},$=P;if(($.transitions??($.transitions=[])).push(y),a&&V){let p=s;if(!p){for(var l=$.parent;l&&l.f&q;)for(;(l=l.parent)&&!(l.f&z););p=!l||(l.f&L)!==0}p&&U(()=>{W(()=>y.in())})}}function T(r,t,o,u,a,i){var f=u===1;if(j(t)){var s,v=!1;return N(()=>{if(!v){var g=t({direction:f?"in":"out"});s=T(r,g,o,u,a,i)}}),{abort:()=>{v=!0,s==null||s.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:g=>s.t(g)}}if(o==null||o.deactivate(),!(t!=null&&t.duration))return a==null||a(),{abort:E,deactivate:E,reset:E,t:()=>u};const{delay:d=0,css:c,tick:e,easing:n=Z}=t;var h=b.now()+d,m=(o==null?void 0:o.t(h))??1-u,y=u-m,$=t.duration*Math.abs(y),l=h+$,p,x;return c?N(()=>{var g=[],_=Math.ceil($/16.666666666666668);if(f&&d>0){let R=Math.ceil(d/16.666666666666668),O=k(c(0,1));for(let M=0;M<R;M+=1)g.push(O)}for(var w=0;w<=_;w+=1){var C=m+y*n(w/_),I=c(C,1-C);g.push(k(I))}p=r.animate(g,{delay:f?0:d,duration:$+(f?d:0),easing:"linear",fill:"forwards"}),p.finished.then(()=>{a==null||a(),u===1&&p.cancel()}).catch(R=>{if(p.startTime!==null&&p.currentTime!==null)throw R})}):(m===0&&(e==null||e(0,1)),x=X(g=>{if(g>=l)return e==null||e(u,1-u),a==null||a(),!1;if(g>=h){var _=m+y*n((g-h)/$);e==null||e(_,1-_)}return!0})),{abort:()=>{p&&(p.cancel(),p.effect=null),x==null||x.abort(),i==null||i(),a=void 0,i=void 0},deactivate:()=>{a=void 0,i=void 0},reset:()=>{u===0&&(e==null||e(1,0))},t:g=>{var _=m+y*n((g-h)/$);return Math.min(1,Math.max(0,_))}}}function B(r){const t=r-1;return t*t*t+1}function nt(r,{delay:t=0,duration:o=400,easing:u=B,axis:a="y"}={}){const i=getComputedStyle(r),f=+i.opacity,s=a==="y"?"height":"width",v=parseFloat(i[s]),d=a==="y"?["top","bottom"]:["left","right"],c=d.map(l=>`${l[0].toUpperCase()}${l.slice(1)}`),e=parseFloat(i[`padding${c[0]}`]),n=parseFloat(i[`padding${c[1]}`]),h=parseFloat(i[`margin${c[0]}`]),m=parseFloat(i[`margin${c[1]}`]),y=parseFloat(i[`border${c[0]}Width`]),$=parseFloat(i[`border${c[1]}Width`]);return{delay:t,duration:o,easing:u,css:l=>`overflow: hidden;opacity: ${Math.min(l*20,1)*f};${s}: ${l*v}px;padding-${d[0]}: ${l*e}px;padding-${d[1]}: ${l*n}px;margin-${d[0]}: ${l*h}px;margin-${d[1]}: ${l*m}px;border-${d[0]}-width: ${l*y}px;border-${d[1]}-width: ${l*$}px;`}}function A(r,t){for(const o in t)r[o]=t[o];return r}function ot({fallback:r,...t}){const o=new Map,u=new Map;function a(f,s,v){const{delay:d=0,duration:c=w=>Math.sqrt(w)*30,easing:e=B}=A(A({},t),v),n=f.getBoundingClientRect(),h=s.getBoundingClientRect(),m=n.left-h.left,y=n.top-h.top,$=n.width/h.width,l=n.height/h.height,p=Math.sqrt(m*m+y*y),x=getComputedStyle(s),g=x.transform==="none"?"":x.transform,_=+x.opacity;return{delay:d,duration:typeof c=="function"?c(p):c,easing:e,css:(w,C)=>`
			   opacity: ${w*_};
			   transform-origin: top left;
			   transform: ${g} translate(${C*m}px,${C*y}px) scale(${w+(1-w)*$}, ${w+(1-w)*l});
		   `}}function i(f,s,v){return(d,c)=>(f.set(c.key,d),()=>{if(s.has(c.key)){const e=s.get(c.key);return s.delete(c.key),a(e,d,c)}return f.delete(c.key),r&&r(d,c,v)})}return[i(u,o,!1),i(o,u,!0)]}export{at as a,ot as c,nt as s,it as t};
