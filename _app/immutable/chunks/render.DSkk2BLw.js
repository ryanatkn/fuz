import{v as L,F as N,H as p,u as c,k as E,e as O,g as f,y as C,i as I,G as H,C as S,h as v,j as Y}from"./disclose-version.BDhqTD1c.js";import{H as k,J as M,K as V,c as $,p as j,y as F,a as G,D as J}from"./runtime.BIep0U5Y.js";import{a as K,r as D,b as W,h,i as q}from"./utils.BasVy1Zn.js";let m=!0;function U(t){m=t}function X(t,e){(t.__t??(t.__t=t.nodeValue))!==e&&(t.__t=e,t.nodeValue=e==null?"":e+"")}function z(t,e){const s=e.anchor??e.target.appendChild(L());return b(t,{...e,anchor:s})}function Z(t,e){e.intro=e.intro??!1;const s=e.target,u=v,_=f;try{for(var r=s.firstChild;r&&(r.nodeType!==8||r.data!==N);)r=r.nextSibling;if(!r)throw p;c(!0),E(r),O();const d=b(t,{...e,anchor:r});if(f===null||f.nodeType!==8||f.data!==C)throw I(),p;return c(!1),d}catch(d){if(d===p)return e.recover===!1&&k(),H(),S(s),c(!1),z(t,e);throw d}finally{c(u),E(_),W()}}const i=new Map;function b(t,{target:e,anchor:s,props:u={},events:_,context:r,intro:d=!0}){H();var y=new Set,g=a=>{for(var o=0;o<a.length;o++){var n=a[o];if(!y.has(n)){y.add(n);var R=q(n);e.addEventListener(n,h,{passive:R});var T=i.get(n);T===void 0?(document.addEventListener(n,h,{passive:R}),i.set(n,1)):i.set(n,T+1)}}};g(M(K)),D.add(g);var l=void 0,A=V(()=>($(()=>{if(r){j({});var a=J;a.c=r}_&&(u.$$events=_),v&&Y(s,null),m=d,l=t(s,u)||{},m=!0,v&&(F.nodes.end=f),r&&G()}),()=>{for(var a of y){e.removeEventListener(a,h);var o=i.get(a);--o===0?(document.removeEventListener(a,h),i.delete(a)):i.set(a,o)}D.delete(g),w.delete(l)}));return w.set(l,A),l}let w=new WeakMap;function x(t){const e=w.get(t);e==null||e()}export{U as a,m as b,Z as h,z as m,X as s,x as u};
