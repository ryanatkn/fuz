import{E as O,ax as q,ay as z,m as U,u as L,B as R,U as W,q as P,a3 as x,az as j,aA as G,aB as J,aC as A,J as N,ah as K}from"./runtime.B8zI9S7i.js";import{b as D}from"./render.v2A4C8c0.js";import{a as H}from"./context_helpers.DVYNiYXA.js";const Q=()=>performance.now(),w={tick:i=>requestAnimationFrame(i),now:()=>Q(),tasks:new Set};function I(i){w.tasks.forEach(t=>{t.c(i)||(w.tasks.delete(t),t.f())}),w.tasks.size!==0&&w.tick(I)}function V(i){let t;return w.tasks.size===0&&w.tick(I),{promise:new Promise(e=>{w.tasks.add(t={c:i,f:e})}),abort(){w.tasks.delete(t)}}}function T(i,t){i.dispatchEvent(new CustomEvent(t))}function X(i){if(i==="float")return"cssFloat";if(i==="offset")return"cssOffset";if(i.startsWith("--"))return i;const t=i.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(e=>e[0].toUpperCase()+e.slice(1)).join("")}function B(i){const t={},e=i.split(";");for(const c of e){const[n,o]=c.split(":");if(!n||o===void 0)break;const f=X(n.trim());t[f]=o.trim()}return t}const Y=i=>i;function rt(i,t,e){var c=H,n,o,f,v=null;c.a??(c.a={element:i,measure(){n=this.element.getBoundingClientRect()},apply(){if(f==null||f.abort(),o=this.element.getBoundingClientRect(),n.left!==o.left||n.right!==o.right||n.top!==o.top||n.bottom!==o.bottom){const p=t()(this.element,{from:n,to:o},e==null?void 0:e());f=E(this.element,p,void 0,1,()=>{f==null||f.abort(),f=void 0})}},fix(){if(!i.getAnimations().length){var{position:p,width:u,height:r}=getComputedStyle(i);if(p!=="absolute"&&p!=="fixed"){var a=i.style;v={position:a.position,width:a.width,height:a.height,transform:a.transform},a.position="absolute",a.width=u,a.height=r;var s=i.getBoundingClientRect();if(n.left!==s.left||n.top!==s.top){var _=`translate(${n.left-s.left}px, ${n.top-s.top}px)`;a.transform=a.transform?`${a.transform} ${_}`:_}}}},unfix(){if(v){var p=i.style;p.position=v.position,p.width=v.width,p.height=v.height,p.transform=v.transform}}}),c.a.element=i}function et(i,t,e,c){var n=(i&j)!==0,o=(i&G)!==0,f=n&&o,v=(i&J)!==0,p=f?"both":n?"in":"out",u,r=t.inert,a,s;function _(){var l=K,y=R;A(null),N(null);try{return u??(u=e()(t,(c==null?void 0:c())??{},{direction:p}))}finally{A(l),N(y)}}var g={is_global:v,in(){var l;if(t.inert=r,!n){s==null||s.abort(),(l=s==null?void 0:s.reset)==null||l.call(s);return}o||a==null||a.abort(),T(t,"introstart"),a=E(t,_(),s,1,()=>{T(t,"introend"),a==null||a.abort(),a=u=void 0})},out(l){if(!o){l==null||l(),u=void 0;return}t.inert=!0,T(t,"outrostart"),s=E(t,_(),a,0,()=>{T(t,"outroend"),l==null||l()})},stop:()=>{a==null||a.abort(),s==null||s.abort()}},h=R;if((h.transitions??(h.transitions=[])).push(g),n&&D){var $=v;if(!$){for(var d=h.parent;d&&d.f&O;)for(;(d=d.parent)&&!(d.f&q););$=!d||(d.f&z)!==0}$&&U(()=>{L(()=>g.in())})}}function E(i,t,e,c,n){var o=c===1;if(W(t)){var f,v=!1;return P(()=>{if(!v){var $=t({direction:o?"in":"out"});f=E(i,$,e,c,n)}}),{abort:()=>{v=!0,f==null||f.abort()},deactivate:()=>f.deactivate(),reset:()=>f.reset(),t:()=>f.t()}}if(e==null||e.deactivate(),!(t!=null&&t.duration))return n(),{abort:x,deactivate:x,reset:x,t:()=>c};const{delay:p=0,css:u,tick:r,easing:a=Y}=t;var s=[];if(o&&e===void 0&&(r&&r(0,1),u)){var _=B(u(0,1));s.push(_,_)}var g=()=>1-c,h=i.animate(s,{duration:p});return h.onfinish=()=>{var $=(e==null?void 0:e.t())??1-c;e==null||e.abort();var d=c-$,l=t.duration*Math.abs(d),y=[];if(l>0){if(u)for(var C=Math.ceil(l/16.666666666666668),b=0;b<=C;b+=1){var m=$+d*a(b/C),F=u(m,1-m);y.push(B(F))}g=()=>{var k=h.currentTime;return $+d*a(k/l)},r&&V(()=>{if(h.playState!=="running")return!1;var k=g();return r(k,1-k),!0})}h=i.animate(y,{duration:l,fill:"forwards"}),h.onfinish=()=>{g=()=>c,r==null||r(c,1-c),n()}},{abort:()=>{h&&(h.cancel(),h.effect=null,h.onfinish=x)},deactivate:()=>{n=x},reset:()=>{c===0&&(r==null||r(1,0))},t:()=>g()}}function M(i){const t=i-1;return t*t*t+1}function at(i,{delay:t=0,duration:e=400,easing:c=M,axis:n="y"}={}){const o=getComputedStyle(i),f=+o.opacity,v=n==="y"?"height":"width",p=parseFloat(o[v]),u=n==="y"?["top","bottom"]:["left","right"],r=u.map(d=>`${d[0].toUpperCase()}${d.slice(1)}`),a=parseFloat(o[`padding${r[0]}`]),s=parseFloat(o[`padding${r[1]}`]),_=parseFloat(o[`margin${r[0]}`]),g=parseFloat(o[`margin${r[1]}`]),h=parseFloat(o[`border${r[0]}Width`]),$=parseFloat(o[`border${r[1]}Width`]);return{delay:t,duration:e,easing:c,css:d=>`overflow: hidden;opacity: ${Math.min(d*20,1)*f};${v}: ${d*p}px;padding-${u[0]}: ${d*a}px;padding-${u[1]}: ${d*s}px;margin-${u[0]}: ${d*_}px;margin-${u[1]}: ${d*g}px;border-${u[0]}-width: ${d*h}px;border-${u[1]}-width: ${d*$}px;`}}function S(i,t){for(const e in t)i[e]=t[e];return i}function nt({fallback:i,...t}){const e=new Map,c=new Map;function n(f,v,p){const{delay:u=0,duration:r=m=>Math.sqrt(m)*30,easing:a=M}=S(S({},t),p),s=f.getBoundingClientRect(),_=v.getBoundingClientRect(),g=s.left-_.left,h=s.top-_.top,$=s.width/_.width,d=s.height/_.height,l=Math.sqrt(g*g+h*h),y=getComputedStyle(v),C=y.transform==="none"?"":y.transform,b=+y.opacity;return{delay:u,duration:typeof r=="function"?r(l):r,easing:a,css:(m,F)=>`
			   opacity: ${m*b};
			   transform-origin: top left;
			   transform: ${C} translate(${F*g}px,${F*h}px) scale(${m+(1-m)*$}, ${m+(1-m)*d});
		   `}}function o(f,v,p){return(u,r)=>(f.set(r.key,u),()=>{if(v.has(r.key)){const a=v.get(r.key);return v.delete(r.key),n(a,u,r)}return f.delete(r.key),i&&i(u,r,p)})}return[o(c,e,!1),o(e,c,!0)]}export{rt as a,nt as c,at as s,et as t};
