import{aC as _,i as t,ar as s,u as i}from"./DFPGRpXC.js";import{c as f}from"./DCkDXRag.js";import{u as l,c as j,d as k,e as b,f as x,r as y,g as w,h as $,p as C,i as v,j as M}from"./BFw9_pMC.js";const L=n=>{if(n.generic_params?.length){const e=n.generic_params.map(r=>{let h=r.name;return r.constraint&&(h+=` extends ${r.constraint}`),r.default_type&&(h+=` = ${r.default_type}`),h}).join(", ");return`${n.name}<${e}>`}return n.name},A=(n,e,r)=>{const h=e.replace("./",`${r}/`);return n.name==="default"?`import ${e.replace("./","").replace(/\.(js|ts|svelte)$/,"").split(/[-_]/).map(p=>p.charAt(0).toUpperCase()+p.slice(1)).join("")} from '${h}';`:`${n.kind==="type"?"import type ":"import "}{${n.name}} from '${h}';`};class E{#e=_();get module(){return t(this.#e)}set module(e){s(this.#e,e)}#t=_();get identifier_json(){return t(this.#t)}set identifier_json(e){s(this.#t,e)}#s=i(()=>this.module.pkg);get pkg(){return t(this.#s)}set pkg(e){s(this.#s,e)}#i=i(()=>this.module.path);get module_path(){return t(this.#i)}set module_path(e){s(this.#i,e)}#r=i(()=>this.identifier_json.name);get name(){return t(this.#r)}set name(e){s(this.#r,e)}#n=i(()=>this.identifier_json.kind);get kind(){return t(this.#n)}set kind(e){s(this.#n,e)}#o=i(()=>this.pkg.repo_url&&this.identifier_json.source_line?l(this.pkg.repo_url,`src/lib/${this.module_path}`,this.identifier_json.source_line):void 0);get url_github(){return t(this.#o)}set url_github(e){s(this.#o,e)}#h=i(()=>j(this.name));get url_api(){return t(this.#h)}set url_api(e){s(this.#h,e)}#a=i(()=>A(this.identifier_json,this.module_path,this.pkg.package_json.name));get import_statement(){return t(this.#a)}set import_statement(e){s(this.#a,e)}#_=i(()=>this.pkg.homepage_url?k(this.pkg.homepage_url,this.name):void 0);get url_api_full(){return t(this.#_)}set url_api_full(e){s(this.#_,e)}#u=i(()=>L(this.identifier_json));get display_name(){return t(this.#u)}set display_name(e){s(this.#u,e)}#p=i(()=>this.identifier_json.type_signature);get type_signature(){return t(this.#p)}set type_signature(e){s(this.#p,e)}#m=i(()=>this.identifier_json.doc_comment);get doc_comment(){return t(this.#m)}set doc_comment(e){s(this.#m,e)}#l=i(()=>this.identifier_json.deprecated_message);get deprecated_message(){return t(this.#l)}set deprecated_message(e){s(this.#l,e)}#d=i(()=>this.identifier_json.parameters);get parameters(){return t(this.#d)}set parameters(e){s(this.#d,e)}#g=i(()=>this.identifier_json.props);get props(){return t(this.#g)}set props(e){s(this.#g,e)}#c=i(()=>this.identifier_json.return_type);get return_type(){return t(this.#c)}set return_type(e){s(this.#c,e)}#f=i(()=>this.identifier_json.return_description);get return_description(){return t(this.#f)}set return_description(e){s(this.#f,e)}#j=i(()=>this.identifier_json.generic_params);get generic_params(){return t(this.#j)}set generic_params(e){s(this.#j,e)}#k=i(()=>this.identifier_json.extends);get extends(){return t(this.#k)}set extends(e){s(this.#k,e)}#b=i(()=>this.identifier_json.implements);get implements(){return t(this.#b)}set implements(e){s(this.#b,e)}#x=i(()=>this.identifier_json.throws);get throws(){return t(this.#x)}set throws(e){s(this.#x,e)}#y=i(()=>this.identifier_json.since);get since(){return t(this.#y)}set since(e){s(this.#y,e)}#w=i(()=>this.identifier_json.examples);get examples(){return t(this.#w)}set examples(e){s(this.#w,e)}#$=i(()=>this.identifier_json.see_also);get see_also(){return t(this.#$)}set see_also(e){s(this.#$,e)}#C=i(()=>this.identifier_json.members);get members(){return t(this.#C)}set members(e){s(this.#C,e)}#v=i(()=>this.identifier_json.properties);get properties(){return t(this.#v)}set properties(e){s(this.#v,e)}#M=i(()=>!!(this.examples&&this.examples.length>0));get has_examples(){return t(this.#M)}set has_examples(e){s(this.#M,e)}#L=i(()=>!!this.deprecated_message);get is_deprecated(){return t(this.#L)}set is_deprecated(e){s(this.#L,e)}#A=i(()=>!!this.doc_comment);get has_documentation(){return t(this.#A)}set has_documentation(e){s(this.#A,e)}#E=i(()=>!!(this.parameters&&this.parameters.length>0));get has_parameters(){return t(this.#E)}set has_parameters(e){s(this.#E,e)}#G=i(()=>!!(this.props&&this.props.length>0));get has_props(){return t(this.#G)}set has_props(e){s(this.#G,e)}#P=i(()=>!!(this.generic_params&&this.generic_params.length>0));get has_generics(){return t(this.#P)}set has_generics(e){s(this.#P,e)}constructor(e,r){this.module=e,this.identifier_json=r}}class G{#e=_();get pkg(){return t(this.#e)}set pkg(e){s(this.#e,e)}#t=_();get module_json(){return t(this.#t)}set module_json(e){s(this.#t,e)}#s=i(()=>this.module_json.path);get path(){return t(this.#s)}set path(e){s(this.#s,e)}#i=i(()=>"./"+this.path);get path_import(){return t(this.#i)}set path_import(e){s(this.#i,e)}#r=i(()=>this.module_json.module_comment);get module_comment(){return t(this.#r)}set module_comment(e){s(this.#r,e)}#n=i(()=>this.module_json.identifiers?this.module_json.identifiers.filter(e=>e.name!=="default").map(e=>new E(this,e)):[]);get identifiers(){return t(this.#n)}set identifiers(e){s(this.#n,e)}#o=i(()=>b(this.path));get url_api(){return t(this.#o)}set url_api(e){s(this.#o,e)}#h=i(()=>this.pkg.repo_url?l(this.pkg.repo_url,`src/lib/${this.path}`):void 0);get url_github(){return t(this.#h)}set url_github(e){s(this.#h,e)}#a=i(()=>!!(this.module_json.identifiers&&this.module_json.identifiers.length>0));get has_identifiers(){return t(this.#a)}set has_identifiers(e){s(this.#a,e)}#_=i(()=>!!this.module_json.module_comment);get has_module_comment(){return t(this.#_)}set has_module_comment(e){s(this.#_,e)}#u=i(()=>this.module_json.dependencies);get dependencies(){return t(this.#u)}set dependencies(e){s(this.#u,e)}#p=i(()=>this.module_json.dependents);get dependents(){return t(this.#p)}set dependents(e){s(this.#p,e)}constructor(e,r){this.pkg=e,this.module_json=r}get_identifier_by_name(e){return this.identifiers.find(r=>r.name===e)}}class O{#e=_();get package_json(){return t(this.#e)}set package_json(e){s(this.#e,e)}#t=_();get src_json(){return t(this.#t)}set src_json(e){s(this.#t,e)}#s=i(()=>this.package_json.name);get name(){return t(this.#s)}set name(e){s(this.#s,e)}#i=i(()=>x(this.package_json.name));get repo_name(){return t(this.#i)}set repo_name(e){s(this.#i,e)}#r=i(()=>(()=>{const e=y(this.package_json.repository);if(!e)throw Error("failed to parse pkg - `repo_url` is required in package_json");return e})());get repo_url(){return t(this.#r)}set repo_url(e){s(this.#r,e)}#n=i(()=>this.repo_url?w(this.repo_url):null);get owner_name(){return t(this.#n)}set owner_name(e){s(this.#n,e)}#o=i(()=>this.package_json.homepage??null);get homepage_url(){return t(this.#o)}set homepage_url(e){s(this.#o,e)}#h=i(()=>$(this.homepage_url,this.package_json.logo));get logo_url(){return t(this.#h)}set logo_url(e){s(this.#h,e)}#a=i(()=>this.package_json.logo_alt??`logo for ${this.repo_name}`);get logo_alt(){return t(this.#a)}set logo_alt(e){s(this.#a,e)}#_=i(()=>C(this.package_json));get published(){return t(this.#_)}set published(e){s(this.#_,e)}#u=i(()=>this.published?v(this.package_json.name):null);get npm_url(){return t(this.#u)}set npm_url(e){s(this.#u,e)}#p=i(()=>this.published&&this.repo_url?l(this.repo_url,"CHANGELOG.md"):null);get changelog_url(){return t(this.#p)}set changelog_url(e){s(this.#p,e)}#m=i(()=>M(this.repo_url,this.repo_name));get org_url(){return t(this.#m)}set org_url(e){s(this.#m,e)}#l=i(()=>this.src_json.modules?this.src_json.modules.map(e=>new G(this,e)):[]);get modules(){return t(this.#l)}set modules(e){s(this.#l,e)}#d=i(()=>[...this.modules].sort((e,r)=>e.path.localeCompare(r.path)));get modules_sorted(){return t(this.#d)}set modules_sorted(e){s(this.#d,e)}#g=i(()=>this.modules.flatMap(e=>e.identifiers));get identifiers(){return t(this.#g)}set identifiers(e){s(this.#g,e)}#c=i(()=>new Map(this.identifiers.map(e=>[e.name,e])));get identifier_map(){return t(this.#c)}set identifier_map(e){s(this.#c,e)}constructor(e,r){this.package_json=e,this.src_json=r}lookup_identifier(e){return this.identifier_map.get(e)}has_identifier(e){return this.identifier_map.has(e)}lookup_module(e){return this.modules.find(r=>r.path===e)}search_identifiers(e){return P(this.identifiers,e)}}const U=f(),P=(n,e)=>{if(!e.trim())return[];const r=e.trim().toLowerCase().split(/\s+/);return n.map(o=>{let a=0;for(const u of r){const p=m(o.name,u),g=m(o.kind,u),c=m(o.module_path,u),d=Math.max(p,g,c);if(d===0)return null;a+=d}return{identifier:o,score:a}}).filter(o=>o!==null).sort((o,a)=>a.score-o.score||o.identifier.name.localeCompare(a.identifier.name)).map(o=>o.identifier)},m=(n,e)=>{const r=n.toLowerCase();if(r===e)return 100;if(r.startsWith(e))return 80;if(r.includes(e))return 60;let h=0;for(const o of r)if(o===e[h]&&(h++,h===e.length))return 40;return 0};export{O as P,U as p};
