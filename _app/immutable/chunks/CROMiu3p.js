import{l as u,i as t,k as s,u as i}from"./BElm8bt9.js";import{c as g}from"./fJarm6ln.js";import{u as p,c as d,d as c,e as f,f as j,r as k,g as b,h as x,p as y,i as w,j as $}from"./Cy8as3sX.js";const v=n=>{if(n.generic_params?.length){const e=n.generic_params.map(r=>{let h=r.name;return r.constraint&&(h+=` extends ${r.constraint}`),r.default_type&&(h+=` = ${r.default_type}`),h}).join(", ");return`${n.name}<${e}>`}return n.name},C=(n,e,r)=>{const h=e.replace("./",`${r}/`);return n.name==="default"?`import ${e.replace("./","").replace(/\.(js|ts|svelte)$/,"").split(/[-_]/).map(_=>_.charAt(0).toUpperCase()+_.slice(1)).join("")} from '${h}';`:`${n.kind==="type"?"import type ":"import "}{${n.name}} from '${h}';`};class L{#e=u();get module(){return t(this.#e)}set module(e){s(this.#e,e)}#t=u();get identifier_json(){return t(this.#t)}set identifier_json(e){s(this.#t,e)}#s=i(()=>this.module.pkg);get pkg(){return t(this.#s)}set pkg(e){s(this.#s,e)}#i=i(()=>this.module.path);get module_path(){return t(this.#i)}set module_path(e){s(this.#i,e)}#r=i(()=>this.identifier_json.name);get name(){return t(this.#r)}set name(e){s(this.#r,e)}#n=i(()=>this.identifier_json.kind);get kind(){return t(this.#n)}set kind(e){s(this.#n,e)}#h=i(()=>this.pkg.repo_url&&this.identifier_json.source_line?p(this.pkg.repo_url,`src/lib/${this.module_path}`,this.identifier_json.source_line):void 0);get url_github(){return t(this.#h)}set url_github(e){s(this.#h,e)}#o=i(()=>d(this.name));get url_api(){return t(this.#o)}set url_api(e){s(this.#o,e)}#a=i(()=>C(this.identifier_json,this.module_path,this.pkg.package_json.name));get import_statement(){return t(this.#a)}set import_statement(e){s(this.#a,e)}#_=i(()=>this.pkg.homepage_url?c(this.pkg.homepage_url,this.name):void 0);get url_api_full(){return t(this.#_)}set url_api_full(e){s(this.#_,e)}#u=i(()=>v(this.identifier_json));get display_name(){return t(this.#u)}set display_name(e){s(this.#u,e)}#p=i(()=>this.identifier_json.type_signature);get type_signature(){return t(this.#p)}set type_signature(e){s(this.#p,e)}#l=i(()=>this.identifier_json.doc_comment);get doc_comment(){return t(this.#l)}set doc_comment(e){s(this.#l,e)}#m=i(()=>this.identifier_json.deprecated_message);get deprecated_message(){return t(this.#m)}set deprecated_message(e){s(this.#m,e)}#g=i(()=>this.identifier_json.parameters);get parameters(){return t(this.#g)}set parameters(e){s(this.#g,e)}#d=i(()=>this.identifier_json.props);get props(){return t(this.#d)}set props(e){s(this.#d,e)}#c=i(()=>this.identifier_json.return_type);get return_type(){return t(this.#c)}set return_type(e){s(this.#c,e)}#f=i(()=>this.identifier_json.return_description);get return_description(){return t(this.#f)}set return_description(e){s(this.#f,e)}#j=i(()=>this.identifier_json.generic_params);get generic_params(){return t(this.#j)}set generic_params(e){s(this.#j,e)}#k=i(()=>this.identifier_json.extends);get extends(){return t(this.#k)}set extends(e){s(this.#k,e)}#b=i(()=>this.identifier_json.implements);get implements(){return t(this.#b)}set implements(e){s(this.#b,e)}#x=i(()=>this.identifier_json.throws);get throws(){return t(this.#x)}set throws(e){s(this.#x,e)}#y=i(()=>this.identifier_json.since);get since(){return t(this.#y)}set since(e){s(this.#y,e)}#w=i(()=>this.identifier_json.examples);get examples(){return t(this.#w)}set examples(e){s(this.#w,e)}#$=i(()=>this.identifier_json.see_also);get see_also(){return t(this.#$)}set see_also(e){s(this.#$,e)}#v=i(()=>this.identifier_json.members);get members(){return t(this.#v)}set members(e){s(this.#v,e)}#C=i(()=>this.identifier_json.properties);get properties(){return t(this.#C)}set properties(e){s(this.#C,e)}#L=i(()=>!!(this.examples&&this.examples.length>0));get has_examples(){return t(this.#L)}set has_examples(e){s(this.#L,e)}#M=i(()=>!!this.deprecated_message);get is_deprecated(){return t(this.#M)}set is_deprecated(e){s(this.#M,e)}#q=i(()=>!!this.doc_comment);get has_documentation(){return t(this.#q)}set has_documentation(e){s(this.#q,e)}#A=i(()=>!!(this.parameters&&this.parameters.length>0));get has_parameters(){return t(this.#A)}set has_parameters(e){s(this.#A,e)}#E=i(()=>!!(this.props&&this.props.length>0));get has_props(){return t(this.#E)}set has_props(e){s(this.#E,e)}#G=i(()=>!!(this.generic_params&&this.generic_params.length>0));get has_generics(){return t(this.#G)}set has_generics(e){s(this.#G,e)}constructor(e,r){this.module=e,this.identifier_json=r}}class M{#e=u();get pkg(){return t(this.#e)}set pkg(e){s(this.#e,e)}#t=u();get module_json(){return t(this.#t)}set module_json(e){s(this.#t,e)}#s=i(()=>this.module_json.path);get path(){return t(this.#s)}set path(e){s(this.#s,e)}#i=i(()=>"./"+this.path);get path_import(){return t(this.#i)}set path_import(e){s(this.#i,e)}#r=i(()=>this.module_json.module_comment);get module_comment(){return t(this.#r)}set module_comment(e){s(this.#r,e)}#n=i(()=>this.module_json.identifiers?this.module_json.identifiers.filter(e=>e.name!=="default").map(e=>new L(this,e)):[]);get identifiers(){return t(this.#n)}set identifiers(e){s(this.#n,e)}#h=i(()=>f(this.path));get url_api(){return t(this.#h)}set url_api(e){s(this.#h,e)}#o=i(()=>this.pkg.repo_url?p(this.pkg.repo_url,`src/lib/${this.path}`):void 0);get url_github(){return t(this.#o)}set url_github(e){s(this.#o,e)}#a=i(()=>!!(this.module_json.identifiers&&this.module_json.identifiers.length>0));get has_identifiers(){return t(this.#a)}set has_identifiers(e){s(this.#a,e)}#_=i(()=>!!this.module_json.module_comment);get has_module_comment(){return t(this.#_)}set has_module_comment(e){s(this.#_,e)}constructor(e,r){this.pkg=e,this.module_json=r}get_identifier_by_name(e){return this.identifiers.find(r=>r.name===e)}}class q{#e=u();get package_json(){return t(this.#e)}set package_json(e){s(this.#e,e)}#t=u();get src_json(){return t(this.#t)}set src_json(e){s(this.#t,e)}#s=i(()=>this.package_json.name);get name(){return t(this.#s)}set name(e){s(this.#s,e)}#i=i(()=>j(this.package_json.name));get repo_name(){return t(this.#i)}set repo_name(e){s(this.#i,e)}#r=i(()=>(()=>{const e=k(this.package_json.repository);if(!e)throw Error("failed to parse pkg - `repo_url` is required in package_json");return e})());get repo_url(){return t(this.#r)}set repo_url(e){s(this.#r,e)}#n=i(()=>this.repo_url?b(this.repo_url):null);get owner_name(){return t(this.#n)}set owner_name(e){s(this.#n,e)}#h=i(()=>this.package_json.homepage??null);get homepage_url(){return t(this.#h)}set homepage_url(e){s(this.#h,e)}#o=i(()=>x(this.homepage_url,this.package_json.logo));get logo_url(){return t(this.#o)}set logo_url(e){s(this.#o,e)}#a=i(()=>this.package_json.logo_alt??`logo for ${this.repo_name}`);get logo_alt(){return t(this.#a)}set logo_alt(e){s(this.#a,e)}#_=i(()=>y(this.package_json));get published(){return t(this.#_)}set published(e){s(this.#_,e)}#u=i(()=>this.published?w(this.package_json.name):null);get npm_url(){return t(this.#u)}set npm_url(e){s(this.#u,e)}#p=i(()=>this.published&&this.repo_url?p(this.repo_url,"CHANGELOG.md"):null);get changelog_url(){return t(this.#p)}set changelog_url(e){s(this.#p,e)}#l=i(()=>$(this.repo_url,this.repo_name));get org_url(){return t(this.#l)}set org_url(e){s(this.#l,e)}#m=i(()=>this.src_json.modules?this.src_json.modules.map(e=>new M(this,e)):[]);get modules(){return t(this.#m)}set modules(e){s(this.#m,e)}#g=i(()=>[...this.modules].sort((e,r)=>e.path.localeCompare(r.path)));get modules_sorted(){return t(this.#g)}set modules_sorted(e){s(this.#g,e)}#d=i(()=>this.modules.flatMap(e=>e.identifiers));get identifiers(){return t(this.#d)}set identifiers(e){s(this.#d,e)}#c=i(()=>new Map(this.identifiers.map(e=>[e.name,e])));get identifier_map(){return t(this.#c)}set identifier_map(e){s(this.#c,e)}constructor(e,r){this.package_json=e,this.src_json=r}lookup_identifier(e){return this.identifier_map.get(e)}has_identifier(e){return this.identifier_map.has(e)}lookup_module(e){return this.modules.find(r=>r.path===e)}search_identifiers(e){if(!e.trim())return[];const r=this.identifiers,h=e.toLowerCase();return r.map(o=>{const a=o.name.toLowerCase();if(a===h)return{identifier:o,score:100};if(a.startsWith(h))return{identifier:o,score:80};if(a.includes(h))return{identifier:o,score:60};let _=0;for(const m of a)if(m===h[_]&&(_++,_===h.length))return{identifier:o,score:40};return null}).filter(o=>o!==null).sort((o,a)=>a.score-o.score).map(o=>o.identifier)}}const H=(n,e)=>new q(n,e),I=g();export{H as a,I as p};
