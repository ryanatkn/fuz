import"./DsnmJJEf.js";import{o as K}from"./BiMEMq_9.js";import{p as H,f as b,h as C,b as d,c as w,d as v,r as p,a as k,s as M,g as N,a7 as O,t as P,e as Q}from"./CCvlg-B_.js";import{i as R}from"./CnlpVXW1.js";import{e as U}from"./7QddI3L3.js";import{a as A,i as V,C as W}from"./B-Y-4wD6.js";import{r as D}from"./BJqY43jM.js";import{p as T}from"./Dc4Qq0li.js";import{d as E,c as y,e as X,r as Y}from"./BcSql5RE.js";import{i as Z,H as $}from"./DEouryAk.js";const L=y(),u=y(()=>0),x=y();var ee=b("<section><!></section>");function le(f,e){H(e,!0);const l=D(e,["$$slots","$$events","$$legacy","children"]),t=E.get(),n=u.get()+1;u.set(n);const i=x.get_maybe(),m=t.generate_section_id();x.set(m);let o;L.set(a=>(o=a,i));var s=ee();A(s,()=>({...l}));var c=v(s);C(c,()=>e.children),p(s),V(s,()=>Z(()=>({intersecting:a})=>{o&&(a?t.fragments_onscreen.add(o):t.fragments_onscreen.delete(o))})),d(f,s),w()}var te=b('<div class="flex_1"><!></div> <!>',1),se=b("<header><!></header>");function he(f,e){H(e,!0);const l=D(e,["$$slots","$$events","$$legacy","text","tag","children"]),t=X(e.text),h=L.get();if(!h)throw Error("Tome_Section_Header must be a child of Tome_Section");const n=E.get(),i=u.get(),m=e.tag??(i===1?"h2":i===2?"h3":"h4"),o=x.get(),s=h(t);let c;T.url.pathname!==Y(n.root_path)&&(c=n.add(t,e.text,T.url.pathname,m,i,s,o)),K(()=>{c&&n.remove(c)});var a=se(),j=v(a);U(j,()=>m,!1,(q,z)=>{A(q,()=>({...l,[W]:{tome_section_header:!0}}),void 0,void 0,"svelte-f673x0");var S=te(),g=k(S),B=v(g);{var F=r=>{var _=N(),J=k(_);C(J,()=>e.children),d(r,_)},G=r=>{var _=O();P(()=>Q(_,e.text)),d(r,_)};R(B,r=>{e.children?r(F):r(G,!1)})}p(g);var I=M(g,2);$(I,{get fragment(){return t}}),d(z,S)}),p(a),d(f,a),w()}export{le as T,he as a};
