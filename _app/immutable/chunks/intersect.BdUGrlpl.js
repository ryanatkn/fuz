var A=(r,t,s)=>{if(!t.has(r))throw TypeError("Cannot "+s)};var a=(r,t,s)=>(A(r,t,"read from private field"),s?s.call(r):t.get(r)),_=(r,t,s)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,s)};var D=(r,t,s)=>(A(r,t,"access private method"),s);import{q as F,u as K,n as T,aC as j,aD as M,E as d,Y as I,g as h,l as N,m as P,ao as R,p as U,f as Y,c as G,r as J,s as Q,t as V,a as W}from"./runtime.TFn0e1ji.js";import{p as k}from"./proxy.D6d6jnBM.js";import{b as X}from"./entry.GNWLnhlP.js";import{g as Z,a as w,c as $,t as ss}from"./disclose-version.7b59C0PR.js";import{i as es}from"./if.BCWWcCm1.js";import{s as ts,c as C}from"./attributes.BZkAnuRC.js";function ps(r,t,s){F(()=>{var e=K(()=>t(r,s==null?void 0:s())||{});if(s&&(e!=null&&e.update)){var i=!1,n={};T(()=>{var o=s();j(o),i&&M(n,o)&&(n=o,e.update(o))}),i=!0}if(e!=null&&e.destroy)return()=>e.destroy()})}function z(r){d(r,r.v+1)}var rs=["forEach","isDisjointFrom","isSubsetOf","isSupersetOf"],is=["difference","intersection","symmetricDifference","union"],H=!1,v,f,p,g,O;const x=class x extends Set{constructor(s){super();_(this,g);_(this,v,new Map);_(this,f,I(0));_(this,p,I(0));if(s){for(var e of s)super.add(e);a(this,p).v=super.size}H||D(this,g,O).call(this)}has(s){var e=super.has(s),i=a(this,v),n=i.get(s);if(n===void 0){if(!e)return h(a(this,f)),!1;n=I(!0),i.set(s,n)}return h(n),e}add(s){return super.has(s)||(super.add(s),d(a(this,p),super.size),z(a(this,f))),this}delete(s){var e=super.delete(s),i=a(this,v),n=i.get(s);return n!==void 0&&(i.delete(s),d(n,!1)),e&&(d(a(this,p),super.size),z(a(this,f))),e}clear(){if(super.size!==0){super.clear();var s=a(this,v);for(var e of s.values())d(e,!1);s.clear(),d(a(this,p),0),z(a(this,f))}}keys(){return this.values()}values(){return h(a(this,f)),super.values()}entries(){return h(a(this,f)),super.entries()}[Symbol.iterator](){return this.keys()}get size(){return h(a(this,p))}};v=new WeakMap,f=new WeakMap,p=new WeakMap,g=new WeakSet,O=function(){H=!0;var s=x.prototype,e=Set.prototype;for(const i of rs)s[i]=function(...n){return h(a(this,f)),e[i].apply(this,n)};for(const i of is)s[i]=function(...n){h(a(this,f));var o=e[i].apply(this,n);return new x(o)}};let L=x;const q="/library",_s=(r,t,s=q)=>{const e=t.split("/").at(-1);return{path:X+s+"/"+r,path_is_selected:e===r,path_segment:e}},B=Symbol("library_links"),vs=(r=new ns)=>N(B,r),bs=()=>{const r=P(B);if(!r)throw Error("get_library_links called before set_library_links");return r};var b,m;class ns{constructor(t=q){_(this,b,R(k([])));_(this,m,R(k(new L)));this.root_path=t}get library_links(){return h(a(this,b))}set library_links(t){d(a(this,b),k(t))}get slugs_onscreen(){return h(a(this,m))}set slugs_onscreen(t){d(a(this,m),k(t))}add(t,s,e,i){const n=this.library_links.findIndex(c=>c.id===t),o={id:t,text:s,slug:e,tag:i};n===-1?this.library_links.push(o):this.library_links[n]=o}remove(t){const s=this.library_links.findIndex(e=>e.id===t);return s===-1?!1:(this.library_links.splice(s,1),!0)}}b=new WeakMap,m=new WeakMap;var as=ss('<a class="hashlink svelte-1tcongx" aria-label="hashlink"><!></a> <span class="hashlink_scroll_target svelte-1tcongx" aria-hidden="true"></span>',1);function ms(r,t){U(t,!0);var s=as(),e=Y(s),i=G(e);es(i,()=>t.children,o=>{var c=$(),l=Y(c);ts(l,()=>t.children),w(o,c)},o=>{var c=Z("#");w(o,c)}),J(e);var n=Q(e,2);V(()=>{C(e,"href",`#${t.slug??""}`),C(n,"id",t.slug)}),w(r,s),W()}const ys=(r,t)=>{let s,e,i,n,o,c,l;const E=u=>{c=0,typeof u=="function"?(s=u,e=void 0,i=void 0,n=void 0):(s=u.onintersect,e=u.ondisconnect,i=u.count,n=u.options)},y=()=>{l&&(l.disconnect(),e&&e({intersecting:o,intersections:c,el:r,observer:l}),l=null)},S=()=>{l&&y(),i!==0&&(l=new IntersectionObserver(u=>{o=u[0].isIntersecting,s&&l&&s({intersecting:o,intersections:c,el:r,observer:l,disconnect:y}),o?c++:i&&i>0&&c>=i&&y()},n),l.observe(r))};return E(t),S(),{update:u=>{E(u),S()},destroy:y}};export{ms as H,ps as a,bs as g,ys as i,vs as s,_s as t};
